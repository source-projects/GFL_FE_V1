(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1ygn":function(t,e,i){"use strict";i.r(e),i.d(e,"BatchShuffleModule",(function(){return $}));var r=i("ofXK"),s=i("tyNb"),a=i("1G5W"),c=i("XNiG"),o=i("5+WD"),h=i("3Pt+"),l=i("O1SP"),n=i("4/8P"),d=i("fXoL"),u=i("tk/3");let m=(()=>{class t{constructor(t,e){this.httpClient=t,this.commonService=e}getBatchById(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/ByQualityAndPartyWithoutProductionPlan/"+t+"/"+e)}}return t.\u0275fac=function(e){return new(e||t)(d.rc(u.b),d.rc(n.a))},t.\u0275prov=d.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p=(()=>{class t{constructor(t,e){this.httpClient=t,this.commonService=e}getBatchById(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/"+t+"/"+e)}}return t.\u0275fac=function(e){return new(e||t)(d.rc(u.b),d.rc(n.a))},t.\u0275prov=d.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i("8k+d"),b=i("PW/x"),v=i("RNo3");let g=(()=>{class t{constructor(t,e){this.httpClient=t,this.commonService=e}updateBatchMerge(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch/MergeBatch",t)}updateBatchSplit(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch/SplitBatch",t)}}return t.\u0275fac=function(e){return new(e||t)(d.rc(u.b),d.rc(n.a))},t.\u0275prov=d.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=i("SapW"),j=i("5eHb"),P=i("aceb"),B=i("ZOsW");function F(t,e){if(1&t&&(d.jc(0,"ng-option",63),d.jc(1,"div",0),d.jc(2,"div",13),d.jc(3,"div",14),d.jd(4),d.ic(),d.ic(),d.jc(5,"div",13),d.jc(6,"div",15),d.jd(7),d.ic(),d.ic(),d.ic(),d.ic()),2&t){const t=e.$implicit;d.Hc("value",t.id),d.Pb(4),d.ld(" ",t.partyName,""),d.Pb(3),d.ld(" ",t.partyCode,"")}}function S(t,e){1&t&&(d.jc(0,"div",64),d.jc(1,"span"),d.jd(2,"Party Name is required."),d.ic(),d.ic())}function I(t,e){if(1&t&&(d.jc(0,"ng-option",63),d.jc(1,"div",0),d.jc(2,"div",20),d.jc(3,"div",14),d.jd(4),d.ic(),d.ic(),d.jc(5,"div",20),d.jc(6,"div",21),d.jd(7),d.ic(),d.ic(),d.jc(8,"div",20),d.jc(9,"div",15),d.jd(10),d.ic(),d.ic(),d.ic(),d.ic()),2&t){const t=e.$implicit;d.Hc("value",t.id?t.id:t.qualityEntryId),d.Pb(4),d.kd(t.partyName),d.Pb(3),d.kd(t.qualityId),d.Pb(3),d.kd(t.qualityName)}}function w(t,e){1&t&&(d.jc(0,"div",64),d.jc(1,"span"),d.jd(2,"Quality Name is required."),d.ic(),d.ic())}function N(t,e){if(1&t&&(d.jc(0,"ng-option",65),d.jd(1),d.ic()),2&t){const t=e.$implicit;d.Hc("value",t)("disabled",t.productionPlanned),d.Pb(1),d.ld("",t.batchId," ")}}function C(t,e){if(1&t&&(d.jc(0,"ng-option",63),d.jd(1),d.ic()),2&t){const t=e.$implicit;d.Hc("value",t),d.Pb(1),d.ld("",t.batchId," ")}}function k(t,e){if(1&t&&(d.jc(0,"div",69),d.jd(1),d.ic()),2&t){const t=d.yc().$implicit;d.Pb(1),d.md(" Meter: ",t.mtr," Weight: ",t.wt," ")}}function x(t,e){if(1&t&&(d.jc(0,"div",70),d.jd(1),d.ic()),2&t){const t=d.yc().$implicit;d.Pb(1),d.md(" Meter: ",t.mtr," Weight: ",t.wt," ")}}function q(t,e){if(1&t&&(d.jc(0,"div",66),d.hd(1,k,2,2,"div",67),d.hd(2,x,2,2,"div",68),d.ic()),2&t){const t=e.$implicit,i=d.yc();d.Pb(1),d.Hc("ngIf",t.batchId==i.batchId2),d.Pb(1),d.Hc("ngIf",t.batchId!=i.batchId2)}}function D(t,e){if(1&t&&(d.jc(0,"div",71),d.jd(1),d.ic()),2&t){const t=e.$implicit,i=d.yc();d.Hc("ngClass",t.batchId==i.batchId1?"batch-2":"example-box"),d.Pb(1),d.md(" Meter: ",t.mtr," Weight: ",t.wt," ")}}const L=function(t){return[t]};let U=(()=>{class t{constructor(t,e,i,r,s,a,o,l,n){this.partyService=t,this.shuffleService=e,this.qualityService=i,this.toastr=r,this.programService=s,this.formBuilder=a,this.batchByQualityPartyService=o,this.batchList=l,this.stockBatchService=n,this.flag=0,this.rval=1,this.btnFlag=0,this.setBatchFlag=0,this.formSubmitted=!1,this.part1=[],this.part2=[],this.updateFlag=0,this.qualityParty2=[],this.qualityPartyLeft=[],this.bId1=[],this.bId2=[],this.sum=0,this.batchDataList=[],this.mergeArray=[],this.objectOfBatch1={},this.objectOfBatch2={},this.destroy$=new c.a,this.shuffleForm=this.formBuilder.group({partyName:new h.c(null,h.v.required),qualityName:new h.c(null,h.v.required),batchName1:new h.c(null,h.v.required),batchName2:new h.c(null,h.v.required),totalmtr1:new h.c,totalmtr2:new h.c,totalwt1:new h.c,totalwt2:new h.c,updatedBy:new h.c(null),newBatchName:new h.c,totalrowsPart2:new h.c,totalrowsPart1:new h.c})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.flag=1,this.getPartyList(),this.getQualtiyList(),this.btnFlag=0,this.getCurrentBatchSequence()}getCurrentBatchSequence(){this.stockBatchService.getBatchSequence(!0).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.currentBatchSequence=t.data.sequence,this.currentBatchSeqId=t.data.id,this.shuffleForm.controls.newBatchName.setValue(this.currentBatchSequence))})}hasDropDownError(){return this.shuffleForm.controls.partyName.invalid&&this.shuffleForm.controls.partyName.touched?(this.flag=1,!0):this.shuffleForm.controls.partyName.valid&&2==this.rval?(this.flag=0,!1):void 0}hasDropDownError1(){return this.shuffleForm.controls.qualityName.invalid&&this.shuffleForm.controls.qualityName.touched?(this.flag=1,!0):this.shuffleForm.controls.qualityName.valid&&2==this.rval?(this.flag=0,!1):void 0}getPartyList(){this.partyService.getAllPartyNameList().pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.party=t.data)})}getQualtiyList(){this.qualityService.getAllQualityWithNameOnly().pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.quality=t.data)})}dropSelectParty(t){this.formSubmitted=!0,this.pId=this.shuffleForm.controls.partyName.value,null==t&&(this.shuffleForm.controls.batchName1.reset(),this.shuffleForm.controls.batchName2.reset(),this.batches=[],this.part1=[],this.part2=[],this.qualityParty=[],this.qualityParty2=[],this.qualityParty2[0]=[],this.quality=[],this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.shuffleForm.controls.qualityName.reset(),this.getQualtiyList(),this.getPartyList()),null!=this.pId&&this.qualityService.getQualityByParty(this.pId).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success?(this.shuffleForm.controls.qualityName.reset(),this.quality=t.data.qualityDataList,this.shuffleForm.controls.batchName1.reset(),this.shuffleForm.controls.batchName2.reset(),this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.part2=[],this.qualityParty2=[],this.qualityParty2[0]=[],this.batches=[]):this.toastr.error(t.msg)},t=>{this.toastr.error(l.Serever_Error)}),this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.getVal()}dropSelectQuality(t){if(this.formSubmitted=!0,this.qId=this.shuffleForm.controls.qualityName.value,null==t&&(this.shuffleForm.controls.batchName1.reset(),this.shuffleForm.controls.batchName2.reset(),this.batches=[],this.part1=[],this.part2=[],this.qualityParty=[],this.qualityParty2=[],this.qualityParty2[0]=[],this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.getPartyList()),null!=this.qId){let t;this.programService.getPartyByQuality(this.qId).pipe(Object(a.a)(this.destroy$)).subscribe(e=>{e.success?(t=e.data.partyName,this.shuffleForm.controls.partyName.setValue(t),this.pId=e.data.partyId):this.toastr.error(e.msg)},t=>{this.toastr.error(l.Serever_Error)})}this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.getVal()}onChange(t){switch(this.formSubmitted=!0,t){case 1:this.rval=1,this.flag=1,this.btnFlag=0,this.part2=[],this.qualityParty2=[],this.qualityParty2[0]=[],this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.getBatches(this.cId1,this.batchId1);break;case 2:this.rval=2,this.btnFlag=1,this.shuffleForm.controls.partyName.invalid&&this.shuffleForm.controls.qualityName.invalid?this.flag=1:(this.flag=0,this.shuffleForm.controls.batchName2.reset(),this.part2=[],this.qualityParty2[0]=[],this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.getVal(),this.getBatches(this.cId1,this.batchId1))}}getQualityParty(){this.batchByQualityPartyService.getBatchById(this.qId,this.pId).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.qualityParty=t.data,this.shuffleForm.controls.batchName1.valid&&(this.index=this.qualityParty.findIndex(t=>t.batchId===this.bId1.batchId),this.qualityParty2=[],this.qualityParty2.push(this.qualityParty),this.qualityParty2[0].splice(this.index,1)),this.shuffleForm.controls.batchName2.valid&&(this.index=this.qualityParty2.findIndex(t=>t.batchId===this.bId2.batchId),this.qualityParty=[],this.qualityParty.push(this.qualityParty),this.qualityParty[0].splice(this.index,1)))})}getVal(){null==this.shuffleForm.controls.qualityName.value?this.toastr.error("Please select a Quality"):null==this.shuffleForm.controls.partyName.value?this.toastr.error("Please select a Party"):this.getQualityParty()}findmtrsum(){for(this.sum=0,this.i=0;this.i<=this.batches.length-1;this.i++)this.sum+=this.batches[this.i].mtr,this.shuffleForm.patchValue({totalmtr1:this.sum.toFixed(2)});for(0==this.batches.length&&this.shuffleForm.patchValue({totalmtr1:this.sum.toFixed(2)}),this.sum=0,this.i=0;this.i<=this.part2.length-1;this.i++)this.sum+=this.part2[this.i].mtr,this.shuffleForm.patchValue({totalmtr2:this.sum.toFixed(2)});0==this.part2.length&&this.shuffleForm.patchValue({totalmtr2:this.sum.toFixed(2)})}findwtsum(){for(this.sum=0,this.i=0;this.i<=this.batches.length-1;this.i++)this.sum+=this.batches[this.i].wt,this.shuffleForm.patchValue({totalwt1:this.sum.toFixed(2)});for(0==this.batches.length&&this.shuffleForm.patchValue({totalwt1:this.sum.toFixed(2)}),this.sum=0,this.i=0;this.i<=this.part2.length-1;this.i++)this.sum+=this.part2[this.i].wt,this.shuffleForm.patchValue({totalwt2:this.sum.toFixed(2)});0==this.part2.length&&this.shuffleForm.patchValue({totalwt2:this.sum.toFixed(2)})}temp(){this.bId1=this.shuffleForm.controls.batchName1.value,null==this.shuffleForm.controls.batchName1.value&&(this.shuffleForm.controls.batchName2.reset(),this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.part2=[],this.qualityParty2=[],this.batches=[]),this.cId1=this.bId1.controlId,this.batchId1=this.bId1.batchId,this.getBatches(this.cId1,this.batchId1),this.shuffleForm.controls.batchName2.valid?this.getBatches1(this.cId2,this.batchId2):(this.part2=[],this.qualityParty2=[],this.qualityParty2[0]=[])}temp1(){this.bId2=this.shuffleForm.controls.batchName2.value,null==this.shuffleForm.controls.batchName2.value&&(this.part2=[],this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr2.reset()),this.cId2=this.bId2.controlId,this.batchId2=this.bId2.batchId,this.getBatches(this.cId1,this.batchId1),this.getBatches1(this.cId2,this.batchId2)}getBatches(t,e){this.shuffleForm.controls.batchName1.valid&&1==this.rval?this.batchList.getBatchById(t,e).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.batches=t.data,this.findmtrsum(),this.findwtsum(),this.shuffleForm.controls.totalrowsPart1.setValue(this.batches.length),this.shuffleForm.controls.totalrowsPart2.setValue(this.part2.length)),this.setBatchFlag=1}):2==this.rval&&this.shuffleForm.controls.batchName1.valid&&(this.setBatchFlag=1,this.batchList.getBatchById(t,e).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.batches=t.data,this.findmtrsum(),this.findwtsum(),this.shuffleForm.controls.totalrowsPart1.setValue(this.batches.length),this.shuffleForm.controls.totalrowsPart2.setValue(this.part2.length))}))}getBatches1(t,e){this.shuffleForm.controls.batchName1.valid&&1==this.rval?this.batchList.getBatchById(t,e).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.batches=t.data,this.findmtrsum(),this.findwtsum(),this.shuffleForm.controls.totalrowsPart1.setValue(this.batches.length),this.shuffleForm.controls.totalrowsPart2.setValue(this.part2.length)),this.setBatchFlag=1}):2==this.rval&&this.shuffleForm.controls.batchName2.valid&&this.batchList.getBatchById(t,e).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success&&(this.part2=t.data,this.findmtrsum(),this.findwtsum(),this.shuffleForm.controls.totalrowsPart1.setValue(this.batches.length),this.shuffleForm.controls.totalrowsPart2.setValue(this.part2.length))},t=>{})}drop(t){t.previousContainer===t.container?Object(o.d)(t.container.data,t.previousIndex,t.currentIndex):Object(o.e)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.updateFlag=1,this.findmtrsum(),this.findwtsum(),this.shuffleForm.controls.totalrowsPart1.setValue(this.batches.length),this.shuffleForm.controls.totalrowsPart2.setValue(this.part2.length)}splitsubmit(){if(0==this.part2.length||0==this.batches.length)this.toastr.error("No batch was splitted");else if(this.formSubmitted=!0,null==this.shuffleForm.controls.newBatchName.value)this.toastr.error("please enter New Batch name");else{var t=this.shuffleForm.controls.newBatchName.value;this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.shuffleForm.controls.batchName1.valid?(this.objectOfBatch1={batchDataList:this.batches,batchId:this.batchId1,controlId:this.cId1,isSplit:!1},this.objectOfBatch2={batchDataList:this.part2,batchId:t,controlId:this.cId1,isSplit:!0},this.mergeArray.push(this.objectOfBatch1),this.mergeArray.push(this.objectOfBatch2),this.shuffleService.updateBatchSplit(this.mergeArray).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success?(this.reset(),this.getCurrentBatchSequence(),this.toastr.success(l.Update_Success)):(this.mergeArray=[],this.toastr.error(t.msg),this.toastr.error(l.Update_Error))},t=>{this.mergeArray=[],this.toastr.error(l.Serever_Error)})):this.toastr.error("Please fill all the required fields")}}reset(){this.shuffleForm.controls.batchName1.reset(),this.shuffleForm.controls.partyName.reset(),this.shuffleForm.controls.qualityName.reset(),this.shuffleForm.controls.batchName2.reset(),this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.part2=[],this.qualityParty2=[],this.batches=[]}mergesubmit(){0==this.updateFlag?this.toastr.error("No batch was choosen to merge"):this.shuffleForm.controls.batchName1.value==this.shuffleForm.controls.batchName2.value?this.toastr.error("Cannot merge same batch"):(this.formSubmitted=!0,this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.shuffleForm.controls.batchName1.valid&&this.shuffleForm.controls.batchName2.valid?(this.objectOfBatch1={batchDataList:this.batches,batchId:this.batchId1,controlId:this.cId1},this.objectOfBatch2={batchDataList:this.part2,batchId:this.batchId2,controlId:this.cId2},this.mergeArray.push(this.objectOfBatch1),this.mergeArray.push(this.objectOfBatch2),this.shuffleService.updateBatchMerge(this.mergeArray).pipe(Object(a.a)(this.destroy$)).subscribe(t=>{t.success?(location.reload(),this.toastr.success(l.Update_Success)):(this.mergeArray=[],this.toastr.error(l.Update_Error))},t=>{this.mergeArray=[],this.toastr.error(l.Serever_Error)})):this.toastr.error("Please fill all the required fields"))}}return t.\u0275fac=function(e){return new(e||t)(d.dc(f.a),d.dc(g),d.dc(v.a),d.dc(j.b),d.dc(b.a),d.dc(h.b),d.dc(m),d.dc(p),d.dc(y.a))},t.\u0275cmp=d.Xb({type:t,selectors:[["ngx-shuffle"]],decls:131,vars:31,consts:[[1,"row"],[1,"col-md-12"],[1,"nb-style"],[1,"nb-header"],[1,"col-md-6"],[1,"nb-text"],[3,"formGroup"],["myForm",""],[1,"col-md-4"],[1,"form-group"],[1,"required"],["name","partyId","formControlName","partyName","placeholder","Party Name\n                ",1,"dropdown-name",3,"change"],["disabled","true"],[1,"col-md-6","col-6"],[1,"text-left","txt-ov-elips"],[1,"text-right","txt-ov-elips"],[3,"value",4,"ngFor","ngForOf"],["class","input-required",4,"ngIf"],[1,"col-md-5"],["name","qualityId","formControlName","qualityName","placeholder","Quality Name",1,"dropdown-name",3,"change"],[1,"col-md-4","col-4"],[1,"text-center","txt-ov-elips"],[1,"col-md-3"],[1,"form-group","mr-0","h-100","mobile-pd"],[1,"split-merged","h-100"],["checked","true",3,"value","valueChange"],[3,"value","valueChange"],[3,"hidden"],["name","batchId","formControlName","batchName1","placeholder","Batch Name",3,"click","change"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-md-6",3,"hidden"],["name","batchId","formControlName","batchName2",3,"change"],[1,"batch-shuffle"],[1,"col-md-6","col-12"],[1,"example-container"],[1,"batch-text"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["part1List","cdkDropList"],[1,"col-md-12","col-12"],["cdkDrag","",4,"ngFor","ngForOf"],[1,"container"],["type","text","formControlName","totalrowsPart1",1,"total-rows",3,"readonly"],[1,"t-12"],["cdkDropList","","cdkDrop","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["part2List","cdkDropList"],["cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-md-7","col-7"],["type","text","formControlName","totalrowsPart2",1,"total-rows",3,"readonly"],[1,"col-md-5","col-5","jus-con-center"],[1,"mtr-wei","enter-batch-id-2",3,"hidden"],[1,"col-md-3","col-3"],[1,"total-shuffle"],[1,"col-md-9","col-9"],[1,"batch-1-input"],[1,"text-batch-mtr"],["type","text","placeholder","Mtr.","formControlName","totalmtr1",1,"mtr-wei",3,"readonly"],["type","text","placeholder","Wt.","formControlName","totalwt1",1,"mtr-wei",3,"readonly"],[1,"col-md-9"],[1,"batch-2-input"],["type","text","placeholder","Mtr.","formControlName","totalmtr2",1,"mtr-wei",3,"readonly"],["type","text","placeholder","Wt.","formControlName","totalwt2",1,"mtr-wei",3,"readonly"],[1,"btn-split-merge"],[1,"btn","btn-primary","btn-sm","btn-design-save",3,"hidden","click"],[3,"value"],[1,"input-required"],[3,"value","disabled"],["cdkDrag",""],["class","batch-2",4,"ngIf"],["class","example-box",4,"ngIf"],[1,"batch-2"],[1,"example-box"],["cdkDrag","",3,"ngClass"]],template:function(t,e){if(1&t&&(d.jc(0,"div",0),d.jc(1,"div",1),d.jc(2,"nb-card",2),d.jc(3,"nb-card-header",3),d.jc(4,"div",0),d.jc(5,"div",4),d.jc(6,"h2",5),d.jd(7,"Batch-Shuffle"),d.ic(),d.ic(),d.ic(),d.ic(),d.jc(8,"nb-card-body"),d.jc(9,"form",6,7),d.jc(11,"div",0),d.jc(12,"div",8),d.jc(13,"div",9),d.jc(14,"label",10),d.jd(15,"Party Name:"),d.ic(),d.jc(16,"ng-select",11),d.uc("change",(function(t){return e.dropSelectParty(t)})),d.jc(17,"ng-option",12),d.jc(18,"div",0),d.jc(19,"div",13),d.jc(20,"div",14),d.jd(21,"Party Name "),d.ic(),d.ic(),d.jc(22,"div",13),d.jc(23,"div",15),d.jd(24," Party Code"),d.ic(),d.ic(),d.ic(),d.ic(),d.hd(25,F,8,3,"ng-option",16),d.ic(),d.hd(26,S,3,0,"div",17),d.ic(),d.ic(),d.jc(27,"div",18),d.jc(28,"div",9),d.jc(29,"label",10),d.jd(30,"Quality Name:"),d.ic(),d.jc(31,"ng-select",19),d.uc("change",(function(t){return e.dropSelectQuality(t)})),d.jc(32,"ng-option",12),d.jc(33,"div",0),d.jc(34,"div",20),d.jc(35,"div",14),d.jd(36,"Party Name"),d.ic(),d.ic(),d.jc(37,"div",20),d.jc(38,"div",21),d.jd(39,"Quality Id"),d.ic(),d.ic(),d.jc(40,"div",20),d.jc(41,"div",15),d.jd(42,"Quality Name"),d.ic(),d.ic(),d.ic(),d.ic(),d.hd(43,I,11,4,"ng-option",16),d.ic(),d.hd(44,w,3,0,"div",17),d.ic(),d.ic(),d.jc(45,"div",22),d.jc(46,"div",23),d.jc(47,"nb-radio-group",24),d.jc(48,"nb-radio",25),d.uc("valueChange",(function(t){return e.onChange(t)})),d.jd(49,"Split "),d.ic(),d.jc(50,"nb-radio",26),d.uc("valueChange",(function(t){return e.onChange(t)})),d.jd(51,"Merge"),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.jc(52,"div",0),d.jc(53,"div",8),d.jc(54,"div",9),d.jc(55,"label",10),d.jc(56,"span",27),d.jd(57," First "),d.ic(),d.jd(58,"Batch Name:"),d.ic(),d.jc(59,"ng-select",28),d.uc("click",(function(){return e.getVal()}))("change",(function(){return e.temp()})),d.hd(60,N,2,3,"ng-option",29),d.ic(),d.ic(),d.ic(),d.jc(61,"div",30),d.jc(62,"div",9),d.jc(63,"label",10),d.jd(64,"Second Batch Name:"),d.ic(),d.jc(65,"ng-select",31),d.uc("change",(function(){return e.temp1()})),d.hd(66,C,2,2,"ng-option",16),d.ic(),d.ic(),d.ic(),d.ic(),d.jc(67,"div",32),d.jc(68,"div",0),d.jc(69,"div",33),d.jc(70,"div",34),d.jc(71,"h2",35),d.jd(72,"Batch Part 1"),d.ic(),d.jc(73,"div",36,37),d.uc("cdkDropListDropped",(function(t){return e.drop(t)})),d.jc(75,"div",0),d.jc(76,"div",38),d.hd(77,q,3,2,"div",39),d.ic(),d.ic(),d.ic(),d.jc(78,"div",40),d.jc(79,"div",0),d.jc(80,"div",1),d.ec(81,"input",41),d.jc(82,"span",42),d.jd(83,"Total"),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.jc(84,"div",33),d.jc(85,"div",34),d.jc(86,"h2",35),d.jd(87,"Batch Part 2"),d.ic(),d.jc(88,"div",43,44),d.uc("cdkDropListDropped",(function(t){return e.drop(t)})),d.hd(90,D,2,3,"div",45),d.ic(),d.jc(91,"div",40),d.jc(92,"div",0),d.jc(93,"div",46),d.ec(94,"input",47),d.jc(95,"span",42),d.jd(96,"Total"),d.ic(),d.ic(),d.jc(97,"div",48),d.jc(98,"label",49),d.jd(99),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.jc(100,"div",0),d.jc(101,"div",4),d.jc(102,"div",0),d.jc(103,"div",50),d.jc(104,"div",51),d.jc(105,"label"),d.jd(106,"Total"),d.ic(),d.ic(),d.ic(),d.jc(107,"div",52),d.jc(108,"div",53),d.jc(109,"span",54),d.jd(110,"Mtr."),d.ic(),d.ec(111,"input",55),d.jc(112,"span",54),d.jd(113,"Wt."),d.ic(),d.ec(114,"input",56),d.ic(),d.ic(),d.ic(),d.ic(),d.jc(115,"div",4),d.jc(116,"div",0),d.jc(117,"div",57),d.jc(118,"div",58),d.jc(119,"span",54),d.jd(120,"Mtr."),d.ic(),d.ec(121,"input",59),d.jc(122,"span",54),d.jd(123,"Wt."),d.ic(),d.ec(124,"input",60),d.ic(),d.ic(),d.jc(125,"div",22),d.jc(126,"div",61),d.jc(127,"button",62),d.uc("click",(function(){return e.splitsubmit()})),d.jd(128,"Split"),d.ic(),d.jc(129,"button",62),d.uc("click",(function(){return e.mergesubmit()})),d.jd(130,"Merge"),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic(),d.ic()),2&t){const t=d.Uc(74),i=d.Uc(89);d.Pb(9),d.Hc("formGroup",e.shuffleForm),d.Pb(16),d.Hc("ngForOf",e.party),d.Pb(1),d.Hc("ngIf",e.formSubmitted&&e.hasDropDownError()),d.Pb(17),d.Hc("ngForOf",e.quality),d.Pb(1),d.Hc("ngIf",e.formSubmitted&&e.hasDropDownError1()),d.Pb(4),d.Hc("value",1),d.Pb(2),d.Hc("value",2),d.Pb(6),d.Hc("hidden",e.flag),d.Pb(4),d.Hc("ngForOf",e.qualityParty),d.Pb(1),d.Hc("hidden",e.flag),d.Pb(5),d.Hc("ngForOf",e.qualityParty2[0]),d.Pb(7),d.Hc("cdkDropListData",e.batches)("cdkDropListConnectedTo",d.Nc(27,L,i)),d.Pb(4),d.Hc("ngForOf",e.batches),d.Pb(4),d.Hc("readonly",!0),d.Pb(7),d.Hc("cdkDropListData",e.part2)("cdkDropListConnectedTo",d.Nc(29,L,t)),d.Pb(2),d.Hc("ngForOf",e.part2),d.Pb(4),d.Hc("readonly",!0),d.Pb(4),d.Hc("hidden",e.btnFlag),d.Pb(1),d.ld("Batch Id : ",e.currentBatchSequence,""),d.Pb(12),d.Hc("readonly",!0),d.Pb(3),d.Hc("readonly",!0),d.Pb(7),d.Hc("readonly",!0),d.Pb(3),d.Hc("readonly",!0),d.Pb(3),d.Hc("hidden",e.btnFlag),d.Pb(2),d.Hc("hidden",!e.btnFlag)}},directives:[P.u,P.x,P.t,h.x,h.m,h.f,B.a,h.l,h.d,B.c,r.m,r.n,P.eb,P.db,o.b,h.a,o.a,r.l],styles:[".example-container[_ngcontent-%COMP%]{width:100%;padding:0 50px}.example-list[_ngcontent-%COMP%]{border:3px solid #a03636;min-height:60px;background:#fff;border-radius:0 0 20px 20px;overflow:hidden;display:block;border-top:0;padding:0 10px}.batch-2[_ngcontent-%COMP%]{margin:12px;text-align:center;padding:7px 15px;border:1px solid #5e5b5e;background:#06c;color:#fff;border-radius:20px;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),t})();const O=[{path:"",component:U},{path:"shuffle",component:U}];let H=(()=>{class t{}return t.\u0275mod=d.bc({type:t}),t.\u0275inj=d.ac({factory:function(e){return new(e||t)},imports:[[s.g.forChild(O)],s.g]}),t})();var Q=i("yzeJ"),A=i("vTDv");let $=(()=>{class t{}return t.\u0275mod=d.bc({type:t}),t.\u0275inj=d.ac({factory:function(e){return new(e||t)},imports:[[r.c,H,Q.a,h.g,A.a,P.y,o.c,h.s]]}),t})()},"PW/x":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i("4/8P"),s=i("fXoL"),a=i("tk/3");let c=(()=>{class t{constructor(t,e){this.httpClient=t,this.commonService=e}getProgramList(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/program/all/"+e+"/"+t)}getAllMasters(){return this.httpClient.get(this.commonService.envUrl()+"api/userHead")}deleteProgramDetailsById(t){return this.httpClient.delete(this.commonService.envUrl()+"api/program/"+t)}saveProgram(t){return this.httpClient.post(this.commonService.envUrl()+"api/program",t)}updateProgram(t){return this.httpClient.put(this.commonService.envUrl()+"api/program",t)}getProgramDetailsById(t){return this.httpClient.get(this.commonService.envUrl()+"api/program/"+t)}getShadeDetail(){return this.httpClient.get(this.commonService.envUrl()+"api/program/PartyShadeDetailPartyWise")}getBatchDetailByQualityId(t){return this.httpClient.get(this.commonService.envUrl()+"api/program/BatchData/"+t)}getStockQualityList(t){return this.httpClient.get(this.commonService.envUrl()+"api/program/StockQuality/"+t)}getQualityByParty(t){return this.httpClient.get(this.commonService.envUrl()+"api/Quality/ByParty/"+t)}getPartyByQuality(t){return this.httpClient.get(this.commonService.envUrl()+"api/party/ByQuality/"+t)}getAllStock(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/all/all/0")}getAllStockWithourProductionPlan(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/getAllStockWithoutPlan")}getAllBatch(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/all")}getBatchByParty(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batchListByPartyWithoutProductionPlan/"+t)}getBatchByQuality(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batchListByQualityWithoutProductionPlan/"+t)}}return t.\u0275fac=function(e){return new(e||t)(s.rc(a.b),s.rc(r.a))},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},SapW:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i("4/8P"),s=i("fXoL"),a=i("tk/3");let c=(()=>{class t{constructor(t,e){this.httpClient=t,this.commonService=e}isBatchIdExists(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/isBatchExists/"+t+"/"+e)}isPchallanExists(t,e){return this.httpClient.get(this.commonService.envUrl()+`api/stockBatch/exist/pchallan?partyId=${t}&pchallanRef=${e}`)}addPchallan(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/add/pchallan",t)}updatePchallan(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch/update/pchallan",t)}deleteStockBatchById(t){return this.httpClient.delete(this.commonService.envUrl()+"api/stockBatch/"+t)}getAllStockBatchList(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/all/"+e+"/"+t)}getAllStockBatchList1(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/allpaginated",t)}getAvailableStockBatchList(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/pending/all/"+e+"/"+t)}getShortStockReport(t){return this.httpClient.post(this.commonService.envUrl()+"api/dispatch/report/forConslidateBill",t)}getDetailedStockReport(t){return this.httpClient.post(this.commonService.envUrl()+"api/dispatch/filter/getBill",t)}addStockBatch(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch",t)}updateStockBatch(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch",t)}getStockBatchById(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/"+t)}getAllBatch(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/all")}getBatchById(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/ByQualityAndParty/"+e+"/"+t)}getAllBatchForAdditionSlip(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/forAdditionalSlip")}getJobCardData(t){return this.httpClient.get(`${this.commonService.envUrl()}api/stockBatch/get/getJobCardBy?batchId=${t}`)}getBatchSequence(t){return this.httpClient.get(this.commonService.envUrl()+"api/admin/get/batchSequence?update="+t)}updateBatchSequence(t){return this.httpClient.put(this.commonService.envUrl()+"api/admin/update/batchSequence/",t)}getBatchesByPartyQuality(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/ByQualityAndPartyWithProductionPlan/"+t+"/"+e)}getBatchGRById(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/"+t+"/"+t)}returnLotPost(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/add/returnBatch",t)}returnLotgetById(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/get/returnBatch?chlNo="+t)}returnLotgetAll(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/all/returnBatch")}returnLotgetAllPaginated(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/all/returnBatch/allPaginated",t)}getConslidateBatchResponse(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/pending/forConslidateBatchResponse",t)}}return t.\u0275fac=function(e){return new(e||t)(s.rc(a.b),s.rc(r.a))},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);