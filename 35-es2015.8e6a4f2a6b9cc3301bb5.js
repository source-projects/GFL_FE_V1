(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{DvbU:function(e,t,i){"use strict";i.r(t),i.d(t,"ProcessModule",(function(){return Je}));var c=i("ofXK"),n=i("tyNb"),o=i("O1SP"),s=i("rTU5"),r=i("4/8P"),d=i("RWgp"),a=i("lvCO"),l=i("fXoL"),u=i("5eHb");let p=(()=>{class e{constructor(e,t,i,c,n,s){this.commonService=e,this.jwtToken=t,this.storeTokenService=i,this.toastr=c,this._router=n,this.auth=s,this.errorData=o}canActivate(e,t){this.jwtToken.setToken(this.storeTokenService.get("token"));var i=this.jwtToken.getDecodeToken("process");this.permis=this.commonService.decToBin(i);let c=e.data.PermissionName;if(1==c.length)switch(c[0]){case"view":return"1"==this.permis[0]||(this._router.navigate(["/pages"]),!1);case"add":return"1"==this.permis[1]||(this._router.navigate(["/pages/color/view"]),!1);case"edit":return"1"==this.permis[2]||(this._router.navigate(["/pages"]),!1);case"delete":return"1"==this.permis[3]||(this._router.navigate(["/pages"]),!1);case"view group":return"1"==this.permis[4]||(this._router.navigate(["/pages"]),!1);case"edit group":return"1"==this.permis[5]||(this._router.navigate(["/pages"]),!1);case"delete group":return"1"==this.permis[6]||(this._router.navigate(["/pages"]),!1);case"view all":return"1"==this.permis[7]||(this._router.navigate(["/pages"]),!1);case"edit all":return"1"==this.permis[8]||(this._router.navigate(["/pages"]),!1);case"delete all":return"1"==this.permis[9]||(this._router.navigate(["/pages"]),!1)}else if(3==c.length)return"1"==this.permis[0]||"1"==this.permis[4]||"1"==this.permis[7]||(this._router.navigate(["/pages"]),!1)}canLoad(e,t){this.jwtToken.setToken(this.storeTokenService.get("token"));var i=this.jwtToken.getDecodeToken("process");let c=this.commonService.decToBin(i);return"1"==c[0]||"1"==c[4]||"1"==c[7]||(this.toastr.error(o.NoPermission),!1)}accessRights(e){this.jwtToken.setToken(this.storeTokenService.get("token"));var t=this.jwtToken.getDecodeToken("process");switch(this.permis=this.commonService.decToBin(t),e){case"view":return"1"==this.permis[0];case"add":return"1"==this.permis[1];case"edit":return"1"==this.permis[2];case"delete":return"1"==this.permis[3];case"view group":return"1"==this.permis[4];case"edit group":return"1"==this.permis[5];case"delete group":return"1"==this.permis[6];case"view all":return"1"==this.permis[7];case"edit all":return"1"==this.permis[8];case"delete all":return"1"==this.permis[9]}}}return e.\u0275fac=function(t){return new(t||e)(l.rc(r.a),l.rc(d.a),l.rc(a.a),l.rc(u.b),l.rc(n.c),l.rc(s.a))},e.\u0275prov=l.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i("1G5W"),m=i("5+WD");class g{}class f{constructor(){this.haveDose=!1,this.isDosingControl=!1,this.isOperatorMessage=!1,this.isPumpControl=!1,this.isTempControl=!1,this.isWaterControl=!1,this.jetLevel=!1}}class b{}class j{constructor(){this.funcValue=""}}class v{constructor(){this.haveDose=!1,this.fillType="Pre Fill Machine Water",this.dosingPercentage="Level 1",this.doseWhileHeating=!1,this.doseType="",this.dosingChemical=[]}}class y{}class C{constructor(){this.pressure=!1}}class P{}class M{constructor(){this.type="",this.waterType="",this.drainType="",this.fabricRatio=0,this.jetLevel=!1}}class F{}var k=i("tk/3");let w=(()=>{class e{constructor(e,t){this.httpClient=e,this.commonService=t}getProcessById(e){return this.httpClient.get(this.commonService.envUrl()+"api/qualityprocess/"+e)}getAllProcessList(e,t){return this.httpClient.get(this.commonService.envUrl()+"api/qualityprocess/all/"+e+"/"+t)}getAllItemWithSupplier(){return this.httpClient.get(this.commonService.envUrl()+"api/supplier/getItemWithSupplierName/all")}saveProcess(e){return this.httpClient.post(this.commonService.envUrl()+"api/qualityprocess",e)}deleteProcess(e){return this.httpClient.delete(this.commonService.envUrl()+"api/qualityProcess/"+e)}updateProcess(e){return this.httpClient.put(this.commonService.envUrl()+"api/qualityprocess",e)}}return e.\u0275fac=function(t){return new(t||e)(l.rc(k.b),l.rc(r.a))},e.\u0275prov=l.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=i("2V/h"),O=i("XNiG"),I=i("1kSV"),L=i("3Pt+"),T=i("aceb");function H(e,t){if(1&e&&(l.jc(0,"option",20),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e.id),l.Pb(1),l.ld(" ",e.name," ")}}function N(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Function Name is required. "),l.ic())}function x(e,t){if(1&e&&(l.jc(0,"option",22),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e),l.Pb(1),l.kd(e)}}function D(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Function Position is required. "),l.ic())}function V(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"span"),l.jd(2),l.ic(),l.jd(3,"\xa0"),l.jc(4,"span"),l.jd(5),l.ic(),l.ic()),2&e){const e=t.$implicit,i=t.index;l.Pb(2),l.ld("",i+1,"."),l.Pb(3),l.kd(e.funcName)}}function A(e,t){if(1&e&&(l.jc(0,"div",23),l.jc(1,"div",8),l.jc(2,"h5",24),l.jd(3,"Current Functions:"),l.ic(),l.hd(4,V,6,2,"div",25),l.ic(),l.ic()),2&e){const e=l.yc();l.Pb(4),l.Hc("ngForOf",e.functionList)}}function X(e,t){if(1&e&&(l.jc(0,"option",22),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e.id),l.Pb(1),l.kd(e.name)}}function W(e,t){if(1&e&&(l.jc(0,"option",22),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e.id),l.Pb(1),l.kd(e.name)}}function $(e,t){if(1&e){const e=l.kc();l.jc(0,"div",23),l.jc(1,"div",8),l.jc(2,"nb-checkbox",36),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc(2).dosing.doseWhileHeating=t})),l.jd(3," Dose while Heating "),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.yc(2);l.Pb(2),l.Hc("ngModel",e.dosing.doseWhileHeating)}}function R(e,t){if(1&e&&(l.jc(0,"option",48),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e.itemId),l.Pb(1),l.md(" ",e.itemName," - ",e.supplierName," ")}}const U=function(){return{type:"zoom"}},_=function(e){return{animation:e}};function q(e,t){if(1&e){const e=l.kc();l.jc(0,"tr"),l.jc(1,"td"),l.jc(2,"select",38,39),l.uc("ngModelChange",(function(i){return l.Xc(e),t.$implicit.itemId=i}))("change",(function(i){l.Xc(e);const c=t.index;return l.yc(3).itemSelected(i,c)})),l.hd(4,R,2,3,"option",40),l.ic(),l.ic(),l.jc(5,"td"),l.jc(6,"input",41,42),l.uc("ngModelChange",(function(i){return l.Xc(e),t.$implicit.supplierName=i}))("keyup",(function(i){l.Xc(e);const c=t.index;return l.yc(3).onKeyUp(i,c,1,"supplierName")})),l.ic(),l.ic(),l.jc(8,"td"),l.jc(9,"input",43,44),l.uc("ngModelChange",(function(i){return l.Xc(e),t.$implicit.concentration=i}))("keyup",(function(i){l.Xc(e);const c=t.index;return l.yc(3).onKeyUp(i,c,2,"concentration")})),l.ic(),l.ic(),l.jc(11,"td"),l.jc(12,"input",45,46),l.uc("ngModelChange",(function(i){return l.Xc(e),t.$implicit.lrOrFabricWt=i}))("keyup",(function(i){l.Xc(e);const c=t.index;return l.yc(3).onKeyUp(i,c,3,"lrOrFabricWt")})),l.ic(),l.ic(),l.jc(14,"td"),l.jc(15,"nb-icon",47),l.uc("click",(function(){l.Xc(e);const i=t.index;return l.yc(3).removeItem(i)})),l.ic(),l.ic(),l.ic()}if(2&e){const e=t.$implicit,i=t.index,c=l.yc(3);l.Pb(2),l.Jc("name","itemId",i,""),l.Hc("ngModel",e.itemId),l.Pb(2),l.Hc("ngForOf",c.itemListArray),l.Pb(2),l.Jc("name","supplierName",i,""),l.Hc("ngModel",e.supplierName)("id","supplierList"+i+"-1"),l.Pb(3),l.Jc("name","concentration",i,""),l.Hc("ngModel",e.concentration)("id","supplierList"+i+"-2"),l.Pb(3),l.Jc("name","lrOrFabricWt",i,""),l.Hc("ngModel",e.lrOrFabricWt)("id","itemList"+i+"-3"),l.Pb(3),l.Hc("options",l.Nc(14,_,l.Mc(13,U)))}}function E(e,t){if(1&e&&(l.jc(0,"div",6),l.jc(1,"div",28),l.jc(2,"table",37),l.jc(3,"tr"),l.jc(4,"th"),l.jd(5,"Item name"),l.ic(),l.jc(6,"th"),l.jd(7,"Supplier name"),l.ic(),l.jc(8,"th"),l.jd(9,"Concentration"),l.ic(),l.jc(10,"th"),l.jd(11,"LR/F.WT"),l.ic(),l.jc(12,"th"),l.jd(13,"Action"),l.ic(),l.ic(),l.hd(14,q,16,16,"tr",25),l.ic(),l.ic(),l.ic()),2&e){const e=l.yc(2);l.Pb(14),l.Hc("ngForOf",e.dosing.dosingChemical)}}function z(e,t){if(1&e){const e=l.kc();l.jc(0,"div"),l.jc(1,"div",6),l.jc(2,"div",7),l.jc(3,"div",8),l.jc(4,"label"),l.jd(5,"Fill Side Tank "),l.ic(),l.jc(6,"select",26),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().dosing.fillType=t})),l.hd(7,X,2,2,"option",15),l.ic(),l.ic(),l.ic(),l.jc(8,"div",7),l.jc(9,"div",8),l.jc(10,"label"),l.jd(11,"Fill Side Tank Level"),l.ic(),l.jc(12,"select",27),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().dosing.dosingPercentage=t})),l.hd(13,W,2,2,"option",15),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(14,"div",6),l.jc(15,"div",28),l.jc(16,"div",8),l.jc(17,"p",29),l.jd(18,"(Will dose after Operator Confirmation)"),l.ic(),l.ic(),l.ic(),l.jc(19,"div",7),l.jc(20,"div",8),l.jc(21,"nb-checkbox",30),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().dosing.haveDose=t})),l.jd(22," dose at Temp(C) "),l.jc(23,"input",31),l.uc("keypress",(function(t){return l.Xc(e),l.yc().numberOnly(t)}))("ngModelChange",(function(t){return l.Xc(e),l.yc().dosing.doseAtTemp=t})),l.ic(),l.ic(),l.ic(),l.ic(),l.hd(24,$,4,1,"div",16),l.ic(),l.jc(25,"div",6),l.jc(26,"div",8),l.jd(27,"\xa0\xa0\xa0 "),l.jc(28,"label"),l.jd(29,"Dose Type"),l.ic(),l.jc(30,"nb-radio-group",32),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().dosing.doseType=t}))("valueChange",(function(){return l.Xc(e),l.yc().onDoseTypeChange()})),l.jc(31,"nb-radio",33),l.jd(32,"Chemical"),l.ic(),l.jc(33,"nb-radio",34),l.jd(34,"Color"),l.ic(),l.ic(),l.ic(),l.ic(),l.hd(35,E,15,1,"div",35),l.ic()}if(2&e){const e=l.yc();l.Pb(6),l.Hc("ngModel",e.dosing.fillType),l.Pb(1),l.Hc("ngForOf",e.fillList),l.Pb(5),l.Hc("ngModel",e.dosing.dosingPercentage),l.Pb(1),l.Hc("ngForOf",e.fillLevelList),l.Pb(8),l.Hc("ngModel",e.dosing.haveDose),l.Pb(2),l.Hc("ngModel",e.dosing.doseAtTemp),l.Pb(1),l.Hc("ngIf","chemical"===e.dosing.doseType),l.Pb(6),l.Hc("ngModel",e.dosing.doseType),l.Pb(5),l.Hc("ngIf",null!=e.dosing.doseType&&"chemical"===e.dosing.doseType)}}function B(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Required "),l.ic())}function J(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Required "),l.ic())}function G(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Required "),l.ic())}const K=function(e){return{"is-invalid":e}};function Z(e,t){if(1&e){const e=l.kc();l.jc(0,"div"),l.jc(1,"div",6),l.jc(2,"div",49),l.jc(3,"div",8),l.jc(4,"label"),l.jd(5,"S V (Set Value)(C)"),l.ic(),l.jc(6,"input",50,51),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().tempratureControl.setValue=t}))("keypress",(function(t){return l.Xc(e),l.yc().numberOnly(t)})),l.ic(),l.hd(8,B,2,0,"div",12),l.ic(),l.ic(),l.jc(9,"div",23),l.jc(10,"div",8),l.jc(11,"label"),l.jd(12,"Rate of Rise (C/minute)"),l.ic(),l.jc(13,"input",52,53),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().tempratureControl.rateOfRise=t}))("keypress",(function(t){return l.Xc(e),l.yc().numberOnly(t)})),l.ic(),l.hd(15,J,2,0,"div",12),l.ic(),l.ic(),l.jc(16,"div",54),l.jc(17,"div",8),l.jc(18,"label"),l.jd(19,"Hold Time"),l.ic(),l.jc(20,"input",55,56),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().tempratureControl.holdTime=t}))("keypress",(function(t){return l.Xc(e),l.yc().numberOnly(t)})),l.ic(),l.hd(22,G,2,0,"div",12),l.ic(),l.ic(),l.ic(),l.jc(23,"div",6),l.jc(24,"div",8),l.jc(25,"div",57),l.jd(26," \xa0\xa0\xa0 "),l.jc(27,"nb-checkbox",58),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().tempratureControl.pressure=t})),l.jd(28," Pressure (Above 80 C) "),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.Uc(7),t=l.Uc(14),i=l.Uc(21),c=l.yc();l.Pb(6),l.Hc("ngModel",c.tempratureControl.setValue)("ngClass",l.Nc(10,K,e.invalid&&(c.modalSubmitted||e.touched))),l.Pb(2),l.Hc("ngIf",e.invalid&&(c.modalSubmitted||e.touched)),l.Pb(5),l.Hc("ngModel",c.tempratureControl.rateOfRise)("ngClass",l.Nc(12,K,t.invalid&&(c.modalSubmitted||t.touched))),l.Pb(2),l.Hc("ngIf",t.invalid&&(c.modalSubmitted||t.touched)),l.Pb(5),l.Hc("ngModel",c.tempratureControl.holdTime)("ngClass",l.Nc(14,K,i.invalid&&(c.modalSubmitted||i.touched))),l.Pb(2),l.Hc("ngIf",i.invalid&&(c.modalSubmitted||i.touched)),l.Pb(5),l.Hc("ngModel",c.tempratureControl.pressure)}}function Q(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Required "),l.ic())}function Y(e,t){if(1&e){const e=l.kc();l.jc(0,"div"),l.jc(1,"div",6),l.jc(2,"div",49),l.jc(3,"div",8),l.jc(4,"label"),l.jd(5,"Pump Speed(%)"),l.ic(),l.jc(6,"input",59,60),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().pumpControl.pumpSpeed=t}))("keypress",(function(t){return l.Xc(e),l.yc().numberOnly(t)})),l.ic(),l.hd(8,Q,2,0,"div",12),l.ic(),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.Uc(7),t=l.yc();l.Pb(6),l.Hc("ngModel",t.pumpControl.pumpSpeed)("ngClass",l.Nc(3,K,e.invalid&&(t.modalSubmitted||e.touched))),l.Pb(2),l.Hc("ngIf",e.invalid&&(t.modalSubmitted||e.touched))}}function ee(e,t){if(1&e&&(l.jc(0,"nb-radio",22),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e.id),l.Pb(1),l.kd(e.name)}}function te(e,t){if(1&e){const e=l.kc();l.jc(0,"div",6),l.jc(1,"div",65),l.jc(2,"div",66),l.jc(3,"label"),l.jd(4,"Fill By Fabric Ratio"),l.ic(),l.jc(5,"input",67),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc(3).waterControl.fabricRatio=t})),l.ic(),l.ic(),l.ic(),l.jc(6,"div",68),l.jc(7,"div",69),l.jc(8,"nb-checkbox",70),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc(3).waterControl.jetLevel=t})),l.jd(9,"Jet Level "),l.ic(),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.yc(3);l.Pb(5),l.Hc("ngModel",e.waterControl.fabricRatio),l.Pb(3),l.Hc("ngModel",e.waterControl.jetLevel)}}function ie(e,t){if(1&e){const e=l.kc();l.jc(0,"div",6),l.jc(1,"div",28),l.jc(2,"div",8),l.jc(3,"label"),l.jd(4,"Water Type"),l.ic(),l.jc(5,"nb-radio-group",64),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc(2).waterControl.waterType=t})),l.hd(6,ee,2,2,"nb-radio",15),l.ic(),l.ic(),l.ic(),l.hd(7,te,10,2,"div",35),l.ic()}if(2&e){const e=l.yc(2);l.Pb(5),l.Hc("ngModel",e.waterControl.waterType),l.Pb(1),l.Hc("ngForOf",e.waterList),l.Pb(1),l.Hc("ngIf","water"===e.waterControl.type)}}function ce(e,t){if(1&e&&(l.jc(0,"nb-radio",22),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e.id),l.Pb(1),l.kd(e.name)}}function ne(e,t){if(1&e){const e=l.kc();l.jc(0,"div",6),l.jc(1,"div",28),l.jc(2,"div",8),l.jc(3,"label"),l.jd(4,"Drain Type"),l.ic(),l.jc(5,"nb-radio-group",71),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc(2).waterControl.drainType=t})),l.hd(6,ce,2,2,"nb-radio",15),l.ic(),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.yc(2);l.Pb(5),l.Hc("ngModel",e.waterControl.drainType),l.Pb(1),l.Hc("ngForOf",e.drainTypeList)}}function oe(e,t){if(1&e){const e=l.kc();l.jc(0,"div"),l.jc(1,"div",6),l.jc(2,"div",49),l.jc(3,"div",8),l.jc(4,"label"),l.jd(5,"Control Type"),l.ic(),l.jc(6,"nb-radio-group",61),l.uc("valueChange",(function(){return l.Xc(e),l.yc().onWaterTypeChange()}))("ngModelChange",(function(t){return l.Xc(e),l.yc().waterControl.type=t})),l.jc(7,"nb-radio",62),l.jd(8,"Water"),l.ic(),l.jc(9,"nb-radio",63),l.jd(10,"Drain"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.hd(11,ie,8,3,"div",35),l.hd(12,ne,7,2,"div",35),l.ic()}if(2&e){const e=l.yc();l.Pb(6),l.Hc("ngModel",e.waterControl.type),l.Pb(5),l.Hc("ngIf","water"===e.waterControl.type),l.Pb(1),l.Hc("ngIf","drain"===e.waterControl.type)}}function se(e,t){if(1&e&&(l.jc(0,"option",22),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e.id),l.Pb(1),l.ld("",e.name," ")}}function re(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Required "),l.ic())}function de(e,t){1&e&&(l.jc(0,"div",21),l.jd(1," Required "),l.ic())}function ae(e,t){if(1&e){const e=l.kc();l.jc(0,"div"),l.jc(1,"div",6),l.jc(2,"div",65),l.jc(3,"div",8),l.jc(4,"label"),l.jd(5,"Operator Message "),l.ic(),l.jc(6,"select",72,73),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().operatorMessage.operatorCode=t})),l.hd(8,se,2,2,"option",15),l.ic(),l.hd(9,re,2,0,"div",12),l.ic(),l.ic(),l.jc(10,"div",49),l.jc(11,"div",8),l.jc(12,"label"),l.jd(13,"Start at Temp"),l.ic(),l.jc(14,"input",74,75),l.uc("ngModelChange",(function(t){return l.Xc(e),l.yc().operatorMessage.startAtTemp=t}))("keypress",(function(t){return l.Xc(e),l.yc().numberOnly(t)})),l.ic(),l.hd(16,de,2,0,"div",12),l.ic(),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.Uc(7),t=l.Uc(15),i=l.yc();l.Pb(6),l.Hc("ngModel",i.operatorMessage.operatorCode)("ngClass",l.Nc(7,K,e.invalid&&(i.modalSubmitted||e.touched))),l.Pb(2),l.Hc("ngForOf",i.operatorMessageList),l.Pb(1),l.Hc("ngIf",e.invalid&&(i.modalSubmitted||e.touched)),l.Pb(5),l.Hc("ngModel",i.operatorMessage.startAtTemp)("ngClass",l.Nc(9,K,t.invalid&&(i.modalSubmitted||t.touched))),l.Pb(2),l.Hc("ngIf",t.invalid&&(i.modalSubmitted||t.touched))}}let le=(()=>{class e{constructor(e,t,i,c){this.activeModal=e,this.supplierService=t,this.toastr=i,this.processService=c,this.errorData=o,this.functionList=[],this.positionValues=[],this.tempFuncPosition=1,this.funcObj=new j,this.dosing=new v,this.tempDosing=[],this.tempratureControl=new C,this.tempTemprature=[],this.pumpControl=new P,this.tempPump=[],this.waterControl=new M,this.tempWater=[],this.operatorMessage=new F,this.tempOperator=[],this.chemicalSubRecordArray=[],this.itemListArray=[],this.functionDropdown=[{id:"dosing",name:"Dosing"},{id:"temprature",name:"Temprature Control"},{id:"pump",name:"Pump Control"},{id:"water",name:"Water Control"},{id:"operator",name:"Operator Message"}],this.waterList=[{id:"water1",name:"water1"},{id:"water2",name:"water2"}],this.drainTypeList=[{id:"Complete Drain (at 0 bar)",name:"Complete Drain (at 0 bar)"},{id:"Pressurize Drain (at 1 bar)",name:"Pressurize Drain (at 1 bar)"}],this.fillList=[{id:"Post Fill Fresh Water",name:"Post Fill Fresh Water"},{id:"Pre Fill Fresh Water",name:"Pre Fill Fresh Water"},{id:"Post Fill Machine Water",name:"Post Fill Machine Water"},{id:"Pre Fill Machine Water",name:"Pre Fill Machine Water"}],this.fillLevelList=[{id:"Level 1",name:"Level 1"},{id:"Level 2",name:"Level 2"}],this.operatorMessageList=[{id:"1",name:"Load Fabric"},{id:"2",name:"UnLoad Fabric"},{id:"3",name:"Close the Door"},{id:"4",name:"Custom Message"}],this.modalSubmitted=!1,this.submitButton="ADD",this.supplierList=[],this.destroy$=new O.a,this.chemicalSubRecord=new y}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){if(this.editFunction){if(this.submitButton="Update",this.position>0){this.funcObj.funcPosition=this.position;let e=this.functionList.findIndex(e=>e.funcPosition==this.position);if(e>-1){let t=this.functionList[e];this.funcObj.funcName=t.funcName,this.funcObj.funcPosition=t.funcPosition,this.funcObj.funcValue=t.funcValue,this.dosing=t.dosingFunc,this.waterControl=t.waterControlFunc,this.tempratureControl=t.tempratureControlFunc,this.pumpControl=t.pumpControlFunc,this.operatorMessage=t.operatorMessageFunc}for(let t=1;t<=this.functionList.length;t++)this.positionValues.push(t)}}else if(this.position>0){this.funcObj.funcPosition=this.position;for(let e=1;e<=this.position;e++)this.positionValues.push(e)}this.getItemData(),0==this.dosing.dosingChemical.length&&this.dosing.dosingChemical.push({id:null,dynamicProcessRecordId:null,itemId:null,itemName:null,supplierId:null,supplierName:null,concentration:null,lrOrFabricWt:null})}numberOnly(e){const t=e.which?e.which:e.keyCode;return!(t>31&&(t<46||t>57||47==t))}itemSelected(e,t){this.itemListArray.forEach(e=>{e.itemId==this.dosing.dosingChemical[t].itemId&&(this.dosing.dosingChemical[t].supplierName=e.supplierName,this.dosing.dosingChemical[t].itemName=e.itemName,this.dosing.dosingChemical[t].supplierId=e.supplierId)})}onKeyUp(e,t,i,c){if(13==(e.keyCode?e.keyCode:e.which))if(this.index="program"+(t+1)+"-"+i,t===this.dosing.dosingChemical.length-1){let e=this.dosing.dosingChemical[t];if("concentration"==c){if(!e.concentration)return}else if("lrOrFabricWt"==c&&!e.lrOrFabricWt)return;this.dosing.dosingChemical.push({id:null,dynamicProcessRecordId:null,itemId:null,itemName:null,supplierId:null,supplierName:null,concentration:null,lrOrFabricWt:null});let i=setInterval(()=>{let e=document.getElementById(this.index);null!=e&&(e.focus(),clearInterval(i))},10)}else{let e=setInterval(()=>{let t=document.getElementById(this.index);null!=t&&(t.focus(),clearInterval(e))},10)}}removeItem(e){1==this.dosing.dosingChemical.length?(this.dosing.dosingChemical[0].id=null,this.dosing.dosingChemical[0].dynamicProcessRecordId=null,this.dosing.dosingChemical[0].itemId=null,this.dosing.dosingChemical[0].itemName=null,this.dosing.dosingChemical[0].supplierName=null,this.dosing.dosingChemical[0].concentration=null,this.dosing.dosingChemical[0].lrOrFabricWt=null):this.dosing.dosingChemical.splice(e,1)}getItemData(){this.processService.getAllItemWithSupplier().pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success&&(this.itemListArray=e.data)},e=>{})}onWaterTypeChange(){"water"==this.waterControl.type?this.waterControl.drainType=null:(this.waterControl.jetLevel=0,this.waterControl.fabricRatio=null,this.waterControl.waterType=null)}onDoseTypeChange(){"color"==this.dosing.doseType?this.dosing.doseWhileHeating=!1:this.itemListArray.length||this.processService.getAllItemWithSupplier().pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success&&(this.itemListArray=e.data)},e=>{})}onSubmit(e){if(this.modalSubmitted=!0,e.valid){let e=this.functionDropdown.findIndex(e=>e.id===this.funcObj.funcValue);if(this.funcObj.funcName=e>-1?this.functionDropdown[e].name:"","temprature"===this.funcObj.funcValue)this.tempTemprature=this.tempratureControl,this.funcObj.tempratureControlFunc=this.tempTemprature;else if("dosing"===this.funcObj.funcValue)this.tempDosing=this.dosing,this.funcObj.dosingFunc=this.tempDosing;else if("operator"===this.funcObj.funcValue){let e=this.operatorMessageList.findIndex(e=>e.id===this.operatorMessage.operatorCode);e>-1&&3!=e&&(this.operatorMessage.operatorMessage=this.operatorMessageList[e].name),this.tempOperator=this.operatorMessage,this.funcObj.operatorMessageFunc=this.tempOperator}else"water"===this.funcObj.funcValue?(this.tempWater=this.waterControl,this.funcObj.waterControlFunc=this.tempWater):"pump"===this.funcObj.funcValue&&(this.tempPump=this.pumpControl,this.funcObj.pumpControlFunc=this.tempPump);this.activeModal.close(this.funcObj)}}}return e.\u0275fac=function(t){return new(t||e)(l.dc(I.a),l.dc(S.a),l.dc(u.b),l.dc(w))},e.\u0275cmp=l.Xb({type:e,selectors:[["ngx-add-function"]],inputs:{position:"position",functionList:"functionList",editFunction:"editFunction"},decls:37,vars:20,consts:[[1,"modal-header","nb-header"],["id","modal-basic-title",1,"modal-title","nb-text"],["type","button","aria-label","Close",1,"close","btn-foucs-none",3,"click"],["aria-hidden","true",1,"close-icon"],["functionForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","function","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["funcName","ngModel"],["placeholder","Function Name",3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["name","stepNo","required","","placeholder","Function Position",1,"form-control",3,"disabled","ngModel","ngClass","ngModelChange"],["position1","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-5",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm","btn-design",3,"click"],["placeholder","Function Name",3,"value"],[1,"invalid-feedback"],[3,"value"],[1,"col-md-5"],[1,"nb-badges"],[4,"ngFor","ngForOf"],["name","fill",1,"form-control",3,"ngModel","ngModelChange"],["name","filllevel",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"nb-p-text"],["name","dose",3,"ngModel","ngModelChange"],["type","number","fieldSize","small","name","tempDosing",1,"col-md-5","input-add-num",3,"ngModel","keypress","ngModelChange"],["fieldSize","large","name","dosetype",1,"form-control","inline-flex","mr-left-15","width-100",3,"ngModel","ngModelChange","valueChange"],["value","chemical"],["value","color"],["class","row",4,"ngIf"],["name","doseHeat",3,"ngModel","ngModelChange"],[1,"table","table-responsive","table-bordered","table-striped","table-process-fnt"],["itemId1","ngModel","required","",1,"tableForm",3,"name","ngModel","ngModelChange","change"],["itemId1","ngModel"],["placeholder","Select Item",3,"value",4,"ngFor","ngForOf"],["type","text","readonly","",1,"tableForm",3,"name","ngModel","id","ngModelChange","keyup"],["supplierName1","ngModel"],["type","number","min","0",1,"tableForm",3,"name","ngModel","id","ngModelChange","keyup"],["concentration1","ngModel"],["type","text",1,"tableForm",3,"name","ngModel","id","ngModelChange","keyup"],["rate1","ngModel"],["icon","trash","status","danger",3,"options","click"],["placeholder","Select Item",3,"value"],[1,"col-md-4"],["type","text","name","setValue","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["setValueC","ngModel"],["type","text","name","rateOfRise","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["rateOfRiseCM","ngModel"],[1,"col-md-3"],["type","text","name","holdTime","min","0","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["holdTime1","ngModel"],[1,"col-ms-12"],["name","pv",3,"ngModel","ngModelChange"],["type","number","name","pumpSpeed","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["pumpSpeed1","ngModel"],["fieldSize","small","name","watertype",1,"inline-block",3,"ngModel","valueChange","ngModelChange"],["value","water"],["value","drain"],["fieldSize","small","name","water",1,"form-control","inline-block",3,"ngModel","ngModelChange"],[1,"col-md-8"],[1,"form-group","mr-left-15"],["type","number","fieldSize","small","max","10","name","fabricRatio",1,"form-control","input-group","input-group-sm",3,"ngModel","ngModelChange"],[1,"col-md-4","nb-dis-flx"],[1,"form-group","nb-mr-0"],["name","jet",1,"mr-top-13",3,"ngModel","ngModelChange"],["fieldSize","small","name","waterDrain",1,"form-control","inline-block",3,"ngModel","ngModelChange"],["name","fill","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fillOperatorCode","ngModel"],["type","number","name","startat",1,"form-control","input-group","input-group-sm",3,"ngModel","ngClass","ngModelChange","keypress"],["startAtTemp","ngModel"]],template:function(e,t){if(1&e){const e=l.kc();l.jc(0,"div",0),l.jc(1,"h4",1),l.jd(2,"Add Function"),l.ic(),l.jc(3,"button",2),l.uc("click",(function(){return t.activeModal.close(!1)})),l.jc(4,"span",3),l.jd(5,"\xd7"),l.ic(),l.ic(),l.ic(),l.jc(6,"form",null,4),l.jc(8,"div",5),l.jc(9,"div",6),l.jc(10,"div",7),l.jc(11,"div",8),l.jc(12,"label"),l.jd(13,"Function Name"),l.ic(),l.jc(14,"select",9,10),l.uc("ngModelChange",(function(e){return t.funcObj.funcValue=e})),l.hd(16,H,2,2,"option",11),l.ic(),l.hd(17,N,2,0,"div",12),l.ic(),l.ic(),l.jc(18,"div",7),l.jc(19,"div",8),l.jc(20,"label"),l.jd(21,"Function Position"),l.ic(),l.jc(22,"select",13,14),l.uc("ngModelChange",(function(e){return t.funcObj.funcPosition=e})),l.hd(24,x,2,2,"option",15),l.ic(),l.hd(25,D,2,0,"div",12),l.ic(),l.ic(),l.hd(26,A,5,1,"div",16),l.ic(),l.hd(27,z,36,9,"div",17),l.hd(28,Z,29,16,"div",17),l.hd(29,Y,9,5,"div",17),l.hd(30,oe,13,3,"div",17),l.hd(31,ae,17,11,"div",17),l.ic(),l.jc(32,"div",18),l.jc(33,"button",19),l.uc("click",(function(){l.Xc(e);const i=l.Uc(7);return t.onSubmit(i)})),l.jd(34),l.ic(),l.jc(35,"button",19),l.uc("click",(function(){return t.activeModal.close(!1)})),l.jd(36,"Cancel"),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.Uc(15),i=l.Uc(23);l.Pb(14),l.Hc("ngModel",t.funcObj.funcValue)("ngClass",l.Nc(16,K,e.invalid&&(t.modalSubmitted||e.touched))),l.Pb(2),l.Hc("ngForOf",t.functionDropdown),l.Pb(1),l.Hc("ngIf",e.invalid&&(t.modalSubmitted||e.touched)),l.Pb(5),l.Hc("disabled",t.editFunction)("ngModel",t.funcObj.funcPosition)("ngClass",l.Nc(18,K,i.invalid&&(t.modalSubmitted||i.touched))),l.Pb(2),l.Hc("ngForOf",t.positionValues),l.Pb(1),l.Hc("ngIf",i.invalid&&(t.modalSubmitted||i.touched)),l.Pb(1),l.Hc("ngIf",t.functionList.length),l.Pb(1),l.Hc("ngIf","dosing"===t.funcObj.funcValue),l.Pb(1),l.Hc("ngIf","temprature"===t.funcObj.funcValue),l.Pb(1),l.Hc("ngIf","pump"===t.funcObj.funcValue),l.Pb(1),l.Hc("ngIf","water"===t.funcObj.funcValue),l.Pb(1),l.Hc("ngIf","operator"===t.funcObj.funcValue),l.Pb(3),l.kd(t.submitButton)}},directives:[L.x,L.m,L.n,L.u,L.t,L.l,L.o,c.l,c.m,c.n,L.p,L.w,T.A,L.q,L.a,T.eb,T.db,T.I],styles:[""]}),e})();function ue(e,t){1&e&&(l.jc(0,"div",20),l.jd(1," Step Name is required. "),l.ic())}function pe(e,t){if(1&e&&(l.jc(0,"option",21),l.jd(1),l.ic()),2&e){const e=t.$implicit;l.Hc("value",e),l.Pb(1),l.kd(e)}}function he(e,t){1&e&&(l.jc(0,"div",22),l.jd(1," Step Position is required. "),l.ic())}function me(e,t){if(1&e&&(l.jc(0,"div",26),l.jc(1,"span",27),l.jd(2),l.ic(),l.jd(3,"\xa0"),l.jc(4,"span"),l.jd(5),l.ic(),l.ic()),2&e){const e=t.$implicit,i=t.index;l.Pb(2),l.ld("",i+1,"."),l.Pb(3),l.kd(e.stepName)}}function ge(e,t){if(1&e&&(l.jc(0,"div",23),l.jc(1,"h5",24),l.jd(2,"Current Steps"),l.ic(),l.hd(3,me,6,2,"div",25),l.ic()),2&e){const e=l.yc();l.Pb(3),l.Hc("ngForOf",e.stepList)}}const fe=function(e){return{"is-invalid":e}};let be=(()=>{class e{constructor(e,t){this.activeModal=e,this.toastr=t,this.stepName="",this.stepPosition=1,this.positionValues=[],this.stepList=[],this.submitButton="Add",this.modalSubmitted=!1,this.errorData=o}ngOnInit(){if(this.editStep){if(this.submitButton="Update",this.position>0){this.stepPosition=this.position,this.stepName=this.stepList[this.position-1].stepName;for(let e=1;e<=this.stepList.length;e++)this.positionValues.push(e)}}else if(this.position>0){this.stepPosition=this.position;for(let e=1;e<=this.position;e++)this.positionValues.push(e)}}onCreate(e){this.modalSubmitted=!0,e.valid&&this.activeModal.close({name:this.stepName,position:this.stepPosition})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(I.a),l.dc(u.b))},e.\u0275cmp=l.Xb({type:e,selectors:[["ngx-add-step"]],inputs:{position:"position",stepList:"stepList",editStep:"editStep"},decls:31,vars:14,consts:[[1,"modal-header","nb-header"],["id","modal-basic-title",1,"modal-title","nb-text"],["type","button","aria-label","Close",1,"close","btn-foucs-none",3,"click"],["aria-hidden","true",1,"close-icon"],["stepForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["type","text","name","stepName","required","","placeholder","Step Name",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange"],["name1","ngModel"],["class","input-required",4,"ngIf"],["name","stepNo","required","",1,"form-control",3,"disabled","ngModel","ngClass","ngModelChange"],["position1","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm","btn-design",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"click"],[1,"input-required"],[3,"value"],[1,"invalid-feedback"],[1,"col-md-12"],[1,"nb-badges"],["class","list-step",4,"ngFor","ngForOf"],[1,"list-step"],[1,"nb-table-num"]],template:function(e,t){if(1&e){const e=l.kc();l.jc(0,"div",0),l.jc(1,"h4",1),l.jd(2,"Add Step"),l.ic(),l.jc(3,"button",2),l.uc("click",(function(){return t.activeModal.close(!1)})),l.jc(4,"span",3),l.jd(5,"\xd7"),l.ic(),l.ic(),l.ic(),l.jc(6,"form",null,4),l.jc(8,"div",5),l.jc(9,"div",6),l.jc(10,"div",7),l.jc(11,"div",8),l.jc(12,"label"),l.jd(13,"Step Name"),l.ic(),l.jc(14,"input",9,10),l.uc("ngModelChange",(function(e){return t.stepName=e})),l.ic(),l.hd(16,ue,2,0,"div",11),l.ic(),l.ic(),l.jc(17,"div",7),l.jc(18,"div",8),l.jc(19,"label"),l.jd(20,"Step Position"),l.ic(),l.jc(21,"select",12,13),l.uc("ngModelChange",(function(e){return t.stepPosition=e})),l.hd(23,pe,2,2,"option",14),l.ic(),l.hd(24,he,2,0,"div",15),l.ic(),l.ic(),l.hd(25,ge,4,1,"div",16),l.ic(),l.ic(),l.jc(26,"div",17),l.jc(27,"button",18),l.uc("click",(function(){l.Xc(e);const i=l.Uc(7);return t.onCreate(i)})),l.jd(28),l.ic(),l.jc(29,"button",19),l.uc("click",(function(){return t.activeModal.close(!1)})),l.jd(30,"Cancel"),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.Uc(15),i=l.Uc(22);l.Pb(14),l.Hc("ngModel",t.stepName)("ngClass",l.Nc(10,fe,e.invalid&&(t.modalSubmitted||e.touched))),l.Pb(2),l.Hc("ngIf",e.invalid&&(t.modalSubmitted||e.touched)),l.Pb(5),l.Hc("disabled",t.editStep)("ngModel",t.stepPosition)("ngClass",l.Nc(12,fe,i.invalid&&(t.modalSubmitted||i.touched))),l.Pb(2),l.Hc("ngForOf",t.positionValues),l.Pb(1),l.Hc("ngIf",i.invalid&&(t.modalSubmitted||i.touched)),l.Pb(1),l.Hc("ngIf",t.stepList.length),l.Pb(3),l.kd(t.submitButton)}},directives:[L.x,L.m,L.n,L.a,L.t,L.l,L.o,c.l,c.n,L.u,c.m,L.p,L.w],styles:[".select.btn-mini[_ngcontent-%COMP%]{height:auto!important;line-height:14px!important}"]}),e})();function je(e,t){1&e&&(l.jc(0,"div",23),l.jc(1,"span"),l.jd(2,"Process name is required."),l.ic(),l.ic())}function ve(e,t){1&e&&(l.jc(0,"div",23),l.jc(1,"span"),l.jd(2,"Time is required."),l.ic(),l.ic())}function ye(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"table",45),l.jc(2,"thead"),l.jc(3,"tr"),l.jc(4,"th",46),l.jd(5,"SV (Set Value)(C) "),l.ic(),l.jc(6,"th",46),l.jd(7,"Rate of Rise (C/minute) "),l.ic(),l.jc(8,"th",46),l.jd(9,"Hold Time "),l.ic(),l.jc(10,"th",46),l.jd(11,"Pressure (Above 80 C) "),l.ic(),l.ic(),l.ic(),l.jc(12,"tbody"),l.jc(13,"tr"),l.jc(14,"td"),l.jd(15),l.ic(),l.jc(16,"td"),l.jd(17),l.ic(),l.jc(18,"td"),l.jd(19),l.ic(),l.jc(20,"td"),l.jd(21),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&e){const e=l.yc().$implicit;l.Pb(15),l.ld(" ",e.tempratureControlFunc.setValue," "),l.Pb(2),l.ld(" ",e.tempratureControlFunc.rateOfRise," "),l.Pb(2),l.ld("",e.tempratureControlFunc.holdTime," "),l.Pb(2),l.ld(" ",e.tempratureControlFunc.pressure," ")}}function Ce(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"div",5),l.jc(2,"div",47),l.jc(3,"table",45),l.jc(4,"thead"),l.jc(5,"tr"),l.jc(6,"th",46),l.jd(7,"Pump speed (%) "),l.ic(),l.ic(),l.ic(),l.jc(8,"tbody"),l.jc(9,"tr"),l.jc(10,"td"),l.jd(11),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(12,"hr"),l.ic()),2&e){const e=l.yc().$implicit;l.Pb(11),l.ld(" ",e.pumpControlFunc.pumpSpeed," ")}}function Pe(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"div",5),l.jc(2,"div",47),l.jc(3,"table",45),l.jc(4,"thead"),l.jc(5,"tr"),l.jc(6,"th",46),l.jd(7,"Drain Type "),l.ic(),l.ic(),l.ic(),l.jc(8,"tbody"),l.jc(9,"tr"),l.jc(10,"td"),l.jd(11),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&e){const e=l.yc(2).$implicit;l.Pb(11),l.ld(" ",e.waterControlFunc.drainType," ")}}function Me(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"table",45),l.jc(2,"thead"),l.jc(3,"tr"),l.jc(4,"th",46),l.jd(5,"Water Type "),l.ic(),l.jc(6,"th",46),l.jd(7,"Fabric Ratio"),l.ic(),l.jc(8,"th",46),l.jd(9,"Jet Level "),l.ic(),l.ic(),l.ic(),l.jc(10,"tbody"),l.jc(11,"tr"),l.jc(12,"td"),l.jd(13),l.ic(),l.jc(14,"td"),l.jd(15),l.ic(),l.jc(16,"td"),l.jd(17),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&e){const e=l.yc(2).$implicit;l.Pb(13),l.ld(" ",e.waterControlFunc.waterType," "),l.Pb(2),l.ld(" ",e.waterControlFunc.fabricRatio," "),l.Pb(2),l.ld("",e.waterControlFunc.jetLevel," ")}}function Fe(e,t){if(1&e&&(l.jc(0,"div"),l.hd(1,Pe,12,1,"div",37),l.hd(2,Me,18,3,"div",37),l.ic()),2&e){const e=l.yc().$implicit;l.Pb(1),l.Hc("ngIf","water"!==e.waterControlFunc.type),l.Pb(1),l.Hc("ngIf","water"===e.waterControlFunc.type)}}function ke(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"table",45),l.jc(2,"thead"),l.jc(3,"tr"),l.jc(4,"th",46),l.jd(5,"Operator Code "),l.ic(),l.jc(6,"th",46),l.jd(7,"Operator Message"),l.ic(),l.jc(8,"th",46),l.jd(9,"Start At Temp "),l.ic(),l.ic(),l.ic(),l.jc(10,"tbody"),l.jc(11,"tr"),l.jc(12,"td"),l.jd(13),l.ic(),l.jc(14,"td"),l.jd(15),l.ic(),l.jc(16,"td"),l.jd(17),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&e){const e=l.yc().$implicit;l.Pb(13),l.ld("",e.operatorMessageFunc.operatorCode," "),l.Pb(2),l.ld("",e.operatorMessageFunc.operatorMessage," "),l.Pb(2),l.ld("",e.operatorMessageFunc.startAtTemp," ")}}function we(e,t){if(1&e&&(l.jc(0,"tr"),l.jc(1,"td"),l.jd(2),l.ic(),l.jc(3,"td"),l.jd(4),l.ic(),l.jc(5,"td"),l.jd(6),l.ic(),l.jc(7,"td"),l.jd(8),l.ic(),l.ic()),2&e){const e=t.$implicit;l.Pb(2),l.kd(e.itemName),l.Pb(2),l.ld("",e.supplierName," "),l.Pb(2),l.ld("",e.concentration," "),l.Pb(2),l.ld(" ",e.lrOrFabricWt," ")}}function Se(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"div",48),l.jc(2,"div",5),l.jc(3,"div",49),l.jc(4,"div",50),l.jc(5,"h4"),l.jd(6,"Dose Type: "),l.jc(7,"p"),l.jd(8),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(9,"div",51),l.jc(10,"table",45),l.jc(11,"thead"),l.jc(12,"tr"),l.jc(13,"th",46),l.jd(14,"Item Name "),l.ic(),l.jc(15,"th",46),l.jd(16,"Supplier Name "),l.ic(),l.jc(17,"th",46),l.jd(18," Concentration "),l.ic(),l.jc(19,"th",46),l.jd(20," LR/FabricWt "),l.ic(),l.ic(),l.ic(),l.jc(21,"tbody"),l.hd(22,we,9,4,"tr",52),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&e){const e=l.yc(2).$implicit;l.Pb(8),l.ld("",e.dosingFunc.doseType," "),l.Pb(14),l.Hc("ngForOf",e.dosingFunc.dosingChemical)}}function Oe(e,t){if(1&e&&(l.jc(0,"div"),l.jc(1,"div",48),l.jc(2,"table",45),l.jc(3,"thead"),l.jc(4,"tr"),l.jc(5,"th",46),l.jd(6,"Fill Side Tank "),l.ic(),l.jc(7,"th",46),l.jd(8,"Fill Side Tank (%) "),l.ic(),l.jc(9,"th",46),l.jd(10,"Dose at Temp "),l.ic(),l.jc(11,"th",46),l.jd(12,"Dose Type "),l.ic(),l.jc(13,"th",46),l.jd(14,"Dose while Heating "),l.ic(),l.ic(),l.ic(),l.jc(15,"tbody"),l.jc(16,"tr"),l.jc(17,"td"),l.jd(18),l.ic(),l.jc(19,"td"),l.jd(20),l.ic(),l.jc(21,"td"),l.jd(22),l.ic(),l.jc(23,"td"),l.jd(24),l.ic(),l.jc(25,"td"),l.jd(26),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.hd(27,Se,23,2,"div",37),l.ic()),2&e){const e=l.yc().$implicit;l.Pb(18),l.ld("",e.dosingFunc.fillType," "),l.Pb(2),l.ld("",e.dosingFunc.dosingPercentage," "),l.Pb(2),l.ld("",e.dosingFunc.doseAtTemp," "),l.Pb(2),l.ld(" ",e.dosingFunc.doseType," "),l.Pb(2),l.ld(" ",e.dosingFunc.doseWhileHeating," "),l.Pb(1),l.Hc("ngIf",null!=e.dosingFunc.doseType&&"chemical"===e.dosingFunc.doseType)}}const Ie=function(){return{type:"zoom"}},Le=function(e){return{animation:e}};function Te(e,t){if(1&e){const e=l.kc();l.jc(0,"nb-list-item",40),l.jc(1,"div",41),l.jc(2,"div",5),l.jc(3,"div",42),l.jc(4,"h6",43),l.jd(5),l.ic(),l.ic(),l.jc(6,"div",44),l.jc(7,"nb-icon",33),l.uc("click",(function(){l.Xc(e);const i=t.$implicit;return l.yc(4).onDeleteFunction(i)})),l.ic(),l.jc(8,"nb-icon",34),l.uc("click",(function(){l.Xc(e);const i=t.$implicit;return l.yc(4).onEditFunction(i)})),l.ic(),l.ic(),l.jc(9,"div",24),l.hd(10,ye,22,4,"div",37),l.hd(11,Ce,13,1,"div",37),l.hd(12,Fe,3,2,"div",37),l.hd(13,ke,18,3,"div",37),l.hd(14,Oe,28,6,"div",37),l.ic(),l.ic(),l.ic(),l.ic()}if(2&e){const e=t.$implicit;l.Pb(5),l.ld(" ",e.funcName,""),l.Pb(2),l.Hc("options",l.Nc(9,Le,l.Mc(8,Ie))),l.Pb(1),l.Hc("options",l.Nc(12,Le,l.Mc(11,Ie))),l.Pb(2),l.Hc("ngIf","temprature"===e.funcValue),l.Pb(1),l.Hc("ngIf","pump"===e.funcValue),l.Pb(1),l.Hc("ngIf","water"===e.funcValue),l.Pb(1),l.Hc("ngIf","operator"===e.funcValue),l.Pb(1),l.Hc("ngIf","dosing"===e.funcValue)}}function He(e,t){if(1&e){const e=l.kc();l.jc(0,"div"),l.jc(1,"nb-list",38),l.uc("cdkDropListDropped",(function(t){l.Xc(e);const i=l.yc().$implicit;return l.yc(2).dropFunction(t,i.stepNo)})),l.hd(2,Te,15,14,"nb-list-item",39),l.ic(),l.ic()}if(2&e){const e=l.yc().$implicit;l.Pb(2),l.Hc("ngForOf",e.functionList)}}function Ne(e,t){if(1&e){const e=l.kc();l.jc(0,"nb-accordion",27),l.jc(1,"nb-accordion-item",28,29),l.uc("click",(function(){l.Xc(e);const i=t.$implicit;return l.yc(2).onStepClick(i)})),l.jc(3,"nb-accordion-item-header",30),l.jc(4,"div",31),l.jd(5),l.ic(),l.jc(6,"div",32),l.jc(7,"nb-icon",33),l.uc("click",(function(){l.Xc(e);const i=t.$implicit;return l.yc(2).onDeleteStep(i)})),l.ic(),l.jc(8,"nb-icon",34),l.uc("click",(function(){l.Xc(e);const i=t.$implicit;return l.yc(2).onEditStep(i)})),l.ic(),l.jc(9,"nb-icon",35),l.uc("click",(function(){l.Xc(e);const i=t.$implicit;return l.yc(2).onAddFunction(i)})),l.ic(),l.ic(),l.ic(),l.jc(10,"nb-accordion-item-body",36),l.hd(11,He,3,1,"div",37),l.ic(),l.ic(),l.ic()}if(2&e){const e=t.$implicit;l.Pb(5),l.ld(" ",e.stepName," "),l.Pb(2),l.Hc("options",l.Nc(6,Le,l.Mc(5,Ie))),l.Pb(1),l.Hc("options",l.Nc(9,Le,l.Mc(8,Ie))),l.Pb(1),l.Hc("options",l.Nc(12,Le,l.Mc(11,Ie))),l.Pb(2),l.Hc("ngIf",e.functionList&&e.functionList.length)}}function xe(e,t){if(1&e){const e=l.kc();l.jc(0,"div",24),l.jc(1,"div",25),l.uc("cdkDropListDropped",(function(t){return l.Xc(e),l.yc().drop(t)})),l.hd(2,Ne,12,14,"nb-accordion",26),l.ic(),l.ic()}if(2&e){const e=l.yc();l.Pb(2),l.Hc("ngForOf",e.stepList)}}const De=function(e){return{"is-invalid":e}};let Ve=(()=>{class e{constructor(e,t,i,c,n,s){this.commonService=e,this.processService=t,this._modalService=i,this.toastr=c,this.route=n,this.router=s,this.processValue=new g,this.stepList=[],this.functionListReq=[],this.dosingControl=[],this.pumpControl=[],this.tempratureControl=[],this.waterControl=[],this.operatorMessage=[],this.chemicalOb=[],this.formSubmitted=!1,this.indexOfStep=0,this.errorData=o,this.destroy$=new O.a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.currentProcessId=parseInt(this.router.snapshot.paramMap.get("id")),this.processValue.steps=[],this.getItemData(),this.currentProcessId&&this.getUpdateDataOfProcess()}getItemData(){this.processService.getAllItemWithSupplier().pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success&&(this.itemListArray=e.data)},e=>{})}getUpdateDataOfProcess(){this.processService.getProcessById(this.currentProcessId).pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success&&(this.processValue=e.data,this.setAllValuesForUpdate())},e=>{})}setAllValuesForUpdate(){this.stepList=[];let e=[];this.processValue.steps.length&&(this.processValue.steps.forEach(t=>{if(-1==e.findIndex(e=>e==t.stepName)){e.push(t.stepName);let i=new b;i.id=t.id,i.stepName=t.stepName,i.stepNo=t.stepPosotion,i.functionList=[],this.stepList.push(i)}}),this.processValue.steps.forEach(e=>{let t=this.stepList.findIndex(t=>t.stepName==e.stepName);if(t>-1){let i=new v,c=new C,n=new P,o=new M,s=new F;if(e.isDosingControl){i.doseAtTemp=e.doseAtTemp,i.doseType=e.doseType,i.doseWhileHeating=e.doseWhileHeating,i.dosingPercentage=e.dosingPercentage,i.fillType=e.fillType,i.haveDose=e.haveDose,i.dosingChemical=e.dosingChemical,this.chemicalOb=[...i.dosingChemical];let t=setInterval(()=>{this.itemListArray&&(clearInterval(t),this.chemicalOb.forEach(e=>{this.itemListArray.forEach(t=>{t.itemId==e.itemId&&(e.supplierName=t.supplierName)})}))},10)}else e.isOperatorMessage?(s.operatorCode=e.operatorCode,s.operatorMessage=e.operatorMessage,s.startAtTemp=e.startAtTemp):e.isPumpControl?n.pumpSpeed=e.pumpSpeed:e.isTempControl?(c.holdTime=e.holdTime,c.pressure=e.pressure,c.rateOfRise=e.rateOfRise,c.setValue=e.setValue):e.isWaterControl&&(e.drainType?(o.type="drain",o.drainType=e.drainType):(o.type="water",o.fabricRatio=e.fabricRatio,o.jetLevel=e.jetLevel,o.waterType=e.waterType));let r=new j;r.funcValue=e.functionValue,r.funcPosition=e.functionPosotion,r.funcName=e.functionName,r.dosingFunc=i,r.waterControlFunc=o,r.tempratureControlFunc=c,r.pumpControlFunc=n,r.operatorMessageFunc=s,this.stepList[t].functionList.push(r)}}))}numberOnly(e){const t=e.which?e.which:e.keyCode;return!(t>31&&(t<46||t>57||47==t))}drop(e){Object(m.d)(this.stepList,e.previousIndex,e.currentIndex)}dropFunction(e,t){Object(m.d)(this.stepList[t-1].functionList,e.previousIndex,e.currentIndex),this.stepList[t-1].functionList.forEach((e,t)=>{e.funcPosition=t+1})}onAddStep(){const e=this._modalService.open(be);e.componentInstance.position=this.stepList.length+1,e.componentInstance.stepList=this.stepList,e.componentInstance.editStep=!1,e.result.then(e=>{if(e){let t=new b;t.stepName=e.name,t.stepNo=e.position,t.functionList=[],this.stepList.length&&e.position!=this.stepList.length+1?this.stepList.splice(e.position-1,0,t):this.stepList.push(t)}})}onEditStep(e){const t=this._modalService.open(be);t.componentInstance.position=e.stepNo,t.componentInstance.stepList=this.stepList,t.componentInstance.editStep=!0,t.result.then(t=>{t&&(this.stepList[e.stepNo-1].stepName=t.name)})}onDeleteStep(e){let t=this.stepList.findIndex(t=>t.stepNo==e.stepPosition);this.stepList.splice(t,1)}onDeleteFunction(e){let t=this.stepList[this.selectedStep-1].functionList,i=t.findIndex(t=>t.funcPosition==e.funcPosition);t.splice(i,1)}onEditFunction(e){const t=this._modalService.open(le);let i=this.stepList[this.selectedStep-1].functionList;t.componentInstance.position=e.funcPosition,t.componentInstance.functionList=i,t.componentInstance.editFunction=!0,t.result.then(t=>{t&&(i[e.funcPosition-1]=t)})}onStepClick(e){this.selectedStep=e.stepNo}onAddFunction(e){e&&(this.selectedStep=e.stepNo);const t=this._modalService.open(le);let i=this.stepList[this.selectedStep-1].functionList;t.componentInstance.position=i.length+1,t.componentInstance.functionList=i,t.componentInstance.editFunction=!1,t.result.then(e=>{if(e){let t=new j;t=e,this.functionListReq.push(t),i.length&&e.funcPosition!=i.length+1?i.splice(e.funcPosition-1,0,t):i.push(t)}})}convertFormAccordingToRequestObj(e){this.processValue.steps=[];let t=1;this.stepList.forEach(i=>{if(0!=i.functionList.length){let c=1;i.functionList.forEach(n=>{let o=new f;o.stepPosotion=t,o.stepName=i.stepName,o.functionName=n.funcName,o.functionPosotion=c,o.functionValue=n.funcValue,"pump"==n.funcValue?(o.isPumpControl=!0,o.pumpSpeed=n.pumpControlFunc.pumpSpeed):"operator"==n.funcValue?(o.isOperatorMessage=!0,o.operatorCode=n.operatorMessageFunc.operatorCode,o.operatorMessage=n.operatorMessageFunc.operatorMessage,o.startAtTemp=n.operatorMessageFunc.startAtTemp):"temprature"==n.funcValue?(o.isTempControl=!0,o.setValue=n.tempratureControlFunc.setValue,o.rateOfRise=n.tempratureControlFunc.rateOfRise,o.pressure=n.tempratureControlFunc.pressure,o.holdTime=n.tempratureControlFunc.holdTime):"water"==n.funcValue?(o.isWaterControl=!0,o.drainType=n.waterControlFunc.drainType,o.fabricRatio=n.waterControlFunc.fabricRatio,o.jetLevel=n.waterControlFunc.jetLevel,o.waterType=n.waterControlFunc.waterType):"dosing"==n.funcValue&&(o.isDosingControl=!0,o.doseAtTemp=n.dosingFunc.doseAtTemp,o.doseType=n.dosingFunc.doseType,"color"==o.doseType?(o.doseWhileHeating=!1,n.dosingFunc.dosingChemical=[]):(o.doseWhileHeating=n.dosingFunc.doseWhileHeating,n.dosingFunc.dosingChemical.forEach(e=>{delete e.supplierName}),o.dosingChemical=n.dosingFunc.dosingChemical),o.dosingPercentage=n.dosingFunc.dosingPercentage,o.fillType=n.dosingFunc.fillType,o.haveDose=n.dosingFunc.haveDose),c++,e&&(delete o.id,delete o.controlId),this.processValue.steps.push(o)})}t++})}addProcess(e){if(this.formSubmitted=!0,e.valid){if(0==this.stepList.length)return void this.toastr.error("Enter the steps");{this.convertFormAccordingToRequestObj(1);let e=this.commonService.getUserHeadId(),t=this.commonService.getUser();this.processValue.userHeadId=e.userHeadId,this.processValue.createdBy=t.userId,this.processService.saveProcess(this.processValue).pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success&&(this.route.navigate(["/pages/process"]),this.toastr.success(e.msg))},e=>{this.toastr.error(o.Internal_Error)})}}}updateProcess(e){if(this.formSubmitted=!0,e.valid){this.convertFormAccordingToRequestObj(0);let e=this.commonService.getUser();this.processValue.updatedBy=e.userId,this.processService.updateProcess(this.processValue).pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success&&(this.toastr.success(o.Update_Success),this.route.navigate(["pages/process"]))},e=>{this.toastr.error(o.Internal_Error)})}}}return e.\u0275fac=function(t){return new(t||e)(l.dc(r.a),l.dc(w),l.dc(I.e),l.dc(u.b),l.dc(n.c),l.dc(n.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["ngx-dynamic-process"]],decls:35,vars:15,consts:[[1,"container"],[1,"nb-style"],[1,"nb-header"],[1,"nb-text"],["myForm","ngForm"],[1,"row"],[1,"col-md-4","col-12"],[1,"form-group"],[1,"required"],["type","text","name","processName","required","","placeholder","Process Name",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["processName1","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-4","col-8"],["type","text","name","time","required","","placeholder","Time(minutes)",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["time1","ngModel"],[1,"col-md-4","col-4"],[1,"form-group","text-right"],["icon","plus-circle","status","primary",1,"plus-add","add-modal",3,"options","click"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","mobile-btn-center","text-btn-right"],[1,"padding-bt-tp"],["type","button","routerLink","/pages/process",1,"btn","btn-primary","btn-sm","btn-design-cancel"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-save",3,"click"],[1,"invalid-feedback"],[1,"col-md-12"],["cdkDropList","",1,"acc-under-css",3,"cdkDropListDropped"],["multi","","cdkDrag","","class","acc-start",4,"ngFor","ngForOf"],["multi","","cdkDrag","",1,"acc-start"],[1,"item","accordian-process",3,"click"],["item",""],[1,"item-header","nb-accordian-fn-size","nb-accordian","display-flex-between"],[1,""],[1,"nb-action"],["icon","trash","status","danger",1,"trash",3,"options","click"],["icon","edit","status","primary",1,"edit",3,"options","click"],["icon","plus-circle","status","success",1,"plus-function-add","add-process-icon",3,"options","click"],[1,"nb-item-body"],[4,"ngIf"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","class","acc-item",4,"ngFor","ngForOf"],["cdkDrag","",1,"acc-item"],[1,"acc-process","border-acc"],[1,"col-md-9","col-7"],[1,"acc-text","text-transform-uppercase"],[1,"col-md-3","col-5"],[1,"table","table-sm","table-bordered","text-center","table-hover","table-responsive-sm","table-responsive-md","table-responsive-lg","process-tb"],["scope","col"],[1,"col-md-4"],[1,"table-design-head"],[1,"col-md-3","col-12"],[1,"tb-title-type"],[1,"col-md-9","col-12"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e){const e=l.kc();l.jc(0,"div",0),l.jc(1,"nb-card",1),l.jc(2,"nb-card-header",2),l.jc(3,"h2",3),l.jd(4,"Dynamic Process"),l.ic(),l.ic(),l.jc(5,"nb-card-body"),l.jc(6,"form",null,4),l.jc(8,"div",5),l.jc(9,"div",6),l.jc(10,"div",7),l.jc(11,"label",8),l.jd(12,"Process Name"),l.ic(),l.jc(13,"input",9,10),l.uc("ngModelChange",(function(e){return t.processValue.processName=e})),l.ic(),l.hd(15,je,3,0,"div",11),l.ic(),l.ic(),l.jc(16,"div",12),l.jc(17,"div",7),l.jc(18,"label",8),l.jd(19,"Time(minutes)"),l.ic(),l.jc(20,"input",13,14),l.uc("ngModelChange",(function(e){return t.processValue.time=e}))("keypress",(function(e){return t.numberOnly(e)})),l.ic(),l.hd(22,ve,3,0,"div",11),l.ic(),l.ic(),l.jc(23,"div",15),l.jc(24,"div",16),l.jc(25,"nb-icon",17),l.uc("click",(function(){return t.onAddStep()})),l.ic(),l.ic(),l.ic(),l.hd(26,xe,3,1,"div",18),l.ec(27,"br"),l.ic(),l.jc(28,"div",5),l.jc(29,"div",19),l.jc(30,"div",20),l.jc(31,"button",21),l.jd(32,"CANCEL"),l.ic(),l.jc(33,"button",22),l.uc("click",(function(){l.Xc(e);const i=l.Uc(7);return t.addProcess(i)})),l.jd(34,"SAVE"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()}if(2&e){const e=l.Uc(14),i=l.Uc(21);l.Pb(13),l.Hc("ngModel",t.processValue.processName)("ngClass",l.Nc(8,De,e.invalid&&(t.formSubmitted||e.touched))),l.Pb(2),l.Hc("ngIf",e.invalid&&(t.formSubmitted||e.touched)),l.Pb(5),l.Hc("ngModel",t.processValue.time)("ngClass",l.Nc(10,De,i.invalid&&(t.formSubmitted||i.touched))),l.Pb(2),l.Hc("ngIf",i.invalid&&(t.formSubmitted||i.touched)),l.Pb(3),l.Hc("options",l.Nc(13,Le,l.Mc(12,Ie))),l.Pb(1),l.Hc("ngIf",t.stepList?t.stepList.length:t.stepList)}},directives:[T.u,T.x,T.t,L.x,L.m,L.n,L.a,L.t,L.l,L.o,c.l,c.n,T.I,n.d,c.m,T.g,T.i,T.j,T.h,T.T,T.U],styles:[".plus-add[_ngcontent-%COMP%]{color:#0e82f5;font-size:40px;margin:23px}.plus-function-add[_ngcontent-%COMP%]{color:green;margin-right:10px}.edit[_ngcontent-%COMP%], .plus-function-add[_ngcontent-%COMP%]{font-size:25px;float:right}.edit[_ngcontent-%COMP%]{color:#4ca6ff;margin-right:9px}.trash[_ngcontent-%COMP%]{color:red;font-size:25px;float:right;margin-right:8px}.nb-theme-default[_ngcontent-%COMP%]   nb-accordion[_ngcontent-%COMP%]{display:block;box-shadow:0 .5rem 1rem 0 rgba(44,51,73,.1);border-radius:.25rem}.card-height[_ngcontent-%COMP%]{height:45px!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.nb-theme-default[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{border-bottom:1px solid #edf1f7;color:#222b45;font-family:Open Sans,sans-serif;font-size:.9375rem;font-weight:400;line-height:1.211rem!important}"]}),e})();var Ae=i("Cma1"),Xe=i("cmeu"),We=i("kF6S"),$e=i("lDzL");const Re=function(){return{type:"zoom"}},Ue=function(e){return{animation:e}},_e=function(e){return["/pages/process/edit",e]};function qe(e,t){if(1&e){const e=l.kc();l.ec(0,"nb-icon",14),l.jc(1,"nb-icon",15),l.uc("click",(function(){l.Xc(e);const i=t.row;return l.yc().deleteProcess(i.id)})),l.ic()}if(2&e){const e=t.row,i=l.yc();l.Hc("options",l.Nc(6,Ue,l.Mc(5,Re)))("routerLink",l.Nc(8,_e,e.id))("hidden",i.hiddenEdit),l.Pb(1),l.Hc("options",l.Nc(11,Ue,l.Mc(10,Re)))("hidden",i.hiddenDelete)}}const Ee=[{path:"",component:(()=>{class e{constructor(e,t,i,c,n,o,s){this.processService=e,this.toastr=t,this.processGuard=i,this.modalService=c,this.commonService=n,this.jwtToken=o,this.exportService=s,this.process=[],this.headers=["Name"],this.module="process",this.flag=!1,this.access=!1,this.hiddenDelete=!0,this.hiddenEdit=!0,this.addButtonDisabled=!1,this.destroy$=new O.a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.getProcessList(),this.getAccessPermissions()}getProcessList(){this.processService.getAllProcessList("all",0).pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success&&(this.processList=e.data),this.process=this.processList.map(e=>({name:e.name}))},e=>{})}getAccessPermissions(){this.hiddenEdit=!this.processGuard.accessRights("edit"),this.hiddenDelete=!this.processGuard.accessRights("delete"),this.addButtonDisabled=!this.processGuard.accessRights("add")}deleteProcess(e){this.modalService.open(We.a,{size:"sm"}).result.then(t=>{t&&this.processService.deleteProcess(e).pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e.success?(this.toastr.success(e.msg),this.processList=null,this.getProcessList(),this.toastr.success(o.Delete)):this.toastr.success(e.msg)},e=>{this.toastr.success("Internal server error"),this.toastr.error(o.Serever_Error)})})}open(){this.flag=!0;const e=this.modalService.open(Ae.a);e.componentInstance.headers=this.headers,e.componentInstance.list=this.process,e.componentInstance.moduleName=this.module}}return e.\u0275fac=function(t){return new(t||e)(l.dc(w),l.dc(u.b),l.dc(p),l.dc(I.e),l.dc(r.a),l.dc(d.a),l.dc(Xe.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["ngx-process"]],decls:19,vars:5,consts:[[1,"row"],[1,"col-lg-12"],[1,"nb-style"],[1,"nb-header"],[1,"col-md-1","col-3","mobile-btn","desktop-btn"],["routerLink","add-dynamic-process",1,"btn","btn-primary","btn-md","btn-design",3,"disabled"],[1,"col-md-9","col-7"],[1,"nb-text"],[1,"col-md-2","col-2","mobile-btn","desktop-btn","dek-jus"],[1,"btn","btn-primary","btn-md","btn-design",3,"click"],[1,"material",3,"rows","ngClass","rowHeight","headerHeight"],["name","Actions","sortable","false"],["ngx-datatable-cell-template",""],["name","Name","props","name"],["status","primary","icon","edit",3,"options","routerLink","hidden"],["status","danger","icon","trash",3,"options","hidden","click"]],template:function(e,t){1&e&&(l.jc(0,"div",0),l.jc(1,"div",1),l.jc(2,"nb-card",2),l.jc(3,"nb-card-header",3),l.jc(4,"div",0),l.jc(5,"div",4),l.jc(6,"button",5),l.jd(7,"Add"),l.ic(),l.ic(),l.jc(8,"div",6),l.jc(9,"h2",7),l.jd(10,"Process"),l.ic(),l.ic(),l.jc(11,"div",8),l.jc(12,"button",9),l.uc("click",(function(){return t.open()})),l.jd(13,"EXPORT"),l.ic(),l.ic(),l.ic(),l.ic(),l.jc(14,"nb-card-body"),l.jc(15,"ngx-datatable",10),l.jc(16,"ngx-datatable-column",11),l.hd(17,qe,2,13,"ng-template",12),l.ic(),l.ec(18,"ngx-datatable-column",13),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&e&&(l.Pb(6),l.Hc("disabled",t.addButtonDisabled),l.Pb(9),l.Hc("rows",t.processList)("ngClass",t.tablestyle)("rowHeight","auto")("headerHeight",31))},directives:[T.u,T.x,n.d,T.t,$e.e,c.l,$e.b,$e.a,T.I],styles:[""]}),e})(),canActivate:[p],canLoad:[p],data:{PermissionName:["view","view group","view all"]}},{path:"edit/:id",component:Ve,canActivate:[p],canLoad:[p],data:{PermissionName:["edit","edit group","edit all"]}},{path:"add-dynamic-process",component:Ve,canActivate:[p],canLoad:[p],data:{PermissionName:["add"]}}];let ze=(()=>{class e{}return e.\u0275mod=l.bc({type:e}),e.\u0275inj=l.ac({factory:function(t){return new(t||e)},providers:[p],imports:[[n.g.forChild(Ee)],n.g]}),e})();var Be=i("yzeJ");let Je=(()=>{class e{}return e.\u0275mod=l.bc({type:e}),e.\u0275inj=l.ac({factory:function(t){return new(t||e)},imports:[[ze,c.c,Be.a,L.g]]}),e})()}}]);