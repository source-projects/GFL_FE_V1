!function(){function i(i){return function(i){if(Array.isArray(i))return t(i)}(i)||function(i){if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}(i)||function(i,e){if(!i)return;if("string"==typeof i)return t(i,e);var n=Object.prototype.toString.call(i).slice(8,-1);"Object"===n&&i.constructor&&(n=i.constructor.name);if("Map"===n||"Set"===n)return Array.from(i);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(i,e)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(i,t){(null==t||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function e(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function n(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function c(i,t,e){return t&&n(i.prototype,t),e&&n(i,e),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{GiSl:function(t,n,a){"use strict";a.r(n),a.d(n,"AdditionSlipModule",(function(){return ki}));var o=a("ofXK"),d=a("3Pt+"),r=a("yzeJ"),l=a("tyNb"),s=a("iwgK"),p=a("1G5W"),u=a("XNiG"),h=a("kF6S"),g=a("O1SP"),m=a("8k+d"),y=a("g+Ya"),b=a("PW/x"),f=a("RNo3"),v=a("SapW"),S=a("IM7N"),j=a("mrSG"),I=a("yodA"),D=a("iLL0"),P=a("tcrU"),k=a("LvDl"),C=a("fXoL"),M=a("1kSV"),w=a("5eHb"),q=a("aceb"),x=a("ZOsW"),A=a("qre9"),O=a("xFGO");function N(i,t){1&i&&(C.jc(0,"div",9),C.jc(1,"h2",10),C.jd(2,"Generate slip"),C.ic(),C.ic())}function L(i,t){1&i&&(C.jc(0,"div",34),C.jc(1,"h3",35),C.jd(2,"Addition"),C.ic(),C.ic())}function F(i,t){1&i&&(C.jc(0,"div",36),C.jc(1,"span"),C.jd(2,"Temperarture is required"),C.ic(),C.ic())}function H(i,t){1&i&&(C.jc(0,"div",36),C.jc(1,"span"),C.jd(2,"Hold Time is required"),C.ic(),C.ic())}function T(i,t){1&i&&(C.jc(0,"div",36),C.jc(1,"span"),C.jd(2,"Liquor ratio is required"),C.ic(),C.ic())}function B(i,t){if(1&i&&(C.jc(0,"ng-option",43),C.jd(1),C.ic()),2&i){var e=t.$implicit;C.Hc("value",e.itemId),C.Pb(1),C.md(" ",e.itemName," - ",e.supplierName,"")}}var _=function(){return{type:"zoom"}},R=function(i){return{animation:i}};function $(i,t){if(1&i){var e=C.kc();C.jc(0,"tr"),C.jc(1,"td"),C.jc(2,"ng-select",37,38),C.uc("ngModelChange",(function(i){return C.Xc(e),t.$implicit.itemId=i}))("change",(function(i){C.Xc(e);var n=t.index;return C.yc(2).itemSelected1(i,n)})),C.hd(5,B,2,3,"ng-option",39),C.zc(6,"filterOutSelectedSupplier"),C.ic(),C.ic(),C.jc(7,"td"),C.jc(8,"input",40,41),C.uc("keypress",(function(i){return C.Xc(e),C.yc(2).numberOnly(i)}))("ngModelChange",(function(i){return C.Xc(e),t.$implicit.qty=i}))("keyup",(function(i){C.Xc(e);var n=t.index;return C.yc(2).onKeyUp1(i,n,1,"quantity")})),C.ic(),C.ic(),C.jc(10,"td"),C.jc(11,"nb-icon",42),C.uc("click",(function(){C.Xc(e);var i=t.index;return C.yc(2).removeItem1(i)})),C.ic(),C.ic(),C.ic()}if(2&i){var n=t.$implicit,c=t.index,a=C.yc(2);C.Pb(2),C.Kc("name","itemId",n._id,"",c,""),C.Hc("ngModel",n.itemId),C.Pb(3),C.Hc("ngForOf",C.Cc(6,9,a.itemListArray,a.itemList,n.itemId)),C.Pb(3),C.Kc("name","qty",n._id,"",c,""),C.Hc("ngModel",n.qty)("id","itemList"+c+"-1"),C.Pb(3),C.Hc("options",C.Nc(14,R,C.Mc(13,_)))}}var E=function(i){return{"is-invalid":i}};function X(i,t){if(1&i){var e=C.kc();C.jc(0,"div",11),C.jc(1,"nb-card-body",12),C.jc(2,"div"),C.jc(3,"div",13),C.jc(4,"div"),C.jc(5,"form",null,14),C.jc(7,"div"),C.jc(8,"div",2),C.hd(9,L,3,0,"div",15),C.jc(10,"div",16),C.jc(11,"label",17),C.jd(12,"Temperature"),C.ic(),C.jc(13,"input",18,19),C.uc("keypress",(function(i){return C.Xc(e),C.yc().numberOnly(i)}))("ngModelChange",(function(i){return C.Xc(e),C.yc().temp=i})),C.ic(),C.hd(15,F,3,0,"div",20),C.ic(),C.jc(16,"div",16),C.jc(17,"label",17),C.jd(18,"Hold Time"),C.ic(),C.jc(19,"input",21,22),C.uc("keypress",(function(i){return C.Xc(e),C.yc().numberOnly(i)}))("ngModelChange",(function(i){return C.Xc(e),C.yc().holdTime=i})),C.ic(),C.hd(21,H,3,0,"div",20),C.ic(),C.jc(22,"div",16),C.jc(23,"label",17),C.jd(24,"Liqure Ratio"),C.ic(),C.jc(25,"input",23,24),C.uc("keypress",(function(i){return C.Xc(e),C.yc().numberOnly(i)}))("ngModelChange",(function(i){return C.Xc(e),C.yc().liquorRatio=i})),C.ic(),C.hd(27,T,3,0,"div",20),C.ic(),C.jc(28,"div",25),C.jc(29,"nb-checkbox",26),C.uc("ngModelChange",(function(i){return C.Xc(e),C.yc().isColor=i})),C.ic(),C.jd(30," \xa0"),C.jc(31,"label",27),C.jd(32,"Color"),C.ic(),C.ic(),C.jc(33,"div",28),C.jc(34,"table",29),C.jc(35,"tr"),C.jc(36,"th"),C.jd(37,"Item name"),C.ic(),C.jc(38,"th"),C.jd(39,"Quantity"),C.ic(),C.jc(40,"th"),C.jd(41,"Action"),C.ic(),C.ic(),C.hd(42,$,12,16,"tr",30),C.zc(43,"filterByIsColor"),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(44,"div",2),C.jc(45,"div",31),C.jc(46,"button",32),C.uc("click",(function(){return C.Xc(e),C.yc().activeModal.close(!1)})),C.jd(47,"CANCEL"),C.ic(),C.jc(48,"button",33),C.uc("click",(function(){C.Xc(e);var i=C.Uc(6),t=C.yc();return t.additionSlipSaveFlag=!0,t.saveSlipData(i)})),C.jd(49,"SAVE"),C.ic(),C.jc(50,"button",33),C.uc("click",(function(){C.Xc(e);var i=C.Uc(6);return C.yc().printSlip(i)})),C.jd(51,"Save And Print"),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.ic()}if(2&i){var n=C.Uc(14),c=C.Uc(20),a=C.Uc(26),o=C.yc();C.Pb(9),C.Hc("ngIf",o.additionSlipFlag),C.Pb(4),C.Hc("ngModel",o.temp)("ngClass",C.Nc(17,E,n.invalid&&(o.formSubmitted||n.touched))),C.Pb(2),C.Hc("ngIf",n.invalid&&(o.formSubmitted||n.touched)),C.Pb(4),C.Hc("ngModel",o.holdTime)("ngClass",C.Nc(19,E,c.invalid&&(o.formSubmitted||c.touched))),C.Pb(2),C.Hc("ngIf",c.invalid&&(o.formSubmitted||c.touched)),C.Pb(4),C.Hc("ngModel",o.liquorRatio)("ngClass",C.Nc(21,E,a.invalid&&(o.formSubmitted||a.touched))),C.Pb(2),C.Hc("ngIf",a.invalid&&(o.formSubmitted||a.touched)),C.Pb(2),C.Hc("ngModel",o.isColor),C.Pb(13),C.Hc("ngForOf",C.Cc(43,13,o.itemList,o.isColor,!1))("ngForTrackBy",o.trackByFn)}}function W(i,t){if(1&i&&(C.jc(0,"tr"),C.jc(1,"td",65),C.jc(2,"p",49),C.jd(3),C.ic(),C.ic(),C.jc(4,"td",65),C.jc(5,"p",49),C.jd(6),C.ic(),C.ic(),C.jc(7,"td",65),C.jc(8,"p",49),C.jd(9),C.ic(),C.ic(),C.ic()),2&i){var e=t.$implicit;C.Pb(3),C.kd(e.itemName),C.Pb(3),C.kd(e.qty),C.Pb(3),C.kd(e.supplierName)}}function z(i,t){if(1&i&&(C.jc(0,"div"),C.jc(1,"div",46),C.jc(2,"div",47),C.jc(3,"div",2),C.jc(4,"div",48),C.jc(5,"label",49),C.jd(6,"Lot No:"),C.ic(),C.jc(7,"span",50),C.jd(8),C.ic(),C.ic(),C.jc(9,"div",48),C.jc(10,"label",49),C.jd(11,"Mc No:"),C.ic(),C.jc(12,"span",50),C.jd(13),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(14,"div",47),C.jc(15,"div",2),C.jc(16,"div",48),C.jc(17,"label",49),C.jd(18,"Lot Wt:"),C.ic(),C.jc(19,"span",51),C.jd(20),C.ic(),C.ic(),C.jc(21,"div",48),C.jc(22,"label",49),C.jd(23,"Date:"),C.ic(),C.jc(24,"span",51),C.jd(25),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(26,"div",47),C.jc(27,"div",2),C.jc(28,"div",48),C.jc(29,"label",49),C.jd(30,"QualityId:"),C.ic(),C.jc(31,"span",51),C.jd(32),C.ic(),C.ic(),C.jc(33,"div",48),C.jc(34,"label",49),C.jd(35,"Party Shade No:"),C.ic(),C.jc(36,"span",51),C.jd(37),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(38,"div",47),C.jc(39,"div",2),C.jc(40,"div",48),C.jc(41,"label",49),C.jd(42,"Taka/Cone:"),C.ic(),C.jc(43,"span",51),C.jd(44),C.ic(),C.ic(),C.jc(45,"div",48),C.jc(46,"label",49),C.jd(47,"Color Tone:"),C.ic(),C.jc(48,"span",51),C.jd(49),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(50,"div",52),C.jc(51,"div",53),C.jc(52,"div",54),C.jc(53,"div",55),C.jc(54,"h3",56),C.jd(55,"Addition"),C.ic(),C.ic(),C.jc(56,"div",57),C.jc(57,"label",58),C.jd(58,"Temperature:"),C.ic(),C.jd(59,"\xa0 "),C.jc(60,"div",59),C.jd(61),C.ic(),C.jd(62,"\xa0 "),C.ic(),C.jc(63,"div",60),C.jc(64,"label",58),C.jd(65,"Hold Time:"),C.ic(),C.jc(66,"div",59),C.jd(67),C.ic(),C.ic(),C.jc(68,"div",61),C.jc(69,"label",58),C.jd(70,"Liquor Ratio:"),C.ic(),C.jc(71,"div",62),C.jd(72),C.ic(),C.ic(),C.ic(),C.jc(73,"div",28),C.jc(74,"table",63),C.jc(75,"tr"),C.jc(76,"th",49),C.jd(77,"Item name"),C.ic(),C.jc(78,"th",49),C.jd(79,"Quantity"),C.ic(),C.jc(80,"th",49),C.jd(81,"Supplier Name"),C.ic(),C.ic(),C.hd(82,W,10,3,"tr",64),C.ic(),C.ic(),C.ic(),C.ic(),C.ic()),2&i){var e=C.yc(3);C.Pb(8),C.kd(e.slipData.batchId),C.Pb(5),C.kd(e.slipData.jetId),C.Pb(7),C.kd(e.slipData.totalWt),C.Pb(5),C.kd(e.myDate),C.Pb(7),C.kd(e.slipData.qualityId),C.Pb(5),C.kd(e.slipData.partyShadeNo),C.Pb(7),C.kd(e.slipData.batchCount),C.Pb(5),C.kd(e.slipData.colorTone),C.Pb(12),C.ld(" ",e.temp,""),C.Pb(6),C.ld(" ",e.holdTime,""),C.Pb(5),C.ld(" ",e.liquorRatio,""),C.Pb(10),C.Hc("ngForOf",e.itemList)}}function Q(i,t){if(1&i&&(C.jc(0,"div"),C.hd(1,z,83,12,"div",45),C.ic()),2&i){var e=C.yc(2);C.Pb(1),C.Hc("ngIf",e.slipData.dyeingSlipDataList)}}function U(i,t){if(1&i&&(C.jc(0,"div",44),C.jc(1,"nb-card-body"),C.hd(2,Q,2,1,"div",45),C.ic(),C.ic()),2&i){var e=C.yc();C.Pb(2),C.Hc("ngIf",e.slipData)}}var G,K=((G=function(){function i(t,n,c,a,o){e(this,i),this.activeModal=t,this.toastr=n,this.datePipe=c,this.DyeingProcessService=a,this.planningSlipService=o,this.processTypes=["Scouring","Dyeing","RC","Cold Wash","Addition"],this.isPrinting=!0,this.itemListArray=[],this.itemList=[],this.quantityNullFlag=!1,this.formSubmitted=!1,this.disableButton=!1,this.isSavedForPrint=!1,this.additionSlipSaveFlag=!1,this.saveClicked=!1,this.refreshPipe=0,this.destroy$=new u.a,this.myDate=new Date,this.myDate=this.datePipe.transform(this.myDate,"dd-MM-yyyy"),this.itemList.push(new I.a)}return c(i,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getItemData();case 2:if(i.t0=this.batchId&&this.stockId,!i.t0){i.next=6;break}return i.next=6,this.getSlipDataFromBatch();case 6:if(i.t1=this.isPrintDirect,!i.t1){i.next=10;break}return i.next=10,this.printSlip();case 10:this.editAdditionFlag&&this.getUpdateDataForAdditionSlip();case 11:case"end":return i.stop()}}),i,this)})))}},{key:"getItemData",value:function(){var i=this;this.DyeingProcessService.getAllItemWithSupplier().pipe(Object(p.a)(this.destroy$)).subscribe((function(t){t.success&&(i.itemListArray=t.data)}),(function(i){}))}},{key:"getSlipDataFromBatch",value:function(){var i=this;this.planningSlipService.getSlipDataByBatchStockId(this.batchId,this.stockId).pipe(Object(p.a)(this.destroy$)).subscribe((function(t){t.success&&(i.slipData=t.data,i.slipData&&(i.slipData.dyeingSlipDataList.forEach((function(t){t.dyeingSlipItemData.forEach((function(i){i.qty=i.qty?i.qty.toFixed(3):i.qty})),i.slipData.totalWt=Number(i.slipData.totalWt).toFixed(3)})),i.slipData.dyeingSlipDataList=Object(k.sortBy)(i.slipData.dyeingSlipDataList,"sequence"),i.isPrintDirect&&i.printNOW()))}),(function(i){}))}},{key:"getUpdateDataForAdditionSlip",value:function(){var i=this.additionSlipData.dyeingSlipData;this.temp=i.temp,this.holdTime=i.holdTime,this.isColor=i.isColor,this.liquorRatio=i.liquerRation,this.itemList=i.dyeingSlipItemData,this.id=i.id}},{key:"printSlip",value:function(i){var t=this;if(i&&!i.valid||this.quantityNullFlag)return this.toastr.error("Fill empty fields."),void(this.quantityNullFlag=!1);if(this.isPrintDirect?this.isSavedForPrint=!0:this.saveSlipData(i,!0),!this.isPrintDirect&&this.editAdditionFlag){var e=setInterval((function(){t.slipData&&t.isSavedForPrint&&(clearInterval(e),t.printNOW(),clearInterval(e))}),10);this.quantityNullFlag=!1}}},{key:"printNOW",value:function(){var i=this;this.isPrinting=!1;var t=new P.PrintDocument({title:""});t.append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.3.0/paper.css">'),t.append('<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">'),t.append('<link href="https://cdn.grapecity.com/wijmo/5.latest/styles/wijmo.min.css" rel="stylesheet">'),t.append('<link href="./planning-slip.component.scss" rel="stylesheet">');var e=setInterval((function(){var n=document.getElementById("print-slip");n&&(t.append(n),t.print(),clearInterval(e),i.activeModal.close(i.slipObj))}),10)}},{key:"numberOnly",value:function(i){var t=i.which?i.which:i.keyCode;return 46==t||!(t>31&&(t<48||t>57)||69==t)}},{key:"itemSelected1",value:function(i,t){var e=this,n=i;this.itemListArray.forEach((function(i){i.itemId==n&&(e.itemList[t].itemName=i.itemName,e.itemList[t].supplierId=i.supplierId,e.itemList[t].supplierName=i.supplierName,e.itemList[t].itemType=i.itemType)}))}},{key:"onKeyUp1",value:function(i,t,e,n){var c=this;if(13==(i.keyCode?i.keyCode:i.which))if(this.index="itemList"+(t+1)+"-1",t===this.itemList.length-1){var a=this.itemList[t];if(a.itemName&&a.qty){var o=new I.a;this.itemList.push(o);var d=setInterval((function(){var i=document.getElementById(c.index);null!=i&&(i.focus(),clearInterval(d))}),10)}else this.toastr.error("Fill empty fields")}else{this.index="itemList"+(t+1)+"-"+e;var r=setInterval((function(){var i=document.getElementById(c.index);null!=i&&(i.focus(),clearInterval(r))}),10)}}},{key:"removeItem1",value:function(i){1==this.itemList.length?(this.itemList=[],this.itemList.push(new I.a)):this.itemList.splice(i,1)}},{key:"trackByFn",value:function(i,t){return t?t._id||t:i}},{key:"colorSelected",value:function(i,t){this.refreshPipe++,this.refreshPipe>10&&(this.refreshPipe=1)}},{key:"saveSlipData",value:function(i){var t=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.checkItemListAndValue(),this.formSubmitted=!0,!i.valid||this.quantityNullFlag)return this.formSubmitted=!1,void this.toastr.error("Fill empty fields.");this.disableButton=!0,this.additionSlipFlag?(this.slipObj={id:this.id,temp:i.value.temp,holdTime:i.value.holdTime,liquorRatio:i.value.liquorRatio,isColor:i.value.isColor,items:this.itemList,printAlso:e},this.isSavedForPrint=!0,(this.additionSlipSaveFlag||e&&!this.editAdditionFlag)&&this.activeModal.close(this.slipObj)):this.planningSlipService.updateSlipData(this.slipData).pipe(Object(p.a)(this.destroy$)).subscribe((function(i){i.success?(t.isSavedForPrint=!0,t.toastr.success(i.msg),t.saveClicked&&t.activeModal.close(!0)):t.toastr.error(i.msg),t.disableButton=!1}),(function(i){t.disableButton=!1}))}},{key:"checkItemListAndValue",value:function(){var i=this;this.quantityNullFlag=!1,this.slipData&&this.slipData.dyeingSlipDataList.forEach((function(t){t.dyeingSlipItemData.forEach((function(t){null!=t.qty||(i.quantityNullFlag=!0)}))}))}}]),i}()).\u0275fac=function(i){return new(i||G)(C.dc(M.a),C.dc(w.b),C.dc(o.e),C.dc(D.a),C.dc(y.a))},G.\u0275cmp=C.Xb({type:G,selectors:[["ngx-slip-dialog"]],inputs:{additionSlipFlag:"additionSlipFlag",isPrintDirect:"isPrintDirect",batchId:"batchId",stockId:"stockId",editAdditionFlag:"editAdditionFlag",additionSlipData:"additionSlipData"},decls:11,vars:3,consts:[[1,"nb-style","pr-mr-0"],[1,"nb-header"],[1,"row"],["class","col-md-11",4,"ngIf"],[1,"col-md-1","user-per-check-display"],["aria-label","Close",1,"close","btn-foucs-none",3,"click"],["aria-hidden","true",1,"close-icon"],["id","addition-slip",4,"ngIf"],["id","print-slip","class","jet-slip size-A5",4,"ngIf"],[1,"col-md-11"],[1,"nb-text"],["id","addition-slip"],[1,"pr-pd-0"],[1,"container"],["myForm","ngForm"],["class","col-md-12",4,"ngIf"],[1,"form-group","col-md-4"],[1,"required","font-13"],["type","number","min","0","name","temp","required","",1,"form-control",3,"ngModel","ngClass","keypress","ngModelChange"],["temp1","ngModel"],["class","required-class",4,"ngIf"],["type","number","min","0","name","holdTime","required","",1,"form-control",3,"ngModel","ngClass","keypress","ngModelChange"],["hTime1","ngModel"],["type","number","min","0","name","liquorRatio","required","",1,"form-control",3,"ngModel","ngClass","keypress","ngModelChange"],["lRatio1","ngModel"],[1,"form-group","col-md-3","display-flex-start"],["id","iscolor","name","isColor",1,"status-basic","nb-transition",3,"ngModel","ngModelChange"],[1,"font-13"],[1,"form-group","col-md-12"],[1,"table","table-bordered","table-striped","table-process-fnt","text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-12","mobile-btn-center","text-btn-right"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-save",3,"click"],[1,"col-md-12"],[1,"name-print"],[1,"required-class"],["itemId1","ngModel","appendTo","body","required","","appendTo","body","required","",1,"ng-select-br-none",3,"name","ngModel","ngModelChange","change"],["data","","itemId1","ngModel"],["placeholder","Select Item",3,"value",4,"ngFor","ngForOf"],["type","number","min","0","required","",1,"tableForm","line-height-subtable",3,"name","ngModel","id","keypress","ngModelChange","keyup"],["quantity1","ngModel"],["icon","trash","status","danger",3,"options","click"],["placeholder","Select Item",3,"value"],["id","print-slip",1,"jet-slip","size-A5"],[4,"ngIf"],[1,"container","print-container","mr-bt-50"],[1,"mb-1","print-text-center","pd-bt-25"],[1,"col-md-6","wth-50"],[1,"font-25"],[1,"slip-value","rd-color"],[1,"slip-value"],[1,"container","print-container","mr-bt-50","jet-print-style-changes"],[1,"row","print-wth-100","background-c6daf0","mr-top-bottom-15"],[1,"col-md-12","width-100"],[1,"form-group","col-md-4","width-20","form-style-print"],[1,"font-30"],[1,"form-group","col-md-4","width-28","form-style-print"],[1,"mr-right","font-25","font-weight-bold"],[1,"print-data","width-30","color-000"],[1,"form-group","col-md-4","width-25","form-style-print"],[1,"form-group","col-md-4","form-style-print","width-27"],[1,"print-data","width-30","color-000","border-left-1px"],["id","border-table",1,"table","table-bordered","table-process-fnt","text-center","print-bg-transperent"],[4,"ngFor","ngForOf"],[1,"pd-bt","mr-top-5"]],template:function(i,t){1&i&&(C.jc(0,"nb-card",0),C.jc(1,"nb-card-header",1),C.jc(2,"div",2),C.hd(3,N,3,0,"div",3),C.jc(4,"div",4),C.jc(5,"button",5),C.uc("click",(function(){return t.activeModal.close(!1)})),C.jc(6,"span",6),C.jd(7,"\xd7"),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(8,"nb-card-body"),C.hd(9,X,52,23,"div",7),C.ic(),C.hd(10,U,3,1,"div",8),C.ic()),2&i&&(C.Pb(3),C.Hc("ngIf",t.additionSlipFlag),C.Pb(6),C.Hc("ngIf",t.additionSlipFlag),C.Pb(1),C.Hc("ngIf",t.additionSlipFlag&&!t.isPrinting&&t.slipData))},directives:[q.u,q.x,o.n,q.t,d.x,d.m,d.n,d.q,d.a,d.t,d.l,d.o,o.l,q.A,o.m,x.a,q.I,x.c],pipes:[A.a,O.a],styles:[".print-slip[_ngcontent-%COMP%]{width:100%;height:100%;padding-top:10%}@page{size[_ngcontent-%COMP%]:A5;margin:0}.wth-50[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:space-between}.pd-bt[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.slip-value[_ngcontent-%COMP%]{border-style:groove;width:150px}.slip-background[_ngcontent-%COMP%]{display:flex;background-color:#5f9ea0!important}.print-data[_ngcontent-%COMP%]{color:#aa3634!important;border-style:groove;width:50px}.pick-color-row[_ngcontent-%COMP%]{width:100%!important}@media print{.size-A5[_ngcontent-%COMP%]{size:A5}.mr-top-30[_ngcontent-%COMP%]{margin-top:30px}.mr-bottom-30[_ngcontent-%COMP%]{margin-bottom:30px}.border-style-solid[_ngcontent-%COMP%]{border-style:solid}.pd-top-10[_ngcontent-%COMP%]{padding-top:10px}.slip-value[_ngcontent-%COMP%]{width:60%}.rd-color[_ngcontent-%COMP%]{color:red}.jet-print-style-changes[_ngcontent-%COMP%]{margin:0!important}.jet-print-style-changes[_ngcontent-%COMP%], .main-jet-p-changes[_ngcontent-%COMP%]{width:100%!important;border-style:solid;background-color:c6daf0}.main-jet-p-changes[_ngcontent-%COMP%]{margin-bottom:20px!important}.width-100[_ngcontent-%COMP%]{width:100%!important}.width-20[_ngcontent-%COMP%]{width:20%!important}.width-28[_ngcontent-%COMP%]{width:28%!important}.width-25[_ngcontent-%COMP%]{width:25%!important}.width-27[_ngcontent-%COMP%]{width:27%!important}.width-30[_ngcontent-%COMP%]{width:30%!important}.color-000[_ngcontent-%COMP%]{color:#000!important}.form-style-print[_ngcontent-%COMP%]{padding:0;display:inline-flex;justify-content:flex-start;align-items:center}.pd-15[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}.font-25[_ngcontent-%COMP%]{font-size:25px!important}.mr-top-bottom-15[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.font-weight-bold[_ngcontent-%COMP%]{font-weight:700}.font-30[_ngcontent-%COMP%]{font-size:30px}.border-left-1px[_ngcontent-%COMP%]{border-left:1px solid}.print-bg-transperent[_ngcontent-%COMP%]{background-color:transparent}.print-color-media[_ngcontent-%COMP%]{width:auto;color:#000!important}.font-40[_ngcontent-%COMP%]{font-size:40px}}"]}),G),V=a("lDzL"),J=a("+lss");function Y(i,t){if(1&i&&(C.jc(0,"ng-option",39),C.jd(1),C.ic()),2&i){var e=t.$implicit;C.Hc("value",e),C.Pb(1),C.ld("",e.batchId," ")}}var Z=function(){return{type:"zoom"}},ii=function(i){return{animation:i}};function ti(i,t){if(1&i){var e=C.kc();C.jc(0,"nb-icon",40),C.uc("click",(function(){C.Xc(e);var i=t.row;return C.yc().editSlip(i.id)})),C.ic(),C.jc(1,"nb-icon",41),C.uc("click",(function(){C.Xc(e);var i=t.row;return C.yc().deleteSlip(i.id)})),C.ic(),C.jc(2,"nb-icon",42),C.uc("click",(function(){C.Xc(e);var i=t.row;return C.yc().editSlip(i.id,!0)})),C.ic()}2&i&&(C.Hc("options",C.Nc(4,ii,C.Mc(3,Z))),C.Pb(1),C.Hc("options",C.Nc(7,ii,C.Mc(6,Z))),C.Pb(1),C.Hc("options",C.Nc(10,ii,C.Mc(9,Z))))}function ei(i,t){if(1&i&&(C.jc(0,"ng-option",39),C.jc(1,"div",4),C.jc(2,"div",30),C.jc(3,"div",31),C.jd(4),C.ic(),C.ic(),C.jc(5,"div",30),C.jc(6,"div",32),C.jd(7),C.ic(),C.ic(),C.ic(),C.ic()),2&i){var e=t.$implicit;C.Hc("value",e.id),C.Pb(4),C.ld(" ",e.partyName,""),C.Pb(3),C.ld(" ",e.partyCode,"")}}function ni(i,t){if(1&i&&(C.jc(0,"ng-option",39),C.jc(1,"div",4),C.jc(2,"div",30),C.jc(3,"div",31),C.jd(4),C.ic(),C.ic(),C.jc(5,"div",30),C.jc(6,"div",32),C.jd(7),C.ic(),C.ic(),C.ic(),C.ic()),2&i){var e=t.$implicit;C.Hc("value",e.qualityEntryId),C.Pb(4),C.ld(" ",e.qualityId,""),C.Pb(3),C.ld(" ",e.qualityName,"")}}function ci(i,t){if(1&i){var e=C.kc();C.jc(0,"button",43),C.uc("click",(function(){C.Xc(e);var i=t.$implicit;return C.yc().onBatchSelect(i)})),C.jd(1),C.ic()}if(2&i){var n=t.$implicit;C.Pb(1),C.ld(" ",n.batchId," ")}}var ai,oi=function(i){return{"is-invalid":i}},di=function i(){e(this,i)},ri=function i(){e(this,i)},li=function i(){e(this,i)},si=function i(){e(this,i)},pi=((ai=function(){function i(t,n,c,a,o,d,r,l){e(this,i),this.modalService=t,this.batchService=n,this.partyService=c,this.qualityService=a,this.planningService=o,this.programService=d,this.route=r,this.toastr=l,this.directSlipFlag=!1,this.formSubmitted=!1,this.directBatchList=[],this.batchList=[],this.partyList=[],this.qualityList=[],this.additionSlipList=[],this.copyAdditionalSlip=[],this.addition=[],this.additionList=[{batchId:null,holdTime:null,liquorRatio:null,temperature:null}],this.loading=!0,this.tableStyle="bootstrap",this.additionSlipArray=[],this.additionSlip=new di,this.dyeingSlipData=new li,this.directSlip=new ri,this.dyeingSlipItemData=new si,this.directSlipBatchId=null,this.directSlipStockId=null,this.directSlipPartyId=null,this.directSlipQualityId=null,this.printNow=!1,this.destroy$=new u.a,this.tableHeaders=["batchId","holdTime","liquerRation","temp"],this.searchStr="",this.searchANDCondition=!1}return c(i,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){this.getAllParty(),this.getAllQuality(),this.getAllBatch(),this.getAllBatchData(),this.getAllAdditionSlip((function(){}))}},{key:"getAllParty",value:function(){var i=this;this.loading=!0,this.partyService.getAllPartyNameList().pipe(Object(p.a)(this.destroy$)).subscribe((function(t){t.success?(i.partyList=t.data,i.loading=!1):i.loading=!1}),(function(t){i.loading=!1}))}},{key:"getAllQuality",value:function(){var i=this;this.loading=!0,this.qualityService.getQualityNameData().pipe(Object(p.a)(this.destroy$)).subscribe((function(t){t.success?(i.qualityList=t.data,i.loading=!1):i.loading=!1}),(function(t){i.loading=!1}))}},{key:"getAllBatch",value:function(){var i=this;this.batchService.getAllBatchForAdditionSlip().pipe(Object(p.a)(this.destroy$)).subscribe((function(t){t.success?(i.batchList=t.data,i.loading=!1):i.loading=!1}),(function(t){i.loading=!1}))}},{key:"getAllBatchData",value:function(){var i=this;this.directBatchList=[],this.batchService.getAllBatch().pipe(Object(p.a)(this.destroy$)).subscribe((function(t){t.success&&(i.directBatchList=t.data)}),(function(t){i.toastr.error(g.Serever_Error)}))}},{key:"partySelected",value:function(i){var t=this;this.loading=!0,this.directSlip.qualityEntryId=null,i&&this.directSlip.partyId&&this.programService.getQualityByParty(this.directSlip.partyId).pipe(Object(p.a)(this.destroy$)).subscribe((function(i){i.success?t.qualityList=i.data.qualityDataList:(t.directSlip.qualityEntryId=null,t.qualityList=[]),t.loading=!1}),(function(i){t.qualityList=[],t.loading=!1})),i?(this.directBatchList=[],this.directSlip.partyId&&this.programService.getBatchByParty(this.directSlip.partyId).pipe(Object(p.a)(this.destroy$)).subscribe((function(i){i.success?(t.directBatchList=i.data,t.directBatchList&&(t.directBatchList=t.directBatchList.filter((function(i){return!i.productionPlanned}))),t.loading=!1):t.loading=!1}),(function(i){t.loading=!1}))):(this.directBatchList=[],this.directSlip.partyId=null,this.directSlip.qualityEntryId=null,this.getAllParty(),this.getAllQuality(),this.getAllBatchData(),this.loading=!1)}},{key:"qualitySelected",value:function(i){var t=this;this.loading=!0,null!=i&&(this.directSlip.qualityEntryId&&this.qualityList.forEach((function(i){i.id==t.directSlip.qualityEntryId&&(t.p_id=i.partyId,t.q_id=i.qualityId,t.directSlip.qualityEntryId=i.id)})),this.directSlip.qualityEntryId&&(this.batchList=[],this.programService.getBatchByQuality(this.directSlip.qualityEntryId).pipe(Object(p.a)(this.destroy$)).subscribe((function(i){i.success?(t.directBatchList=i.data,t.batchList&&(t.directBatchList=t.directBatchList.filter((function(i){return!i.productionPlanned}))),t.loading=!1):t.loading=!1}),(function(i){t.loading=!1}))))}},{key:"onBatchSelect",value:function(i){var t=this;i&&(this.directSlipFlag=!0);var e=this.modalService.open(S.a);e.componentInstance.isPrintDirect=!1,this.directSlipFlag&&(this.directSlipBatchId=i.batchId,this.directSlipStockId=i.controlId,this.directSlipPartyId=i.partyId,this.directSlipQualityId=i.qualityEntryId,e.componentInstance.partyId=i.partyId,e.componentInstance.qualityId=i.qualityEntryId,e.componentInstance.directSlipFlag=!0,e.componentInstance.batchId=i.batchId,e.componentInstance.stockId=null==i?void 0:i.controlId),e.result.then((function(i){i&&(t.dyeingSlipData=new li,t.dyeingSlipData.dyeingSlipItemData=[],t.dyeingSlipData.processType="directDyeing",t.directSlip.jetId=i.jetId,t.dyeingSlipData.holdTime=i.holdTime,t.dyeingSlipData.liquerRation=i.liquorRatio,t.dyeingSlipData.temp=i.temp,i.items.forEach((function(i,e){t.dyeingSlipData.dyeingSlipItemData[e]||t.dyeingSlipData.dyeingSlipItemData.push(new si),t.dyeingSlipData.dyeingSlipItemData[e].itemId=i.itemId,t.dyeingSlipData.dyeingSlipItemData[e].itemName=i.itemName,t.dyeingSlipData.dyeingSlipItemData[e].qty=i.qty,t.dyeingSlipData.dyeingSlipItemData[e].supplierId=i.supplierId,t.dyeingSlipData.dyeingSlipItemData[e].supplierName=i.supplierName})),t.directSlip.dyeingSlipData=t.dyeingSlipData,t.directSlip.batchId=t.directSlipBatchId,t.directSlip.stockId=t.directSlipStockId,t.directSlip.partyId=t.directSlipPartyId,t.directSlip.qualityEntryId=t.directSlipQualityId,t.printNow=i.print,i.shadeId&&(t.directSlip.shadeId=i.shadeId),t.saveDirectSlip())}))}},{key:"printDirect",value:function(i){}},{key:"batchSelected",value:function(i){var t=this;this.additionSlip.batchId=i.batchId,this.additionSlip.productionId=i.productionId;var e=this.modalService.open(K);e.componentInstance.isPrintDirect=!1,e.componentInstance.additionSlipFlag=!0,e.componentInstance.batchId=i.batchId,e.componentInstance.stockId=i.productionId,e.result.then((function(i){i&&t.saveAdditionSlip(i)}))}},{key:"saveDirectSlip",value:function(){var i=this;this.planningService.saveDirectSlip(this.directSlip).pipe(Object(p.a)(this.destroy$)).subscribe((function(t){if(t.success){if(i.toastr.success(g.Add_Success),i.directSlip.shadeId=null,i.printNow){var e=i.modalService.open(S.a);e.componentInstance.isPrintDirect=!0,e.componentInstance.batchId=i.directSlipBatchId,e.componentInstance.stockId=t.data,e.componentInstance.additionSlipFlag=!1,e.result.then((function(i){})).catch((function(i){}))}i.ngOnInit()}else i.toastr.error(t.msg)}),(function(i){}))}},{key:"editSlip",value:function(i,t){var e,n,c=this;this.additionSlipList.forEach((function(t){t.id==i&&(e=t.productionId,n=t.batchId,c.additionSlip.batchId=n,c.additionSlip.productionId=e)}));var a=!1;t&&(a=!0),this.getAdditionSlipDataById(i,n,e,a)}},{key:"getAdditionSlipDataById",value:function(i,t,e,n){var c=this;this.planningService.getAlladditionSlipById(i).pipe(Object(p.a)(this.destroy$)).subscribe((function(a){if(a.success&&(c.additionSlipData=a.data,c.additionSlipData)){var o=c.modalService.open(K);o.componentInstance.isPrintDirect=n,o.componentInstance.batchId=t,o.componentInstance.editAdditionFlag=!0,o.componentInstance.additionSlipFlag=!0,o.componentInstance.stockId=e,o.componentInstance.additionSlipData=c.additionSlipData,o.result.then((function(t){t&&c.updateAdditionSlip(t,i)}))}c.loading=!1}),(function(i){c.loading=!1}))}},{key:"deleteSlip",value:function(i){var t=this;this.modalService.open(h.a,{size:"sm"}).result.then((function(e){e&&t.planningService.deleteAdditionSlip(i).pipe(Object(p.a)(t.destroy$)).subscribe((function(i){t.getAllAdditionSlip((function(){})),t.toastr.success(g.Delete)}),(function(i){}))}))}},{key:"updateAdditionSlip",value:function(i,t){var e=this;this.dyeingSlipData=new li,this.additionSlip.id=t,this.additionSlip.dyeingSlipData=this.dyeingSlipData,this.additionSlip.dyeingSlipData.holdTime=i.holdTime,this.additionSlip.dyeingSlipData.temp=i.temp,this.additionSlip.dyeingSlipData.isColor=i.isColor,this.additionSlip.dyeingSlipData.liquerRation=i.liquorRatio,this.additionSlip.dyeingSlipData.processType="addition",this.additionSlip.dyeingSlipData.id=i.id,this.additionSlip.dyeingSlipData.dyeingSlipItemData=i.items,this.planningService.updateAdditionDyeingSlip(this.additionSlip).pipe(Object(p.a)(this.destroy$)).subscribe((function(i){i.success?(e.getAllAdditionSlip((function(){})),e.toastr.success(g.Update_Success)):e.toastr.error(g.Update_Error)}),(function(i){}))}},{key:"saveAdditionSlip",value:function(i){var t=this;this.dyeingSlipData.holdTime=i.holdTime,this.dyeingSlipData.temp=i.temp,this.dyeingSlipData.isColor=i.isColor,this.dyeingSlipData.liquerRation=i.liquorRatio,this.dyeingSlipData.processType="addition",this.dyeingSlipData.dyeingSlipItemData=i.items,this.additionSlip.dyeingSlipData=this.dyeingSlipData,this.planningService.saveadditionSlip(this.additionSlip).pipe(Object(p.a)(this.destroy$)).subscribe((function(e){e.success?(t.route.navigate(["/pages/addition-slip"]),t.toastr.success(g.Add_Success),t.getAllAdditionSlip((function(){i.printAlso&&t.editSlip(e.data,!0)})),t.getAllBatch()):t.toastr.error(g.Add_Error)}),(function(i){}))}},{key:"getAllAdditionSlip",value:function(){var i=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.additionSlipList=[],this.planningService.getAlladditionSlip().pipe(Object(p.a)(this.destroy$)).subscribe((function(e){e.success&&(i.additionSlipList=e.data,i.addition=i.additionSlipList.map((function(i){return{id:i.id,batchId:i.batchId,holdTime:i.dyeingSlipData.holdTime,liquerRation:i.dyeingSlipData.liquerRation,temp:i.dyeingSlipData.temp}})),i.copyAdditionalSlip=i.additionSlipList.map((function(i){return{id:i.id,batchId:i.batchId,holdTime:i.dyeingSlipData.holdTime,liquerRation:i.dyeingSlipData.liquerRation,temp:i.dyeingSlipData.temp}})),t()),i.loading=!1}),(function(t){i.loading=!1}))}},{key:"filter",value:function(i){var t=i.toString().toLowerCase().trim(),e=Object.keys(this.copyAdditionalSlip[0]);this.addition=this.copyAdditionalSlip.filter((function(i){for(var n=0;n<e.length;n++)if(i[e[n]]&&i[e[n]].toString().toLowerCase().includes(t)||!t)return!0}))}}]),i}()).\u0275fac=function(i){return new(i||ai)(C.dc(M.e),C.dc(v.a),C.dc(m.a),C.dc(f.a),C.dc(y.a),C.dc(b.a),C.dc(l.c),C.dc(w.b))},ai.\u0275cmp=C.Xb({type:ai,selectors:[["ngx-addition-slip"]],decls:75,vars:28,consts:[[1,"nb-style"],["fullWidth","",1,"boiler-thermopack-tabheader"],["tabTitle","Addition slip"],["myForm","ngForm"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"required"],["appendTo","body","appendTo","body","name","batchNo","placeholder","Batch No",1,"required-error-dropdown",3,"ngModel","ngModelChange","change"],["batchNo1","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-8",2,"position","relative","top","26px"],[2,"display","flex"],[2,"margin-top","4px","margin-right","2px"],["status","primary","labelPosition","start","name","shift",3,"ngModel","ngModelChange"],[2,"margin-top","4px","margin-left","2px"],[1,"col-md-8"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"material",3,"rows","ngClass","headerHeight","footerHeight"],["name","Action","sortable","false","prop","id",3,"maxWidth"],["ngx-datatable-cell-template",""],["name","Batch No.","prop","batchId",3,"maxWidth"],["name","Hold Time","prop","holdTime"],["name","Liquor Ratio","prop","liquerRation",3,"maxWidth"],["name","Temperature","prop","temp",3,"maxWidth"],["tabTitle","Direct slip"],[1,"col-md-4","mobile-mr-bt"],["appendTo","body","placeholder","Select Party Name","name","partyId",1,"required-error-dropdown","dropdown-name",3,"ngModel","ngClass","ngModelChange","change"],["partyId1","ngModel"],["disabled","true"],[1,"col-md-6","col-6"],[1,"text-left","txt-ov-elips"],[1,"text-right","txt-ov-elips"],["appendTo","body","placeholder","Select Quality Name","name","qualityId",1,"required-error-dropdown","dropdown-name",3,"ngModel","ngClass","ngModelChange","change"],["qualityId1","ngModel"],[1,"col-md-12"],[1,"addition-direct-batch"],["nbButton","","size","small","class","p-badge-design",3,"click",4,"ngFor","ngForOf"],["tabTitle","Re-Dyeing slip"],[3,"value"],["icon","edit","status","primary",3,"options","click"],["icon","trash","status","danger",3,"options","click"],["icon","clipboard","nbTooltip","Print","nbTooltipStatus","primary","status","danger",3,"options","click"],["nbButton","","size","small",1,"p-badge-design",3,"click"]],template:function(i,t){if(1&i&&(C.jc(0,"nb-card",0),C.jc(1,"nb-card-body"),C.jc(2,"nb-tabset",1),C.jc(3,"nb-tab",2),C.jc(4,"div"),C.jc(5,"form",null,3),C.jc(7,"div",4),C.jc(8,"div",5),C.jc(9,"div",6),C.jc(10,"label",7),C.jd(11,"Batch No:"),C.ic(),C.jc(12,"ng-select",8,9),C.uc("ngModelChange",(function(i){return t.batchNo=i}))("change",(function(i){return t.batchSelected(i)})),C.hd(14,Y,2,2,"ng-option",10),C.ic(),C.ic(),C.ic(),C.jc(15,"div",11),C.jc(16,"div",4),C.jc(17,"div",5),C.jc(18,"div",12),C.jc(19,"p",13),C.jd(20,"OR"),C.ic(),C.jc(21,"nb-toggle",14),C.uc("ngModelChange",(function(i){return t.searchANDCondition=i})),C.ic(),C.jc(22,"p",15),C.jd(23,"AND"),C.ic(),C.ic(),C.ic(),C.jc(24,"div",16),C.jc(25,"input",17),C.uc("ngModelChange",(function(i){return t.searchStr=i})),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(26,"ngx-datatable",18),C.zc(27,"searchInTable"),C.jc(28,"ngx-datatable-column",19),C.hd(29,ti,3,12,"ng-template",20),C.ic(),C.ec(30,"ngx-datatable-column",21),C.ec(31,"ngx-datatable-column",22),C.ec(32,"ngx-datatable-column",23),C.ec(33,"ngx-datatable-column",24),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(34,"nb-tab",25),C.jc(35,"div"),C.jc(36,"form",null,3),C.jc(38,"div",4),C.jc(39,"div",26),C.jc(40,"div",6),C.jc(41,"label",7),C.jd(42,"Party Name"),C.ic(),C.jc(43,"ng-select",27,28),C.uc("ngModelChange",(function(i){return t.directSlip.partyId=i}))("change",(function(i){return t.partySelected(i)})),C.jc(45,"ng-option",29),C.jc(46,"div",4),C.jc(47,"div",30),C.jc(48,"div",31),C.jd(49,"Party Name "),C.ic(),C.ic(),C.jc(50,"div",30),C.jc(51,"div",32),C.jd(52," Party Code"),C.ic(),C.ic(),C.ic(),C.ic(),C.hd(53,ei,8,3,"ng-option",10),C.ic(),C.ic(),C.ic(),C.jc(54,"div",26),C.jc(55,"div",6),C.jc(56,"label",7),C.jd(57,"Quality Name"),C.ic(),C.jc(58,"ng-select",33,34),C.uc("ngModelChange",(function(i){return t.directSlip.qualityEntryId=i}))("change",(function(i){return t.qualitySelected(i)})),C.jc(60,"ng-option",29),C.jc(61,"div",4),C.jc(62,"div",30),C.jc(63,"div",31),C.jd(64,"Quality Id "),C.ic(),C.ic(),C.jc(65,"div",30),C.jc(66,"div",32),C.jd(67," Quality Name"),C.ic(),C.ic(),C.ic(),C.ic(),C.hd(68,ni,8,3,"ng-option",10),C.ic(),C.ic(),C.ic(),C.jc(69,"div",35),C.jc(70,"div",36),C.hd(71,ci,2,1,"button",37),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(72,"nb-tab",38),C.jc(73,"h1"),C.jd(74,"re-dyeing slip"),C.ic(),C.ic(),C.ic(),C.ic(),C.ic()),2&i){var e=C.Uc(44),n=C.Uc(59);C.Pb(12),C.Hc("ngModel",t.batchNo),C.Pb(2),C.Hc("ngForOf",t.batchList),C.Pb(7),C.Hc("ngModel",t.searchANDCondition),C.Pb(4),C.Hc("ngModel",t.searchStr),C.Pb(1),C.Hc("rows",C.Dc(27,19,t.addition,t.searchStr,t.searchANDCondition,t.tableHeaders))("ngClass",t.tableStyle)("headerHeight",31)("footerHeight",40),C.Pb(2),C.Hc("maxWidth",90),C.Pb(2),C.Hc("maxWidth",110),C.Pb(2),C.Hc("maxWidth",120),C.Pb(1),C.Hc("maxWidth",115),C.Pb(10),C.Hc("ngModel",t.directSlip.partyId)("ngClass",C.Nc(24,oi,e.invalid&&(t.formSubmitted||e.touched))),C.Pb(10),C.Hc("ngForOf",t.partyList),C.Pb(5),C.Hc("ngModel",t.directSlip.qualityEntryId)("ngClass",C.Nc(26,oi,n.invalid&&(t.formSubmitted||n.touched))),C.Pb(10),C.Hc("ngForOf",t.qualityList),C.Pb(3),C.Hc("ngForOf",t.directBatchList)}},directives:[q.u,q.t,q.rb,q.qb,d.x,d.m,d.n,x.a,d.l,d.o,o.m,q.wb,d.a,V.e,o.l,V.b,V.a,x.c,q.I,q.yb,q.q],pipes:[J.a],styles:[""]}),ai),ui=a("4/8P"),hi=a("Cma1"),gi=a("qC+V"),mi=function(){return{type:"zoom"}},yi=function(i){return{animation:i}};function bi(i,t){if(1&i){var e=C.kc();C.jc(0,"nb-icon",25),C.uc("click",(function(i){C.Xc(e);var n=t.row;return C.yc().printDyeingSlip(i,n)})),C.ic()}2&i&&C.Hc("options",C.Nc(2,yi,C.Mc(1,mi)))}function fi(i,t){1&i&&(C.jd(0," Quality Id "),C.jc(1,"div",26),C.ec(2,"nb-icon",27),C.ic())}var vi,Si,ji,Ii=[{path:"",component:pi,canActivate:[s.a],canLoad:[s.a],data:{PermissionName:["view","view group","view all"]}},{path:"dyeingSlip",component:(vi=function(){function t(i,n,c,a,o){e(this,t),this.dyeingService=i,this.commonService=n,this.modalService=c,this.changeRef=a,this.toastr=o,this.loading=!1,this.errorData=g,this.tablestyle="bootstrap",this.dyeingSlip=[],this.copydyeingSlip=[],this.module="dyeingSlip",this.headers=["batch Id"],this.flag=!1,this.destroy$=new u.a,this.dyeSlip=[],this.tableHeaders=["qualityId","partyShadeNo","colorName","jetName","batchId"],this.searchStr="",this.searchANDCondition=!1}return c(t,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.getDyeingSlipData();case 1:case"end":return i.stop()}}),i,this)})))}},{key:"getDyeingSlipData",value:function(){var i=this;this.dyeingService.getDyeingSlipData().subscribe((function(t){t.success&&(i.dyeingSlip=t.data,i.rowData=i.dyeingSlip,i.copydyeingSlip=t.data)}),(function(i){}))}},{key:"filter",value:function(t){var e=this,n=t.toString().toLowerCase().trim();n?this.dyeingSlip=this.copydyeingSlip.filter((function(i){return e.matchString(i,"qualityId",n)||e.matchString(i,"partyShadeNo",n)||e.matchString(i,"colorName",n)||e.matchString(i,"jetName",n)||e.matchString(i,"batchId",n)})):this.dyeSlip=i(this.copydyeingSlip)}},{key:"matchString",value:function(i,t,e){return!!i[t]&&i[t].toLowerCase().includes(e)}},{key:"open",value:function(){this.flag=!0;var i=this.modalService.open(hi.a);i.componentInstance.headers=this.headers,i.componentInstance.list=this.dyeSlip,i.componentInstance.moduleName=this.module}},{key:"printDyeingSlip",value:function(i,t){var e=this.modalService.open(S.a);e.componentInstance.isPrintDirect=!0,e.componentInstance.batchId=t.batchId,e.componentInstance.stockId=t.productionId,e.componentInstance.additionSlipFlag=!1,e.result.then((function(i){})).catch((function(i){}))}}]),t}(),vi.\u0275fac=function(i){return new(i||vi)(C.dc(D.a),C.dc(ui.a),C.dc(M.e),C.dc(C.i),C.dc(w.b))},vi.\u0275cmp=C.Xb({type:vi,selectors:[["ngx-dyeing-slip"]],decls:33,vars:13,consts:[[3,"show"],[1,"row"],[1,"col-lg-12"],[1,"nb-style"],[1,"nb-header"],[1,"col-md-9","col-9"],[1,"nb-text"],[1,"col-md-2","col-1","display-flex-start","desktop-justify-flexend"],[1,"btn","btn-md","btn-design",3,"click"],[1,"col-md-4"],[2,"display","flex"],[2,"margin-top","4px","margin-right","2px"],["status","primary","labelPosition","start","name","shift",3,"ngModel","ngModelChange"],[2,"margin-top","4px","margin-left","2px"],[1,"col-md-8"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"material",3,"rows","ngClass","headerHeight","footerHeight"],["name","Actions","sortable","false","props","id",3,"maxWidth"],["ngx-datatable-cell-template",""],["name","Quality Id","props","qualityId"],["ngx-datatable-header-template",""],["name","Party Shade No","props","partyShadeNo"],["name","Color Name","props","colorName"],["name","jetName","props","jetName"],["name","Batch Id","props","batchId"],["icon","clipboard","nbTooltip","Print","nbTooltipStatus","primary","status","danger",3,"options","click"],["id","onclickFilter",1,"filter-icon"],["icon","menu-outline",1,"nb-icon-filter"]],template:function(i,t){1&i&&(C.ec(0,"ngx-loading",0),C.jc(1,"div",1),C.jc(2,"div",2),C.jc(3,"nb-card",3),C.jc(4,"nb-card-header",4),C.jc(5,"div",1),C.jc(6,"div",5),C.jc(7,"h2",6),C.jd(8,"Dyeing Slip"),C.ic(),C.ic(),C.jc(9,"div",7),C.jc(10,"button",8),C.uc("click",(function(){return t.open()})),C.jd(11,"EXPORT"),C.ic(),C.ic(),C.ic(),C.ic(),C.jc(12,"nb-card-body"),C.jc(13,"div",1),C.jc(14,"div",9),C.jc(15,"div",10),C.jc(16,"p",11),C.jd(17,"OR"),C.ic(),C.jc(18,"nb-toggle",12),C.uc("ngModelChange",(function(i){return t.searchANDCondition=i})),C.ic(),C.jc(19,"p",13),C.jd(20,"AND"),C.ic(),C.ic(),C.ic(),C.jc(21,"div",14),C.jc(22,"input",15),C.uc("ngModelChange",(function(i){return t.searchStr=i})),C.ic(),C.ic(),C.ic(),C.jc(23,"ngx-datatable",16),C.zc(24,"searchInTable"),C.jc(25,"ngx-datatable-column",17),C.hd(26,bi,1,4,"ng-template",18),C.ic(),C.jc(27,"ngx-datatable-column",19),C.hd(28,fi,3,0,"ng-template",20),C.ic(),C.ec(29,"ngx-datatable-column",21),C.ec(30,"ngx-datatable-column",22),C.ec(31,"ngx-datatable-column",23),C.ec(32,"ngx-datatable-column",24),C.ic(),C.ic(),C.ic(),C.ic(),C.ic()),2&i&&(C.Hc("show",t.loading),C.Pb(18),C.Hc("ngModel",t.searchANDCondition),C.Pb(4),C.Hc("ngModel",t.searchStr),C.Pb(1),C.Hc("rows",C.Dc(24,8,t.dyeingSlip,t.searchStr,t.searchANDCondition,t.tableHeaders))("ngClass",t.tablestyle)("headerHeight",31)("footerHeight",31),C.Pb(2),C.Hc("maxWidth",90))},directives:[gi.a,q.u,q.x,q.t,q.wb,d.l,d.o,d.a,V.e,o.l,V.b,V.a,V.c,q.I,q.yb],pipes:[J.a],styles:[""]}),vi),canActivate:[s.a],canLoad:[s.a],data:{PermissionName:["view","view group","view all"]}}],Di=((Si=function i(){e(this,i)}).\u0275mod=C.bc({type:Si}),Si.\u0275inj=C.ac({factory:function(i){return new(i||Si)},imports:[[l.g.forChild(Ii)],l.g]}),Si),Pi=a("vTDv"),ki=((ji=function i(){e(this,i)}).\u0275mod=C.bc({type:ji}),ji.\u0275inj=C.ac({factory:function(i){return new(i||ji)},imports:[[o.c,Di,r.a,d.g,Pi.a]]}),ji)}}])}();