!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var c=0,a=function(){};return{s:a,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw s}}}}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{g0Zo:function(i,n,a){"use strict";a.r(n),a.d(n,"DyeingProcessModule",(function(){return et}));var o=a("ofXK"),r=a("tyNb"),d=a("1G5W"),l=a("XNiG"),u=a("5+WD"),g=a("yodA"),p=a("4/8P"),h=a("iLL0"),m=a("LvDl"),y=a("fXoL"),b=a("1kSV"),v=a("5eHb"),f=a("3Pt+"),j=a("ZOsW"),P=a("aceb"),S=a("HpUL"),M=a("IgRl"),C=["data"];function L(e,t){if(1&e&&(y.jc(0,"ng-option",32),y.jd(1),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i.id),y.Pb(1),y.ld("",i.tagProcessName," ")}}function T(e,t){if(1&e&&(y.jc(0,"ng-option",32),y.jd(1),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i),y.Pb(1),y.ld("",i," ")}}function k(e,t){1&e&&(y.jc(0,"div",33),y.jd(1," Process Type is required. "),y.ic())}function D(e,t){if(1&e&&(y.jc(0,"ng-option",32),y.jd(1),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i),y.Pb(1),y.kd(i)}}function x(e,t){1&e&&(y.jc(0,"div",33),y.jd(1," Step Position is required. "),y.ic())}function I(e,t){1&e&&(y.jc(0,"div",33),y.jd(1," Temprature is required. "),y.ic())}function w(e,t){1&e&&(y.jc(0,"div",33),y.jd(1," Hold Time is required. "),y.ic())}function F(e,t){1&e&&(y.jc(0,"div",33),y.jd(1," Liquor ratio is required. "),y.ic())}function N(e,t){if(1&e&&(y.jc(0,"ng-option",54),y.jc(1,"div",6),y.jc(2,"div",38),y.jc(3,"div",39),y.jd(4),y.ic(),y.ic(),y.jc(5,"div",38),y.jc(6,"div",40),y.jd(7),y.ic(),y.ic(),y.ic(),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i.itemId),y.Pb(4),y.kd(i.itemName),y.Pb(3),y.ld("",i.supplierName," ")}}function O(e,t){if(1&e&&(y.jc(0,"ng-option",32),y.jd(1),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i.id),y.Pb(1),y.ld("",i.value," ")}}function H(e,t){if(1&e&&(y.jc(0,"ng-option",32),y.jd(1),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i),y.Pb(1),y.ld(" ",i," ")}}var q=function(){return{type:"zoom"}},A=function(e){return{animation:e}};function U(e,t){if(1&e){var i=y.kc();y.jc(0,"tr"),y.jc(1,"td",34),y.jc(2,"ng-select",35,36),y.uc("ngModelChange",(function(e){return y.Xc(i),t.$implicit.itemId=e}))("change",(function(){y.Xc(i);var e=t.index;return y.yc().itemSelected(e)})),y.jc(5,"ng-option",37),y.jc(6,"div",6),y.jc(7,"div",38),y.jc(8,"div",39),y.jd(9,"Item"),y.ic(),y.ic(),y.jc(10,"div",38),y.jc(11,"div",40),y.jd(12,"Supplier "),y.ic(),y.ic(),y.ic(),y.ic(),y.hd(13,N,8,3,"ng-option",41),y.zc(14,"showOnlyChemicalFilter"),y.ic(),y.ic(),y.jc(15,"td",42),y.jc(16,"input",43,44),y.uc("ngModelChange",(function(e){return y.Xc(i),t.$implicit.supplierName=e}))("keyup",(function(e){y.Xc(i);var n=t.index;return y.yc().onKeyUp(e,n,1,"supplierName")})),y.ic(),y.ic(),y.jc(18,"td",45),y.jc(19,"input",46,47),y.uc("ngModelChange",(function(e){return y.Xc(i),t.$implicit.concentration=e}))("keypress",(function(e){return y.Xc(i),y.yc().numberOnly(e)}))("keyup",(function(e){y.Xc(i);var n=t.index;return y.yc().onKeyUp(e,n,2,"concentration")})),y.ic(),y.ic(),y.jc(21,"td",45),y.jc(22,"ng-select",48,47),y.uc("ngModelChange",(function(e){return y.Xc(i),t.$implicit.byChemical=e}))("keyup",(function(e){y.Xc(i);var n=t.index;return y.yc().onKeyUp(e,n,3,"byChemical")})),y.hd(24,O,2,2,"ng-option",10),y.ic(),y.ic(),y.jc(25,"td",49),y.jc(26,"ng-select",50,51),y.uc("ngModelChange",(function(e){return y.Xc(i),t.$implicit.shadeType=e})),y.hd(29,H,2,2,"ng-option",10),y.ic(),y.ic(),y.jc(30,"td",52),y.jc(31,"nb-icon",53),y.uc("click",(function(){y.Xc(i);var e=t.index;return y.yc().removeItem(e)})),y.ic(),y.ic(),y.ic()}if(2&e){var n=t.$implicit,c=t.index,a=y.yc();y.Pb(2),y.Kc("name","itemId",n._id,"_",c,""),y.Hc("ngModel",n.itemId)("id","supplierList"+c+"-0"),y.Pb(11),y.Hc("ngForOf",y.Bc(14,24,a.itemListArray,!1)),y.Pb(3),y.Kc("name","supplierName",n._id,"_",c,""),y.Hc("ngModel",n.supplierName)("id","supplierList"+c+"-supplierName"),y.Pb(3),y.Kc("name","concentration",n._id,"_",c,""),y.Hc("ngModel",n.concentration)("id","supplierList"+c+"-concentration"),y.Pb(3),y.Kc("name","byChemical",n._id,"_",c,""),y.Hc("ngModel",n.byChemical)("id","supplierList"+c+"-byChemical"),y.Pb(2),y.Hc("ngForOf",a.byChemicalList),y.Pb(2),y.Kc("name","shadeType",n._id,"_",c,""),y.Hc("ngModel",n.shadeType)("id","supplierList"+c+"-4"),y.Pb(3),y.Hc("ngForOf",a.shadeTypeList),y.Pb(2),y.Hc("options",y.Nc(28,A,y.Mc(27,q)))}}function E(e,t){if(1&e){var i=y.kc();y.jc(0,"tr"),y.jc(1,"td"),y.jd(2),y.ic(),y.jc(3,"td"),y.jc(4,"input",56),y.uc("ngModelChange",(function(e){y.Xc(i);var n=t.index;return y.yc(2).dyeingProcessStep.dyeingplcMast.dyeingplcDataList[n].l=e}))("keyup",(function(e){y.Xc(i);var n=t.index,c=t.$implicit;return y.yc(2).onKeyUpForTable(e,n,c,"L")})),y.ic(),y.ic(),y.jc(5,"td"),y.jc(6,"input",56),y.uc("ngModelChange",(function(e){y.Xc(i);var n=t.index;return y.yc(2).dyeingProcessStep.dyeingplcMast.dyeingplcDataList[n].m=e}))("keyup",(function(e){y.Xc(i);var n=t.index,c=t.$implicit;return y.yc(2).onKeyUpForTable(e,n,c,"M")})),y.ic(),y.ic(),y.jc(7,"td"),y.jc(8,"input",56),y.uc("ngModelChange",(function(e){y.Xc(i);var n=t.index;return y.yc(2).dyeingProcessStep.dyeingplcMast.dyeingplcDataList[n].d=e}))("keyup",(function(e){y.Xc(i);var n=t.index,c=t.$implicit;return y.yc(2).onKeyUpForTable(e,n,c,"D")})),y.ic(),y.ic(),y.jc(9,"td"),y.jc(10,"input",56),y.uc("ngModelChange",(function(e){y.Xc(i);var n=t.index;return y.yc(2).dyeingProcessStep.dyeingplcMast.dyeingplcDataList[n].s=e}))("keyup",(function(e){y.Xc(i);var n=t.index,c=t.$implicit;return y.yc(2).onKeyUpForTable(e,n,c,"S")})),y.ic(),y.ic(),y.ic()}if(2&e){var n=t.$implicit,c=t.index,a=y.yc(2);y.Pb(2),y.ld(" ",n," "),y.Pb(2),y.Kc("name","",n,"L-",c,""),y.Hc("ngModel",a.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[c].l)("id","attL-"+c),y.Pb(2),y.Kc("name","",n,"M-",c,""),y.Hc("ngModel",a.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[c].m)("id","attM-"+c),y.Pb(2),y.Kc("name","",n,"D-",c,""),y.Hc("ngModel",a.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[c].d)("id","attD-"+c),y.Pb(2),y.Kc("name","",n,"S-",c,""),y.Hc("ngModel",a.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[c].s)("id","attS-"+c)}}function $(e,t){if(1&e&&(y.jc(0,"div",6),y.jc(1,"table",25),y.jc(2,"tr"),y.jc(3,"th"),y.jd(4,"Attribute"),y.ic(),y.jc(5,"th"),y.jd(6,"L"),y.ic(),y.jc(7,"th"),y.jd(8,"M"),y.ic(),y.jc(9,"th"),y.jd(10,"D"),y.ic(),y.jc(11,"th"),y.jd(12,"S"),y.ic(),y.ic(),y.hd(13,E,11,17,"tr",55),y.ic(),y.ic()),2&e){var i=y.yc();y.Pb(13),y.Hc("ngForOf",i.attributesArray)}}var X,B=function(e){return{"is-invalid":e}},R=((X=function(){function e(t,i,n){c(this,e),this.activeModal=t,this.DyeingProcessService=i,this.toastr=n,this.dyeingChemicalData=[],this.itemListArray=[],this.modalSubmitted=!1,this.tagList=[],this.submitButton="Add",this.stepList=[],this.byChemicalList=[{id:"L",value:"L"},{id:"W",value:"W"},{id:"F",value:"F"}],this.processTypes=["Scouring","Acid Wash","Dyeing","RC","Cold Wash"],this.shadeTypeList=["DEFAULT","LIGHT","MEDIUM","DARK","SPECIAL"],this.destroy$=new l.a,this.attributesArray=[],this.dyeingFlag=!1,this.dyeingProcessStep=new g.c,this.positionValues=[],this.dyeingChemicalData.push(new g.a)}return s(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){if(this.getAllTags(),this.getItemData(),this.editStep){if(this.submitButton="Update",this.position>0){this.dyeingChemicalData=this.stepList[this.position-1].dyeingChemicalData,this.dyeingProcessStep.dyeingChemicalData=this.stepList[this.position-1].dyeingChemicalData,this.dyeingProcessStep.sequence=this.position,this.dyeingProcessStep.temp=this.stepList[this.position-1].temp,this.dyeingProcessStep.holdTime=this.stepList[this.position-1].holdTime,this.dyeingProcessStep.liquerRation=this.stepList[this.position-1].liquerRation,this.dyeingProcessStep.processType=this.stepList[this.position-1].processType;for(var e=1;e<=this.stepList.length;e++)this.positionValues.push(e);"Dyeing"==this.dyeingProcessStep.processType&&(this.getAllAttributes(),this.dyeingFlag=!0)}}else if(this.position>0){this.dyeingProcessStep.sequence=this.position;for(var t=1;t<=this.position;t++)this.positionValues.push(t)}}},{key:"getAllTags",value:function(){var e=this;this.DyeingProcessService.getAllTags().subscribe((function(t){t.success&&(e.tagList=t.data)}),(function(e){}))}},{key:"getData",value:function(){var e=this;this.dyeingProcessStep.dyeingplcMast.id=this.stepList[this.position-1].dyeingplcMast.id,this.dyeingProcessStep.dyeingplcMast.dyeingProcessMastId=this.stepList[this.position-1].dyeingplcMast.dyeingProcessMastId,this.stepList[this.position-1].dyeingplcMast.dyeingplcDataList.forEach((function(t,i){e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].plcName=e.stepList[e.position-1].dyeingplcMast.dyeingplcDataList[i].plcName,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].id=e.stepList[e.position-1].dyeingplcMast.dyeingplcDataList[i].id,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].controlId=e.stepList[e.position-1].dyeingplcMast.dyeingplcDataList[i].controlId,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].l=e.stepList[e.position-1].dyeingplcMast.dyeingplcDataList[i].l,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].m=e.stepList[e.position-1].dyeingplcMast.dyeingplcDataList[i].m,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].d=e.stepList[e.position-1].dyeingplcMast.dyeingplcDataList[i].d,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].s=e.stepList[e.position-1].dyeingplcMast.dyeingplcDataList[i].s}))}},{key:"getAllAttributes",value:function(){var e=this;this.DyeingProcessService.getAttributes().subscribe((function(t){t.success&&(e.attributesArray=t.data,e.dyeingProcessStep.dyeingplcMast=new g.d,e.attributesArray.forEach((function(t,i){e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList.push(new g.e),e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].plcName=t,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].l=null,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].m=null,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].d=null,e.dyeingProcessStep.dyeingplcMast.dyeingplcDataList[i].s=null})),e.editStep&&e.stepList[e.position-1].dyeingplcMast?e.getData():e.editStep&&!e.stepList[e.position-1].dyeingplcMast&&(e.dyeingProcessStep.dyeingplcMast.dyeingProcessMastId=e.id))}),(function(e){}))}},{key:"onCreate",value:function(e){var t;this.modalSubmitted=!0,e.valid?this.dyeingProcessStep&&this.dyeingProcessStep.dyeingplcMast&&this.dyeingProcessStep.dyeingplcMast.dyeingplcDataList?(this.dyeingProcessStep.dyeingplcMast.dyeingplcDataList.forEach((function(e){null!=e.l&&null!=e.m&&null!=e.d&&null!=e.s||(t=!0)})),t?this.toastr.warning("Enter all fields in PLC Table"):this.activeModal.close({processType:this.dyeingProcessStep.processType,position:this.dyeingProcessStep.sequence,temp:this.dyeingProcessStep.temp,holdTime:this.dyeingProcessStep.holdTime,liquerRation:this.dyeingProcessStep.liquerRation,chemicalList:this.dyeingChemicalData,dyeingplcMast:this.dyeingFlag&&this.dyeingProcessStep.dyeingplcMast?this.dyeingProcessStep.dyeingplcMast:null})):this.activeModal.close({processType:this.dyeingProcessStep.processType,position:this.dyeingProcessStep.sequence,temp:this.dyeingProcessStep.temp,holdTime:this.dyeingProcessStep.holdTime,liquerRation:this.dyeingProcessStep.liquerRation,chemicalList:this.dyeingChemicalData}):this.toastr.error("Fill empty fields")}},{key:"tagSelected",value:function(e){var t=this;if(e){var i=this.tagList.filter((function(e){return e.id==t.selectedTagName}));i&&i.length&&(this.dyeingProcessStep.holdTime=i[0].holdTime,this.dyeingProcessStep.liquerRation=i[0].liquerRation,this.dyeingProcessStep.temp=i[0].temp,this.dyeingChemicalData=i[0].dyeingTagDataList,this.dyeingChemicalData.forEach((function(e,i){t.itemSelected(i),delete e.id,delete e.controlId})),this.dyeingProcessStep.dyeingChemicalData=i[0].dyeingTagDataList)}else{var n=this.dyeingProcessStep.sequence;this.dyeingProcessStep=new g.c,this.dyeingChemicalData=[],this.dyeingChemicalData.push(new g.a),this.dyeingProcessStep.sequence=n}}},{key:"getItemData",value:function(){var e=this;this.DyeingProcessService.getAllItemWithSupplier().pipe(Object(d.a)(this.destroy$)).subscribe((function(t){t.success&&(e.itemListArray=t.data)}),(function(e){}))}},{key:"onKeyUp",value:function(e,t,i,n){var c=this;if(13==(e.keyCode?e.keyCode:e.which))if(this.index="supplierList"+(t+1)+"-"+n,t===this.dyeingChemicalData.length-1){var a=this.dyeingChemicalData[t];if("concentration"==n){if(!a.concentration)return}else if("byChemical"==n&&!a.byChemical)return;var s=new g.a;this.dyeingChemicalData.push(s),this.data.changes.pipe(Object(d.a)(this.destroy$)).subscribe((function(){c.data.last.focus()}))}else var o=setInterval((function(){var e=document.getElementById(c.index);null!=e&&(e.focus(),clearInterval(o))}),10)}},{key:"numberOnly",value:function(e){var t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57)||69==t)||46==t}},{key:"removeItem",value:function(e){1==this.dyeingChemicalData.length?(this.dyeingChemicalData[0].byChemical="L",this.dyeingChemicalData[0].concentration=null,this.dyeingChemicalData[0].controlId=null,this.dyeingChemicalData[0].id=null,this.dyeingChemicalData[0].itemId=null,this.dyeingChemicalData[0].itemName=null,this.dyeingChemicalData[0].supplierName=null):this.dyeingChemicalData.splice(e,1)}},{key:"verify",value:function(){var e=this;if(this.dyeingChemicalData&&this.dyeingChemicalData.length){var i=Object(m.uniqBy)(this.dyeingChemicalData,(function(e){return e.itemId&&e.shadeType}));this.dyeingChemicalData.length!=i.length?this.dyeingChemicalData.forEach((function(i){var n,c=0,a=t(e.dyeingChemicalData);try{for(a.s();!(n=a.n()).done;){var s=n.value;i.shadeType==s.shadeType&&i.itemId==s.itemId&&(c++,s.duplicateError=!!(c>1&&s.shadeType&&s.itemId))}}catch(o){a.e(o)}finally{a.f()}})):this.dyeingChemicalData.map((function(e){return e.duplicateError=!1}))}else this.dyeingChemicalData.map((function(e){return e.duplicateError=!1}))}},{key:"itemSelected",value:function(e){var t=this;this.itemListArray.forEach((function(i){i.itemId==t.dyeingChemicalData[e].itemId&&(t.dyeingChemicalData[e].supplierName=i.supplierName,t.dyeingChemicalData[e].itemName=i.itemName)})),this.verify(),this.dyeingChemicalData[e].duplicateError&&(this.toastr.error("Same Item and Shade Type present"),this.dyeingChemicalData.splice(e,1))}},{key:"trackByFn",value:function(e,t){return t?t._id||t:e}},{key:"processChange",value:function(e){"Dyeing"==e?(this.getAllAttributes(),this.dyeingFlag=!0):this.dyeingFlag=!1}},{key:"onKeyUpForTable",value:function(e,t,i,n){var c=this;if(13==(e.keyCode?e.keyCode:e.which)){this.index="att"+n+"-"+(t+1);var a=setInterval((function(){var e=document.getElementById(c.index);null!=e&&(e.focus(),clearInterval(a))}),10)}}}]),e}()).\u0275fac=function(e){return new(e||X)(y.dc(b.a),y.dc(h.a),y.dc(v.b))},X.\u0275cmp=y.Xb({type:X,selectors:[["ngx-add-dyeing-process-step"]],viewQuery:function(e,t){var i;1&e&&y.nd(C,!0),2&e&&y.Tc(i=y.vc())&&(t.data=i)},inputs:{position:"position",editStep:"editStep",stepList:"stepList",id:"id"},decls:82,vars:37,consts:[[1,"modal-header","nb-header"],["id","modal-basic-title",1,"modal-title","nb-text"],["type","button","aria-label","Close",1,"close","btn-foucs-none",3,"click"],["aria-hidden","true",1,"close-icon"],["stepForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["placeholder","Select Process-Tag","name","tagName",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"required"],["placeholder","Select Process-type","name","processType","required","",3,"ngModel","ngClass","ngModelChange","change"],["processType1","ngModel"],["class","input-required",4,"ngIf"],["placeholder","Sequence No","name","stepNo","required","",3,"disabled","ngModel","ngClass","ngModelChange"],["position1","ngModel"],["type","number","min","0","name","temp","required","","placeholder","Temprature",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange"],["temp1","ngModel"],["min","0","type","number","name","holdTime","required","","placeholder","Hold Time",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange"],["holdTime1","ngModel"],["min","0","type","number","name","liquerRation","required","","placeholder","Liquor ratio",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange","keypress"],["liquerRation1","ngModel"],[1,"col-md-12"],[1,"nb-badges","mr-0"],[1,"table","table-responsive","table-bordered","table-striped","table-process-fnt"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"container"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-save",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"click"],[3,"value"],[1,"input-required"],[1,"width-70"],["itemId1","ngModel","required","","appendTo","body",1,"ng-select-br-none",3,"name","ngModel","id","ngModelChange","change"],["data","","itemId1","ngModel"],["disabled","true"],[1,"col-md-6","col-6"],[1,"text-left","txt-ov-elips"],[1,"text-center","txt-ov-elips"],["placeholder","Select Item",3,"value",4,"ngFor","ngForOf"],[1,"width-20"],["type","text","readonly","",1,"tableForm","line-height-subtable",3,"name","ngModel","id","ngModelChange","keyup"],["supplierName1","ngModel"],[1,"width-5"],["type","number","min","0",1,"tableForm","line-height-subtable",3,"name","ngModel","id","ngModelChange","keypress","keyup"],["concentration1","ngModel"],["required","",1,"tableForm",3,"name","ngModel","id","ngModelChange","keyup"],[1,"width-70",2,"width","50px !important"],["placeholder","Select Shade-type","shadeType","ngModel","required","","appendTo","body",1,"ng-select-br-none",3,"name","ngModel","id","ngModelChange"],["shadeType","","itemId1","ngModel"],[1,"text-center","width-1"],["icon","trash","status","danger",3,"options","click"],["placeholder","Select Item",3,"value"],[4,"ngFor","ngForOf"],["type","number","min","0",1,"form-control",3,"ngModel","name","id","ngModelChange","keyup"]],template:function(e,t){if(1&e){var i=y.kc();y.jc(0,"div"),y.jc(1,"div",0),y.jc(2,"h4",1),y.jd(3,"Add Step"),y.ic(),y.jc(4,"button",2),y.uc("click",(function(){return t.activeModal.close(!1)})),y.jc(5,"span",3),y.jd(6,"\xd7"),y.ic(),y.ic(),y.ic(),y.jc(7,"form",null,4),y.jc(9,"div",5),y.jc(10,"div",6),y.jc(11,"div",7),y.jc(12,"div",8),y.jc(13,"label"),y.jd(14,"Process-Tag"),y.ic(),y.jc(15,"ng-select",9),y.uc("ngModelChange",(function(e){return t.selectedTagName=e}))("change",(function(e){return t.tagSelected(e)})),y.hd(16,L,2,2,"ng-option",10),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(17,"div",6),y.jc(18,"div",7),y.jc(19,"div",8),y.jc(20,"label",11),y.jd(21,"Process Type"),y.ic(),y.jc(22,"ng-select",12,13),y.uc("ngModelChange",(function(e){return t.dyeingProcessStep.processType=e}))("change",(function(e){return t.processChange(e)})),y.hd(24,T,2,2,"ng-option",10),y.zc(25,"filterOutSelected"),y.ic(),y.hd(26,k,2,0,"div",14),y.ic(),y.ic(),y.jc(27,"div",7),y.jc(28,"div",8),y.jc(29,"label",11),y.jd(30,"Step Sequence"),y.ic(),y.jc(31,"ng-select",15,16),y.uc("ngModelChange",(function(e){return t.dyeingProcessStep.sequence=e})),y.hd(33,D,2,2,"ng-option",10),y.ic(),y.hd(34,x,2,0,"div",14),y.ic(),y.ic(),y.jc(35,"div",7),y.jc(36,"div",8),y.jc(37,"label",11),y.jd(38,"Temprature"),y.ic(),y.jc(39,"input",17,18),y.uc("ngModelChange",(function(e){return t.dyeingProcessStep.temp=e})),y.ic(),y.hd(41,I,2,0,"div",14),y.ic(),y.ic(),y.jc(42,"div",7),y.jc(43,"div",8),y.jc(44,"label",11),y.jd(45,"Hold Time"),y.ic(),y.jc(46,"input",19,20),y.uc("ngModelChange",(function(e){return t.dyeingProcessStep.holdTime=e})),y.ic(),y.hd(48,w,2,0,"div",14),y.ic(),y.ic(),y.jc(49,"div",7),y.jc(50,"div",8),y.jc(51,"label",11),y.jd(52,"Liquor Ratio"),y.ic(),y.jc(53,"input",21,22),y.uc("ngModelChange",(function(e){return t.dyeingProcessStep.liquerRation=e}))("keypress",(function(e){return t.numberOnly(e)})),y.ic(),y.hd(55,F,2,0,"div",14),y.ic(),y.ic(),y.jc(56,"div",23),y.jc(57,"div",11),y.jc(58,"h5",24),y.jd(59,"Add Chemical List"),y.ic(),y.ic(),y.jc(60,"table",25),y.jc(61,"tr"),y.jc(62,"th"),y.jd(63,"Item name"),y.ic(),y.jc(64,"th"),y.jd(65,"Supplier name"),y.ic(),y.jc(66,"th"),y.jd(67,"Concentration"),y.ic(),y.jc(68,"th"),y.jd(69,"By"),y.ic(),y.jc(70,"th"),y.jd(71,"Shade type"),y.ic(),y.jc(72,"th"),y.jd(73,"Action"),y.ic(),y.ic(),y.hd(74,U,32,30,"tr",26),y.ic(),y.ic(),y.ic(),y.jc(75,"div",27),y.hd(76,$,14,1,"div",28),y.ic(),y.ic(),y.jc(77,"div",29),y.jc(78,"button",30),y.uc("click",(function(){y.Xc(i);var e=y.Uc(8);return t.onCreate(e)})),y.jd(79),y.ic(),y.jc(80,"button",31),y.uc("click",(function(){return t.activeModal.close(!1)})),y.jd(81,"Cancel"),y.ic(),y.ic(),y.ic(),y.ic()}if(2&e){var n=y.Uc(23),c=y.Uc(32),a=y.Uc(40),s=y.Uc(47),o=y.Uc(54);y.Pb(15),y.Hc("ngModel",t.selectedTagName),y.Pb(1),y.Hc("ngForOf",t.tagList),y.Pb(6),y.Hc("ngModel",t.dyeingProcessStep.processType)("ngClass",y.Nc(27,B,n.invalid&&(t.modalSubmitted||n.touched))),y.Pb(2),y.Hc("ngForOf",y.Bc(25,24,t.processTypes,t.stepList)),y.Pb(2),y.Hc("ngIf",n.invalid&&(t.modalSubmitted||n.touched)),y.Pb(5),y.Hc("disabled",t.editStep)("ngModel",t.dyeingProcessStep.sequence)("ngClass",y.Nc(29,B,c.invalid&&(t.modalSubmitted||c.touched))),y.Pb(2),y.Hc("ngForOf",t.positionValues),y.Pb(1),y.Hc("ngIf",c.invalid&&(t.modalSubmitted||c.touched)),y.Pb(5),y.Hc("ngModel",t.dyeingProcessStep.temp)("ngClass",y.Nc(31,B,a.invalid&&(t.modalSubmitted||a.touched))),y.Pb(2),y.Hc("ngIf",a.invalid&&(t.modalSubmitted||a.touched)),y.Pb(5),y.Hc("ngModel",t.dyeingProcessStep.holdTime)("ngClass",y.Nc(33,B,s.invalid&&(t.modalSubmitted||s.touched))),y.Pb(2),y.Hc("ngIf",s.invalid&&(t.modalSubmitted||s.touched)),y.Pb(5),y.Hc("ngModel",t.dyeingProcessStep.liquerRation)("ngClass",y.Nc(35,B,o.invalid&&(t.modalSubmitted||o.touched))),y.Pb(2),y.Hc("ngIf",o.invalid&&(t.modalSubmitted||o.touched)),y.Pb(19),y.Hc("ngForOf",t.dyeingChemicalData)("ngForTrackBy",t.trackByFn),y.Pb(2),y.Hc("ngIf",t.dyeingFlag),y.Pb(3),y.kd(t.submitButton)}},directives:[f.x,f.m,f.n,j.a,f.l,f.o,o.m,f.t,o.l,o.n,f.q,f.a,j.c,P.I],pipes:[S.a,M.a],styles:[".ng-dropdown-panel.ng-select-bottom[_ngcontent-%COMP%]{width:auto!important}"]}),X),_=a("8k+d");function K(e,t){1&e&&(y.jc(0,"div",25),y.jc(1,"span"),y.jd(2,"Process name is required."),y.ic(),y.ic())}function W(e,t){1&e&&(y.jc(0,"div",25),y.jc(1,"span"),y.jd(2,"Process Name is already Exist "),y.ic(),y.ic())}function V(e,t){if(1&e&&(y.jc(0,"tr"),y.jc(1,"td"),y.jd(2),y.ic(),y.jc(3,"td"),y.jd(4),y.ic(),y.jc(5,"td"),y.jd(6),y.ic(),y.jc(7,"td"),y.jd(8),y.ic(),y.jc(9,"td"),y.jd(10),y.ic(),y.ic()),2&e){var i=t.$implicit;y.Pb(2),y.ld(" ",i.itemName," "),y.Pb(2),y.ld(" ",i.supplierName," "),y.Pb(2),y.ld(" ",i.concentration," "),y.Pb(2),y.kd(i.byChemical),y.Pb(2),y.kd(i.shadeType)}}function z(e,t){if(1&e&&(y.jc(0,"tr"),y.jc(1,"td"),y.jd(2),y.ic(),y.jc(3,"td"),y.jd(4),y.ic(),y.jc(5,"td"),y.jd(6),y.ic(),y.jc(7,"td"),y.jd(8),y.ic(),y.jc(9,"td"),y.jd(10),y.ic(),y.ic()),2&e){var i=t.$implicit,n=t.index,c=y.yc(2).$implicit;y.Pb(2),y.ld(" ",i," "),y.Pb(2),y.ld(" ",c.dyeingplcMast.dyeingplcDataList[n].l," "),y.Pb(2),y.ld(" ",c.dyeingplcMast.dyeingplcDataList[n].m," "),y.Pb(2),y.ld(" ",c.dyeingplcMast.dyeingplcDataList[n].d," "),y.Pb(2),y.ld(" ",c.dyeingplcMast.dyeingplcDataList[n].s," ")}}function J(e,t){if(1&e&&(y.jc(0,"div"),y.jc(1,"table",45),y.jc(2,"tr"),y.jc(3,"th"),y.jd(4,"Attribute"),y.ic(),y.jc(5,"th"),y.jd(6,"L"),y.ic(),y.jc(7,"th"),y.jd(8,"M"),y.ic(),y.jc(9,"th"),y.jd(10,"D"),y.ic(),y.jc(11,"th"),y.jd(12,"S"),y.ic(),y.ic(),y.hd(13,z,11,5,"tr",46),y.ic(),y.ic()),2&e){var i=y.yc(3);y.Pb(13),y.Hc("ngForOf",i.attributesArray)}}var G=function(){return{type:"zoom"}},Z=function(e){return{animation:e}};function Q(e,t){if(1&e){var i=y.kc();y.jc(0,"nb-accordion",29),y.jc(1,"nb-accordion-item",30,31),y.uc("click",(function(){y.Xc(i);var e=t.$implicit;return y.yc(2).onStepClick(e)})),y.jc(3,"nb-accordion-item-header",32),y.jc(4,"div",33),y.jd(5),y.ic(),y.jc(6,"div",34),y.jc(7,"nb-icon",35),y.uc("click",(function(){y.Xc(i);var e=t.$implicit;return y.yc(2).onDeleteStep(e)})),y.ic(),y.jc(8,"nb-icon",36),y.uc("click",(function(){y.Xc(i);var e=t.$implicit;return y.yc(2).onEditStep(e)})),y.ic(),y.ic(),y.ic(),y.jc(9,"nb-accordion-item-body",37),y.jc(10,"div",38),y.jc(11,"div",39),y.jc(12,"div",40),y.jc(13,"div",41),y.jc(14,"span",42),y.jc(15,"b"),y.jd(16,"Temprature:"),y.ic(),y.ic(),y.jc(17,"span",43),y.jd(18),y.ic(),y.ic(),y.ic(),y.jc(19,"div",40),y.jc(20,"div",41),y.jc(21,"span",42),y.jc(22,"b"),y.jd(23,"Hold Time:"),y.ic(),y.ic(),y.jc(24,"span",43),y.jd(25),y.ic(),y.ic(),y.ic(),y.jc(26,"div",40),y.jc(27,"div",41),y.jc(28,"span",42),y.jc(29,"b"),y.jd(30,"Liqure Ratio:"),y.ic(),y.ic(),y.jc(31,"span",43),y.jd(32),y.ic(),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(33,"div",44),y.jc(34,"div",39),y.jc(35,"table",45),y.jc(36,"tr"),y.jc(37,"th"),y.jd(38,"Item name"),y.ic(),y.jc(39,"th"),y.jd(40,"Supplier name"),y.ic(),y.jc(41,"th"),y.jd(42,"Concentration"),y.ic(),y.jc(43,"th"),y.jd(44,"By"),y.ic(),y.jc(45,"th"),y.jd(46,"Shade type"),y.ic(),y.ic(),y.hd(47,V,11,5,"tr",46),y.ic(),y.ic(),y.ic(),y.hd(48,J,14,1,"div",47),y.ic(),y.ic(),y.ic()}if(2&e){var n=t.$implicit;y.Pb(5),y.ld(" ",n.processType," "),y.Pb(2),y.Hc("options",y.Nc(9,Z,y.Mc(8,G))),y.Pb(1),y.Hc("options",y.Nc(12,Z,y.Mc(11,G))),y.Pb(10),y.ld(" ",n.temp," "),y.Pb(7),y.ld("",n.holdTime," "),y.Pb(7),y.ld("",n.liquerRation," "),y.Pb(15),y.Hc("ngForOf",n.dyeingChemicalData),y.Pb(1),y.Hc("ngIf","Dyeing"==n.processType&&n.dyeingplcMast&&n.dyeingplcMast.dyeingplcDataList&&n.dyeingplcMast.dyeingplcDataList.length)}}function Y(e,t){if(1&e){var i=y.kc();y.jc(0,"div",26),y.jc(1,"div",27),y.uc("cdkDropListDropped",(function(e){return y.Xc(i),y.yc().drop(e)})),y.hd(2,Q,49,14,"nb-accordion",28),y.ic(),y.ic()}if(2&e){var n=y.yc();y.Pb(2),y.Hc("ngForOf",n.dyeingProcessSteps)}}function ee(e,t){if(1&e){var i=y.kc();y.jc(0,"button",48),y.uc("click",(function(){y.Xc(i);var e=y.yc(),t=y.Uc(17);return e.addUpdateDyeingProcess(t)})),y.jd(1,"SAVE"),y.ic()}}function te(e,t){if(1&e){var i=y.kc();y.jc(0,"button",48),y.uc("click",(function(){y.Xc(i);var e=y.yc(),t=y.Uc(17);return e.addUpdateDyeingProcess(t)})),y.jd(1,"Update"),y.ic()}}var ie,ne=function(e){return{"is-invalid":e}},ce=((ie=function(){function e(t,i,n,a,s,o,r){c(this,e),this._modalService=t,this.toastr=i,this.commonService=n,this.dyeingProcessService=a,this.route=s,this.currentRoute=o,this.partyService=r,this.dyeingProcessSteps=[],this.formSubmitted=!1,this.addFlag=!0,this.updateFlag=!1,this.processNameExist=!1,this.disableButton=!1,this.loading=!1,this.attributesArray=[],this.destroy$=new l.a,this.dyeingProcess=new g.b,this.getItemList(),this.getMaster()}return s(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){this.getAllAttributes(),this.currentDyeingProcessId=this.currentRoute.snapshot.paramMap.get("id"),this.currentDyeingProcessId&&(this.getDyeingProcessById(this.currentDyeingProcessId),this.addFlag=!1,this.updateFlag=!0)}},{key:"getMaster",value:function(){var e=this;this.loading=!0,this.master=[],this.partyService.getAllMaster().pipe(Object(d.a)(this.destroy$)).subscribe((function(t){t.success?(e.master=t.data,e.loading=!1):e.loading=!1}),(function(t){e.loading=!1}))}},{key:"getItemList",value:function(){var e=this;this.dyeingProcessService.getAllItemWithSupplier().pipe(Object(d.a)(this.destroy$)).subscribe((function(t){t.success&&(e.itemList=t.data)}),(function(e){}))}},{key:"getAllAttributes",value:function(){var e=this;this.dyeingProcessService.getAttributes().subscribe((function(t){t.success&&(e.attributesArray=t.data)}),(function(e){}))}},{key:"getDyeingProcessById",value:function(e){var t=this;this.dyeingProcessService.getDyeingProcessById(e).pipe(Object(d.a)(this.destroy$)).subscribe((function(e){e.success?(t.dyeingProcess=e.data,t.dyeingProcessSteps=t.dyeingProcess.dyeingProcessData,t.setChemicalData()):t.toastr.error(e.msg)}),(function(e){}))}},{key:"setChemicalData",value:function(){var e=this,t=setInterval((function(){e.itemList&&(e.dyeingProcessSteps.forEach((function(t){t.dyeingChemicalData.forEach((function(t){e.itemList.forEach((function(e){t.itemId==e.itemId&&(t.supplierName=e.supplierName)}))}))})),clearInterval(t))}),10)}},{key:"drop",value:function(e){Object(u.d)(this.dyeingProcessSteps,e.previousIndex,e.currentIndex)}},{key:"onStepClick",value:function(e){this.selectedStep=e.sequence}},{key:"onEditStep",value:function(e){var t=this,i=this._modalService.open(R,{size:"lg"});i.componentInstance.position=e.sequence,i.componentInstance.id=this.dyeingProcess.id,i.componentInstance.stepList=JSON.parse(JSON.stringify(this.dyeingProcessSteps)),i.componentInstance.editStep=!0,i.result.then((function(i){i&&(t.dyeingProcessSteps[e.sequence-1].processType=i.processType,t.dyeingProcessSteps[e.sequence-1].dyeingChemicalData=i.chemicalList,t.dyeingProcessSteps[e.sequence-1].liquerRation=i.liquerRation,t.dyeingProcessSteps[e.sequence-1].holdTime=i.holdTime,t.dyeingProcessSteps[e.sequence-1].temp=i.temp,t.dyeingProcessSteps[e.sequence-1].sequence=i.position,t.dyeingProcessSteps[e.sequence-1].dyeingplcMast=i.dyeingplcMast?i.dyeingplcMast:null)}))}},{key:"onDeleteStep",value:function(e){var t=this.dyeingProcessSteps.findIndex((function(t){return t.sequence==e.sequence}));t>-1&&(this.dyeingProcessSteps.splice(t,1),this.dyeingProcessSteps.forEach((function(e,t){e.sequence=t+1})))}},{key:"addProcessStep",value:function(){var e=this;if(5==this.dyeingProcessSteps.length)this.toastr.warning("You are done with all the steps!");else{var t=this._modalService.open(R,{size:"lg"});t.componentInstance.position=this.dyeingProcessSteps.length+1,t.componentInstance.stepList=this.dyeingProcessSteps,t.componentInstance.editStep=!1,t.result.then((function(t){if(t){var i=new g.c;i.processType=t.processType,i.liquerRation=t.liquerRation,i.sequence=t.position,i.dyeingChemicalData=t.chemicalList,i.temp=t.temp,i.holdTime=t.holdTime,i.dyeingplcMast=t.dyeingplcMast?t.dyeingplcMast:null,e.dyeingProcessSteps.length&&t.position!=e.dyeingProcessSteps.length+1?e.dyeingProcessSteps.splice(t.position-1,0,i):e.dyeingProcessSteps.push(i)}}))}}},{key:"addUpdateDyeingProcess",value:function(e){var t=this;if(this.disableButton=!0,this.formSubmitted=!0,e.valid&&!this.processNameExist){if(this.addFlag){if(0==this.dyeingProcessSteps.length)return this.disableButton=!1,void this.toastr.error("Please enter steps");this.dyeingProcess.createdBy=this.commonService.getUser().userId,this.dyeingProcess.dyeingProcessData=this.dyeingProcessSteps,this.dyeingProcessService.saveDyeingProcess(this.dyeingProcess).pipe(Object(d.a)(this.destroy$)).subscribe((function(i){i.success?(t.resetFormValues(e),t.toastr.success(i.msg)):(t.disableButton=!1,t.toastr.error(i.msg))}),(function(e){t.disableButton=!1}))}else if(this.updateFlag){if(0==this.dyeingProcessSteps.length)return this.disableButton=!1,void this.toastr.error("Please enter steps");this.dyeingProcess.updatedBy=this.commonService.getUser().userId,this.dyeingProcess.dyeingProcessData=this.dyeingProcessSteps,this.dyeingProcessService.updateDyeingProcess(this.dyeingProcess).pipe(Object(d.a)(this.destroy$)).subscribe((function(e){e.success?(t.disableButton=!1,t.route.navigate(["/pages/dyeing-process"]),t.toastr.success(e.msg)):(t.disableButton=!1,t.toastr.error(e.msg))}),(function(e){t.disableButton=!1}))}}else this.disableButton=!1}},{key:"isProcessNameAlreadyExist",value:function(){var e=this;if(this.processNameExist=!1,this.dyeingProcess.processName){var t=0;this.dyeingProcess.id&&(t=this.dyeingProcess.id),this.dyeingProcessService.isProcessNameExist(this.dyeingProcess.processName,t).pipe(Object(d.a)(this.destroy$)).subscribe((function(t){t.success&&(e.processNameExist=t.data)}),(function(e){}))}}},{key:"resetFormValues",value:function(e){this.formSubmitted=!1,e.reset(),this.dyeingProcessSteps=[],this.addFlag=!0,this.updateFlag=!1}},{key:"tableChange",value:function(e){switch(e){case"view table":this.route.navigate(["/pages/dyeing-process/view"]);break;case"add tag":this.route.navigate(["/pages/dyeing-process/tag"]);break;case"show tag":this.route.navigate(["/pages/dyeing-process/tag/view"])}}}]),e}()).\u0275fac=function(e){return new(e||ie)(y.dc(b.e),y.dc(v.b),y.dc(p.a),y.dc(h.a),y.dc(r.c),y.dc(r.a),y.dc(_.a))},ie.\u0275cmp=y.Xb({type:ie,selectors:[["ngx-add-edit-dyeing-process"]],decls:39,vars:13,consts:[[1,"container"],[1,"nb-style"],[1,"nb-header"],[1,"row"],[1,"col-md-5","col-6","display-flex-start","max-width-device"],["placeholder","Select",1,"btn","btn-md",2,"width","175px",3,"change"],["value","view table"],["value","add tag"],["value","show tag"],[1,"col-md-7","col-7"],[1,"nb-text","txt-ov-elips"],["myForm","ngForm"],[1,"col-md-4","col-12"],[1,"form-group"],[1,"required"],["type","text","name","processName","fieldsize","small","nbinput","","required","","placeholder","Process Name",1,"form-control","size-small",3,"ngModel","ngClass","ngModelChange","change"],["processName1","ngModel"],["class","input-required",4,"ngIf"],[1,"form-group","text-right","align-dis"],["icon","plus-circle","status","primary",1,"plus-add","add-modal","width-40",3,"options","click"],["class","col-md-12 mr-top-10",4,"ngIf"],[1,"col-md-12","mobile-btn-center","text-btn-right"],[1,"padding-bt-tp"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"click"],["type","button","class","btn btn-primary btn-sm btn-design-save button-base ripple",3,"click",4,"ngIf"],[1,"input-required"],[1,"col-md-12","mr-top-10"],["cdkDropList","",1,"acc-under-css",3,"cdkDropListDropped"],["multi","","cdkDrag","","class","acc-start",4,"ngFor","ngForOf"],["multi","","cdkDrag","",1,"acc-start"],[1,"item","accordian-process",3,"click"],["item",""],[1,"item-header","nb-accordian-fn-size","nb-accordian","display-flex-between"],[1,""],[1,"nb-action"],["icon","trash","status","danger",1,"trash",3,"options","click"],["icon","edit","status","primary",1,"edit",3,"options","click"],[1,"nb-item-body"],[1,"row","dis-fl-di"],[1,"col-md-11","col-12"],[1,"div-fl-1"],[1,"user-per-check-display"],[1,"tb-ui"],[1,"num-bd"],[1,"row","dis-fl"],[1,"table","process-tb","table-bordered","table-striped","table-process-fnt","dying-table","width-100"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-save","button-base","ripple",3,"click"]],template:function(e,t){if(1&e){var i=y.kc();y.jc(0,"div",0),y.jc(1,"nb-card",1),y.jc(2,"nb-card-header",2),y.jc(3,"div",3),y.jc(4,"div",4),y.jc(5,"ng-select",5),y.uc("change",(function(e){return t.tableChange(e)})),y.jc(6,"ng-option",6),y.jd(7,"View Table"),y.ic(),y.jc(8,"ng-option",7),y.jd(9,"Add New Tag"),y.ic(),y.jc(10,"ng-option",8),y.jd(11,"View Tags"),y.ic(),y.ic(),y.ic(),y.jc(12,"div",9),y.jc(13,"h2",10),y.jd(14,"Dyeing Process"),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(15,"nb-card-body"),y.jc(16,"form",null,11),y.jc(18,"div",3),y.jc(19,"div",12),y.jc(20,"div",13),y.jc(21,"label",14),y.jd(22,"Process Name"),y.ic(),y.jc(23,"input",15,16),y.uc("ngModelChange",(function(e){return t.dyeingProcess.processName=e}))("change",(function(){return t.isProcessNameAlreadyExist()})),y.ic(),y.hd(25,K,3,0,"div",17),y.hd(26,W,3,0,"div",17),y.ic(),y.ic(),y.jc(27,"div",12),y.jc(28,"div",18),y.jc(29,"nb-icon",19),y.uc("click",(function(){return t.addProcessStep()})),y.ic(),y.ic(),y.ic(),y.hd(30,Y,3,1,"div",20),y.ec(31,"br"),y.ic(),y.jc(32,"div",3),y.jc(33,"div",21),y.jc(34,"div",22),y.jc(35,"button",23),y.uc("click",(function(){y.Xc(i);var e=y.Uc(17);return t.resetFormValues(e)})),y.jd(36,"CANCEL"),y.ic(),y.hd(37,ee,2,0,"button",24),y.hd(38,te,2,0,"button",24),y.ic(),y.ic(),y.ic(),y.ic(),y.ic(),y.ic(),y.ic()}if(2&e){var n=y.Uc(24);y.Pb(23),y.Hc("ngModel",t.dyeingProcess.processName)("ngClass",y.Nc(8,ne,n.invalid&&(t.formSubmitted||n.touched)||t.processNameExist)),y.Pb(2),y.Hc("ngIf",n.invalid&&(t.formSubmitted||n.touched)),y.Pb(1),y.Hc("ngIf",t.processNameExist),y.Pb(3),y.Hc("options",y.Nc(11,Z,y.Mc(10,G))),y.Pb(1),y.Hc("ngIf",t.dyeingProcessSteps?t.dyeingProcessSteps.length:t.dyeingProcessSteps),y.Pb(7),y.Hc("ngIf",t.addFlag),y.Pb(1),y.Hc("ngIf",t.updateFlag)}},directives:[P.u,P.x,j.a,j.c,P.t,f.x,f.m,f.n,f.a,f.t,f.l,f.o,o.l,o.n,P.I,o.m,P.g,P.i,P.j,P.h],styles:[""]}),ie),ae=a("cpoq"),se=a("kF6S"),oe=a("Cma1"),re=a("lDzL"),de=function(){return{type:"zoom"}},le=function(e){return{animation:e}},ue=function(e){return["/pages/dyeing-process/edit",e]};function ge(e,t){if(1&e){var i=y.kc();y.ec(0,"nb-icon",14),y.jc(1,"nb-icon",15),y.uc("click",(function(){y.Xc(i);var e=t.row;return y.yc().deleteDyeingProcess(e.id)})),y.ic()}if(2&e){var n=t.row;y.Hc("options",y.Nc(6,le,y.Mc(5,de)))("routerLink",y.Nc(8,ue,n.id))("hidden",!1),y.Pb(1),y.Hc("options",y.Nc(11,le,y.Mc(10,de)))("hidden",!1)}}var pe,he=function(){return["/pages/dyeing-process"]},me=((pe=function(){function e(t,i,n){c(this,e),this.toastr=t,this.dyeingProcessService=i,this.modalService=n,this.flag=!1,this.process=[],this.headers=["Name"],this.module="dyeing process",this.destroy$=new l.a}return s(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){this.getAllDyeingProcesses()}},{key:"getAllDyeingProcesses",value:function(){var e=this;this.dyeingProcessService.getAllDyeingProcessList().pipe(Object(d.a)(this.destroy$)).subscribe((function(t){t.success&&(e.dyeingProcessList=t.data)}),(function(e){}))}},{key:"deleteDyeingProcess",value:function(e){var t=this;this.modalService.open(se.a,{size:"sm"}).result.then((function(i){i&&t.dyeingProcessService.deleteDyeingProcess(e).pipe(Object(d.a)(t.destroy$)).subscribe((function(e){e.success?(t.toastr.success(e.msg),t.dyeingProcessList=[],t.getAllDyeingProcesses()):t.toastr.error(e.msg)}),(function(e){}))}))}},{key:"open",value:function(){this.flag=!0;var e=this.modalService.open(oe.a);e.componentInstance.headers=this.headers,e.componentInstance.list=this.process,e.componentInstance.moduleName=this.module}}]),e}()).\u0275fac=function(e){return new(e||pe)(y.dc(v.b),y.dc(h.a),y.dc(b.e))},pe.\u0275cmp=y.Xb({type:pe,selectors:[["ngx-dyeing-process"]],decls:19,vars:8,consts:[[1,"row"],[1,"col-lg-12"],[1,"nb-style"],[1,"nb-header"],[1,"col-md-2","col-2","display-flex-start"],[1,"btn","btn-primary","btn-md","btn-design",3,"click"],[1,"col-md-1","col-3","display-flex-start"],[1,"btn","btn-primary","btn-md","btn-design",3,"routerLink","disabled"],[1,"col-md-9","col-7"],[1,"nb-text"],[1,"material",3,"rows","ngClass","rowHeight","headerHeight"],["name","Actions","sortable","false",3,"maxWidth"],["ngx-datatable-cell-template",""],["name","Dyeing Process Name","props","dyeingProcessName"],["status","primary","icon","edit",3,"options","routerLink","hidden"],["status","danger","icon","trash",3,"options","hidden","click"]],template:function(e,t){1&e&&(y.jc(0,"div",0),y.jc(1,"div",1),y.jc(2,"nb-card",2),y.jc(3,"nb-card-header",3),y.jc(4,"div",0),y.jc(5,"div",4),y.jc(6,"button",5),y.uc("click",(function(){return t.open()})),y.jd(7,"EXPORT"),y.ic(),y.ic(),y.jc(8,"div",6),y.jc(9,"button",7),y.jd(10,"Add"),y.ic(),y.ic(),y.jc(11,"div",8),y.jc(12,"h2",9),y.jd(13,"Dyeing Process"),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(14,"nb-card-body"),y.jc(15,"ngx-datatable",10),y.jc(16,"ngx-datatable-column",11),y.hd(17,ge,2,13,"ng-template",12),y.ic(),y.ec(18,"ngx-datatable-column",13),y.ic(),y.ic(),y.ic(),y.ic(),y.ic()),2&e&&(y.Pb(9),y.Hc("routerLink",y.Mc(7,he))("disabled",!1),y.Pb(6),y.Hc("rows",t.dyeingProcessList)("ngClass","bootstrap")("rowHeight","auto")("headerHeight",31),y.Pb(1),y.Hc("maxWidth",90))},directives:[P.u,P.x,r.d,P.t,re.e,o.l,re.b,re.a,P.I],styles:["ngb-modal-window[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:1002px}ngx-add-dyeing-process-step[_ngcontent-%COMP%]{width:1000px}"]}),pe),ye=function e(){c(this,e),this.dyeingTagDataList=[],this.dyeingTagDataList.push(new be)},be=function(){function e(){c(this,e),this.byChemical="L",this.shadeType="DEFAULT",this._id=this.uuidv4()}return s(e,[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}}]),e}(),ve=a("qC+V");function fe(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Tag Name is required. "),y.ic())}function je(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Tag Name already exist. "),y.ic())}function Pe(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Temprature is required. "),y.ic())}function Se(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Hold Time is required. "),y.ic())}function Me(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Liquor ratio is required. "),y.ic())}var Ce=function(){return{type:"zoom"}},Le=function(e){return{animation:e}};function Te(e,t){if(1&e){var i=y.kc();y.jc(0,"nb-icon",42),y.uc("click",(function(){y.Xc(i);var e=t.rowIndex;return y.yc().removeItem(e)})),y.ic()}2&e&&y.Hc("options",y.Nc(2,Le,y.Mc(1,Ce)))}function ke(e,t){if(1&e&&(y.jc(0,"option",50),y.jc(1,"div",4),y.jc(2,"div",46),y.jc(3,"div",47),y.jd(4),y.ic(),y.ic(),y.jc(5,"div",46),y.jc(6,"div",48),y.jd(7),y.ic(),y.ic(),y.ic(),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i.itemId),y.Pb(4),y.ld("",i.itemName," - "),y.Pb(3),y.ld("",i.supplierName," ")}}function De(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Required "),y.ic())}var xe=function(e){return{"is-invalid":e}};function Ie(e,t){if(1&e){var i=y.kc();y.jc(0,"select",43,44),y.uc("ngModelChange",(function(e){return y.Xc(i),t.row.itemId=e}))("change",(function(){y.Xc(i);var e=t.rowIndex;return y.yc().itemSelected(e)})),y.jc(3,"option",45),y.jc(4,"div",4),y.jc(5,"div",46),y.jc(6,"div",47),y.jd(7,"Item - "),y.ic(),y.ic(),y.jc(8,"div",46),y.jc(9,"div",48),y.jd(10,"Supplier "),y.ic(),y.ic(),y.ic(),y.ic(),y.hd(11,ke,8,3,"option",49),y.zc(12,"showOnlyChemicalFilter"),y.ic(),y.hd(13,De,2,0,"div",19)}if(2&e){var n=t.row,c=t.rowIndex,a=y.Uc(1),s=y.yc();y.Kc("name","itemId",n._id,"_",c,""),y.Hc("ngModel",n.itemId)("id","supplierList"+c+"-0")("ngClass",y.Nc(10,xe,a.invalid&&(s.formSubmitted||a.touched))),y.Pb(11),y.Hc("ngForOf",y.Bc(12,7,s.itemListArray,!1)),y.Pb(2),y.Hc("ngIf",a.invalid&&(s.formSubmitted||a.touched))}}function we(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Required "),y.ic())}function Fe(e,t){if(1&e){var i=y.kc();y.jc(0,"input",51,52),y.uc("ngModelChange",(function(e){return y.Xc(i),t.row.supplierName=e}))("keyup",(function(e){y.Xc(i);var n=t.rowIndex;return y.yc().onKeyUp(e,n,0,"supplierName")})),y.ic(),y.hd(2,we,2,0,"div",19)}if(2&e){var n=t.row,c=t.rowIndex,a=y.Uc(1),s=y.yc();y.Kc("name","supplierName",n._id,"_",c,""),y.Hc("ngModel",n.supplierName)("id","supplierList"+c+"-supplierName")("ngClass",y.Nc(6,xe,a.invalid&&(s.formSubmitted||a.touched))),y.Pb(2),y.Hc("ngIf",a.invalid&&(s.formSubmitted||a.touched))}}function Ne(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Required "),y.ic())}function Oe(e,t){if(1&e){var i=y.kc();y.jc(0,"input",53,54),y.uc("ngModelChange",(function(e){return y.Xc(i),t.row.concentration=e}))("keypress",(function(e){return y.Xc(i),y.yc().numberOnly(e)}))("keyup",(function(e){y.Xc(i);var n=t.rowIndex;return y.yc().onKeyUp(e,n,0,"concentration")})),y.ic(),y.hd(2,Ne,2,0,"div",19)}if(2&e){var n=t.row,c=t.rowIndex,a=y.Uc(1),s=y.yc();y.Kc("name","concentration",n._id,"_",c,""),y.Hc("ngModel",n.concentration)("id","supplierList"+c+"-concentration")("ngClass",y.Nc(6,xe,a.invalid&&(s.formSubmitted||a.touched))),y.Pb(2),y.Hc("ngIf",a.invalid&&(s.formSubmitted||a.touched))}}function He(e,t){if(1&e&&(y.jc(0,"option",58),y.jd(1),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i.id),y.Pb(1),y.ld("",i.value," ")}}function qe(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Required "),y.ic())}function Ae(e,t){if(1&e){var i=y.kc();y.jc(0,"select",55,56),y.uc("ngModelChange",(function(e){return y.Xc(i),t.row.byChemical=e})),y.hd(2,He,2,2,"option",57),y.ic(),y.hd(3,qe,2,0,"div",19)}if(2&e){var n=t.row,c=t.rowIndex,a=y.Uc(1),s=y.yc();y.Kc("name","byChemical",n._id,"_",c,""),y.Hc("ngModel",n.byChemical)("id","supplierList"+c+"-byChemical")("ngClass",y.Nc(7,xe,a.invalid&&(s.formSubmitted||a.touched))),y.Pb(2),y.Hc("ngForOf",s.byChemicalList),y.Pb(1),y.Hc("ngIf",a.invalid&&(s.formSubmitted||a.touched))}}function Ue(e,t){if(1&e&&(y.jc(0,"option",58),y.jd(1),y.ic()),2&e){var i=t.$implicit;y.Hc("value",i),y.Pb(1),y.ld(" ",i," ")}}function Ee(e,t){1&e&&(y.jc(0,"div",41),y.jd(1," Required "),y.ic())}function $e(e,t){if(1&e){var i=y.kc();y.jc(0,"select",59,60),y.uc("ngModelChange",(function(e){return y.Xc(i),t.row.shadeType=e})),y.hd(3,Ue,2,2,"option",57),y.ic(),y.hd(4,Ee,2,0,"div",19)}if(2&e){var n=t.row,c=t.rowIndex,a=y.Uc(2),s=y.yc();y.Kc("name","shadeType",n._id,"_",c,""),y.Hc("ngModel",n.shadeType)("id","supplierList"+c+"-4")("ngClass",y.Nc(7,xe,a.invalid&&(s.formSubmitted||a.touched))),y.Pb(3),y.Hc("ngForOf",s.shadeTypeList),y.Pb(1),y.Hc("ngIf",a.invalid&&(s.formSubmitted||a.touched))}}var Xe,Be=((Xe=function(){function i(e,t,n,a,s,o){c(this,i),this.route=e,this.activeRoute=t,this.tagService=n,this.toastr=a,this.commonService=s,this.cdr=o,this.updateFlag=!1,this.loading=!1,this.formSubmitted=!1,this.isNotTagUnique=!1,this.itemListArray=[],this.byChemicalList=[{id:"L",value:"L"},{id:"W",value:"W"},{id:"F",value:"F"}],this.shadeTypeList=["DEFAULT","LIGHT","MEDIUM","DARK","SPECIAL"],this.unsubscribe$=new l.a,this.tagFormObject=new ye}return s(i,[{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"ngOnInit",value:function(){var e=this;this.getItemData((function(t){e.currentTagId=Number(e.activeRoute.snapshot.paramMap.get("id")),e.currentTagId?(e.updateFlag=!0,e.getTagById()):e.updateFlag=!1}))}},{key:"getItemData",value:function(e){var t=this;this.loading=!0,this.tagService.getAllItemWithSupplier().pipe(Object(d.a)(this.unsubscribe$)).subscribe((function(i){i.success&&(t.itemListArray=i.data,e()),t.loading=!1}),(function(e){t.loading=!0}))}},{key:"getTagById",value:function(){var e=this;this.loading=!0,this.tagService.getTagNameById(this.currentTagId).pipe(Object(d.a)(this.unsubscribe$)).subscribe((function(t){t.success?(e.tagFormObject=t.data,e.tagFormObject.dyeingTagDataList.forEach((function(t,i){e.itemSelected(i)}))):e.toastr.error(t.msg),e.loading=!1}),(function(t){e.loading=!1}))}},{key:"checkUniqTagName",value:function(){var e=this,t=0;this.currentTagId&&(t=this.currentTagId),this.tagFormObject.tagProcessName&&(this.loading=!0,this.tagService.checkUniqTag(t,this.tagFormObject.tagProcessName).pipe(Object(d.a)(this.unsubscribe$)).subscribe((function(t){e.isNotTagUnique=t.data,e.loading=!1}),(function(t){e.loading=!1})))}},{key:"numberOnly",value:function(e){var t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57)||69==t)||46==t}},{key:"itemSelected",value:function(e){var t=this;this.itemListArray.forEach((function(i){i.itemId==t.tagFormObject.dyeingTagDataList[e].itemId&&(t.tagFormObject.dyeingTagDataList[e].supplierName=i.supplierName,t.tagFormObject.dyeingTagDataList[e].itemName=i.itemName)})),this.verify(),this.tagFormObject.dyeingTagDataList[e].duplicateError&&(this.toastr.error("Same Item and Shade Type present"),this.tagFormObject.dyeingTagDataList.splice(e,1))}},{key:"verify",value:function(){var e=this;if(this.tagFormObject.dyeingTagDataList&&this.tagFormObject.dyeingTagDataList.length){var i=Object(m.uniqBy)(this.tagFormObject.dyeingTagDataList,(function(e){return e.itemId&&e.shadeType}));this.tagFormObject.dyeingTagDataList.length!=i.length?this.tagFormObject.dyeingTagDataList.forEach((function(i){var n,c=0,a=t(e.tagFormObject.dyeingTagDataList);try{for(a.s();!(n=a.n()).done;){var s=n.value;i.shadeType==s.shadeType&&i.itemId==s.itemId&&(c++,s.duplicateError=!!(c>1&&s.shadeType&&s.itemId))}}catch(o){a.e(o)}finally{a.f()}})):this.tagFormObject.dyeingTagDataList.map((function(e){return e.duplicateError=!1}))}else this.tagFormObject.dyeingTagDataList.map((function(e){return e.duplicateError=!1}))}},{key:"onKeyUp",value:function(t,i,n,c){var a=this;if(13==(t.keyCode?t.keyCode:t.which))if(this.index="supplierList"+(i+1)+"-"+c,i===this.tagFormObject.dyeingTagDataList.length-1){var s=this.tagFormObject.dyeingTagDataList[i];if("concentration"==c){if(!s.concentration)return}else if("byChemical"==c&&!s.byChemical)return;var o=new be;this.tagFormObject.dyeingTagDataList.push(o),this.tagFormObject.dyeingTagDataList=e(this.tagFormObject.dyeingTagDataList);var r=setInterval((function(){var e=document.getElementById(a.index);null!=e&&(e.focus(),clearInterval(r))}),10)}else{var d=setInterval((function(){var e=document.getElementById(a.index);null!=e&&(e.focus(),clearInterval(d))}),10);this.cdr.detectChanges()}}},{key:"removeItem",value:function(t){1==this.tagFormObject.dyeingTagDataList.length?(this.tagFormObject.dyeingTagDataList[0].byChemical="L",this.tagFormObject.dyeingTagDataList[0].concentration=null,this.tagFormObject.dyeingTagDataList[0].controlId=null,this.tagFormObject.dyeingTagDataList[0].id=null,this.tagFormObject.dyeingTagDataList[0].itemId=null,this.tagFormObject.dyeingTagDataList[0].itemName=null,this.tagFormObject.dyeingTagDataList[0].supplierName=null):this.tagFormObject.dyeingTagDataList.splice(t,1),this.tagFormObject.dyeingTagDataList=e(this.tagFormObject.dyeingTagDataList)}},{key:"cancelForm",value:function(e){e.reset(),this.tagFormObject=new ye,this.formSubmitted=!1,this.isNotTagUnique=!1}},{key:"submitForm",value:function(e){var t=this;this.formSubmitted=!0,e.valid&&!this.isNotTagUnique?this.updateFlag?this.editcurrentTag():this.addNewTag(e):this.tagFormObject.dyeingTagDataList.forEach((function(e){e.byChemical&&e.concentration&&e.itemId&&e.shadeType&&e.supplierName||t.toastr.error("Please fill all chemical data")}))}},{key:"addNewTag",value:function(e){var t=this;this.tagFormObject.userHeadId=this.commonService.getUserHeadId().userHeadId,this.tagFormObject.createdBy=this.commonService.getUser().userId,this.loading=!0,this.tagService.addTagName(this.tagFormObject).pipe(Object(d.a)(this.unsubscribe$)).subscribe((function(i){i.success?(t.toastr.success(i.msg),t.cancelForm(e)):t.toastr.error(i.msg),t.loading=!1}),(function(e){t.loading=!1}))}},{key:"editcurrentTag",value:function(){var e=this;this.tagFormObject.updatedBy=this.commonService.getUser().userId,this.loading=!0,this.tagService.updateTagName(this.tagFormObject).pipe(Object(d.a)(this.unsubscribe$)).subscribe((function(t){t.success?(e.toastr.success(t.msg),e.route.navigate(["pages/dyeing-process/tag/view"])):e.toastr.error(t.msg),e.loading=!1}),(function(t){e.loading=!1}))}},{key:"trackByFn",value:function(e,t){return t?t._id||t:e}},{key:"tableChange",value:function(e){switch(e){case"view table":this.route.navigate(["/pages/dyeing-process/view"]);break;case"add process":this.route.navigate(["/pages/dyeing-process/"]);break;case"show tag":this.route.navigate(["/pages/dyeing-process/tag/view"])}}}]),i}()).\u0275fac=function(e){return new(e||Xe)(y.dc(r.c),y.dc(r.a),y.dc(h.a),y.dc(v.b),y.dc(p.a),y.dc(y.i))},Xe.\u0275cmp=y.Xb({type:Xe,selectors:[["ngx-add-edit-tag-name"]],decls:76,vars:35,consts:[[3,"show"],[1,"container"],[1,"nb-style"],[1,"nb-header"],[1,"row"],[1,"col-md-5","col-6","display-flex-start","max-width-device"],["placeholder","Select",1,"btn","btn-md",2,"width","175px",3,"change"],["value","view table"],["value","add process"],["value","show tag"],[1,"col-md-7","col-7"],[1,"nb-text","txt-ov-elips"],["tagForm","ngForm"],[1,"modal-body"],[1,"col-md-6"],[1,"form-group"],[1,"required"],["type","text","name","tagProcessName","required","","placeholder","Tag Name",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange","change"],["tagProcessName","ngModel"],["class","input-required",4,"ngIf"],["type","number","min","0","name","temp","required","","placeholder","Temprature",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange"],["temp1","ngModel"],["min","0","type","number","name","holdTime","required","","placeholder","Hold Time",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange"],["holdTime1","ngModel"],["min","0","type","number","name","liquerRation","required","","placeholder","Liquor ratio",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange","keypress"],["liquerRation1","ngModel"],[1,"col-md-12"],[1,"nb-badges","mr-0"],["id","fmtr-table",1,"col-md-12"],[1,"material","common-table","datatable-auto-height","box-shadow-none","box-mr-bt","tag-table-body-height",3,"rows","headerHeight","footerHeight","scrollbarV"],["table",""],["name","Action",3,"sortable","maxWidth"],["ngx-datatable-cell-template",""],["name","Item Name",3,"sortable","width"],["name","Supplier Name",3,"sortable"],["name","Concentration",3,"sortable"],["name","By",3,"sortable"],["name","Shade type",3,"sortable"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-save",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"click"],[1,"input-required"],["icon","trash","status","danger",3,"options","click"],["itemId1","ngModel","required","","appendTo","body",1,"tableForm",2,"width","100%",3,"name","ngModel","id","ngClass","ngModelChange","change"],["data","ngModel","itemId1","ngModel"],["disabled","true"],[1,"col-md-6","col-6"],[1,"text-left","txt-ov-elips"],[1,"text-center","txt-ov-elips"],["placeholder","Select Item",3,"value",4,"ngFor","ngForOf"],["placeholder","Select Item",3,"value"],["type","text","readonly","",1,"tableForm",3,"name","ngModel","id","ngClass","ngModelChange","keyup"],["supplierName1","ngModel"],["type","number","min","0",1,"tableForm",3,"name","ngModel","id","ngClass","ngModelChange","keypress","keyup"],["concentration1","ngModel"],["required","",1,"tableForm",2,"width","100%",3,"name","ngModel","id","ngClass","ngModelChange"],["byChemical","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Select Shade-type","shadeType","ngModel","required","","appendTo","body",1,"tableForm",2,"width","100%",3,"name","ngModel","id","ngClass","ngModelChange"],["shadeType","","itemId1","ngModel"]],template:function(e,t){if(1&e){var i=y.kc();y.ec(0,"ngx-loading",0),y.jc(1,"div",1),y.jc(2,"nb-card",2),y.jc(3,"nb-card-header",3),y.jc(4,"div",4),y.jc(5,"div",5),y.jc(6,"ng-select",6),y.uc("change",(function(e){return t.tableChange(e)})),y.jc(7,"ng-option",7),y.jd(8,"View Table"),y.ic(),y.jc(9,"ng-option",8),y.jd(10,"Add Process"),y.ic(),y.jc(11,"ng-option",9),y.jd(12,"View Process-Tags"),y.ic(),y.ic(),y.ic(),y.jc(13,"div",10),y.jc(14,"h2",11),y.jd(15),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(16,"nb-card-body"),y.jc(17,"form",null,12),y.jc(19,"div",13),y.jc(20,"div",4),y.jc(21,"div",14),y.jc(22,"div",15),y.jc(23,"label",16),y.jd(24,"Tag Name"),y.ic(),y.jc(25,"input",17,18),y.uc("ngModelChange",(function(e){return t.tagFormObject.tagProcessName=e}))("change",(function(){return t.checkUniqTagName()})),y.ic(),y.hd(27,fe,2,0,"div",19),y.hd(28,je,2,0,"div",19),y.ic(),y.ic(),y.jc(29,"div",14),y.jc(30,"div",15),y.jc(31,"label",16),y.jd(32,"Temprature"),y.ic(),y.jc(33,"input",20,21),y.uc("ngModelChange",(function(e){return t.tagFormObject.temp=e})),y.ic(),y.hd(35,Pe,2,0,"div",19),y.ic(),y.ic(),y.jc(36,"div",14),y.jc(37,"div",15),y.jc(38,"label",16),y.jd(39,"Hold Time"),y.ic(),y.jc(40,"input",22,23),y.uc("ngModelChange",(function(e){return t.tagFormObject.holdTime=e})),y.ic(),y.hd(42,Se,2,0,"div",19),y.ic(),y.ic(),y.jc(43,"div",14),y.jc(44,"div",15),y.jc(45,"label",16),y.jd(46,"Liquor Ratio"),y.ic(),y.jc(47,"input",24,25),y.uc("ngModelChange",(function(e){return t.tagFormObject.liquerRation=e}))("keypress",(function(e){return t.numberOnly(e)})),y.ic(),y.hd(49,Me,2,0,"div",19),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(50,"div",4),y.jc(51,"div",26),y.jc(52,"div",16),y.jc(53,"h5",27),y.jd(54,"Chemical List"),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(55,"div",4),y.jc(56,"div",28),y.jc(57,"ngx-datatable",29,30),y.jc(59,"ngx-datatable-column",31),y.hd(60,Te,1,4,"ng-template",32),y.ic(),y.jc(61,"ngx-datatable-column",33),y.hd(62,Ie,14,12,"ng-template",32),y.ic(),y.jc(63,"ngx-datatable-column",34),y.hd(64,Fe,3,8,"ng-template",32),y.ic(),y.jc(65,"ngx-datatable-column",35),y.hd(66,Oe,3,8,"ng-template",32),y.ic(),y.jc(67,"ngx-datatable-column",36),y.hd(68,Ae,4,9,"ng-template",32),y.ic(),y.jc(69,"ngx-datatable-column",37),y.hd(70,$e,5,9,"ng-template",32),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(71,"div",38),y.jc(72,"button",39),y.uc("click",(function(){y.Xc(i);var e=y.Uc(18);return t.submitForm(e)})),y.jd(73,"Save"),y.ic(),y.jc(74,"button",40),y.uc("click",(function(){y.Xc(i);var e=y.Uc(18);return t.cancelForm(e)})),y.jd(75,"Cancel"),y.ic(),y.ic(),y.ic(),y.ic(),y.ic(),y.ic()}if(2&e){var n=y.Uc(26),c=y.Uc(34),a=y.Uc(41),s=y.Uc(48);y.Hc("show",t.loading),y.Pb(15),y.kd(t.updateFlag?"Edit Process-Tag":"Add Process-Tag"),y.Pb(10),y.Hc("ngModel",t.tagFormObject.tagProcessName)("ngClass",y.Nc(27,xe,n.invalid&&(t.formSubmitted||n.touched)||t.isNotTagUnique)),y.Pb(2),y.Hc("ngIf",n.invalid&&(t.formSubmitted||n.touched)),y.Pb(1),y.Hc("ngIf",t.isNotTagUnique),y.Pb(5),y.Hc("ngModel",t.tagFormObject.temp)("ngClass",y.Nc(29,xe,c.invalid&&(t.formSubmitted||c.touched))),y.Pb(2),y.Hc("ngIf",c.invalid&&(t.formSubmitted||c.touched)),y.Pb(5),y.Hc("ngModel",t.tagFormObject.holdTime)("ngClass",y.Nc(31,xe,a.invalid&&(t.formSubmitted||a.touched))),y.Pb(2),y.Hc("ngIf",a.invalid&&(t.formSubmitted||a.touched)),y.Pb(5),y.Hc("ngModel",t.tagFormObject.liquerRation)("ngClass",y.Nc(33,xe,s.invalid&&(t.formSubmitted||s.touched))),y.Pb(2),y.Hc("ngIf",s.invalid&&(t.formSubmitted||s.touched)),y.Pb(8),y.Hc("rows",t.tagFormObject.dyeingTagDataList)("headerHeight",31)("footerHeight",31)("scrollbarV",!0),y.Pb(2),y.Hc("sortable",!1)("maxWidth",90),y.Pb(2),y.Hc("sortable",!1)("width",500),y.Pb(2),y.Hc("sortable",!1),y.Pb(2),y.Hc("sortable",!1),y.Pb(2),y.Hc("sortable",!1),y.Pb(2),y.Hc("sortable",!1)}},directives:[ve.a,P.u,P.x,j.a,j.c,P.t,f.x,f.m,f.n,f.a,f.t,f.l,f.o,o.l,o.n,f.q,re.e,re.b,re.a,P.I,f.u,f.p,f.w,o.m],pipes:[M.a],styles:[""]}),Xe),Re=function(){return{type:"zoom"}},_e=function(e){return{animation:e}},Ke=function(e){return["/pages/dyeing-process/tag/edit",e]};function We(e,t){if(1&e){var i=y.kc();y.ec(0,"nb-icon",17),y.jd(1,"\xa0\xa0 "),y.jc(2,"nb-icon",18),y.uc("click",(function(){y.Xc(i);var e=t.rowIndex;return y.yc().deleteTag(e)})),y.ic()}if(2&e){var n=t.row;y.Hc("options",y.Nc(4,_e,y.Mc(3,Re)))("routerLink",y.Nc(6,Ke,n.id)),y.Pb(2),y.Hc("options",y.Nc(9,_e,y.Mc(8,Re)))}}var Ve,ze,Je,Ge=[{path:"",component:ce,canActivate:[ae.a],canLoad:[ae.a],data:{PermissionName:["add"]}},{path:"view",component:me,canActivate:[ae.a],canLoad:[ae.a],data:{PermissionName:["view","view group","view all"]}},{path:"edit/:id",component:ce,canActivate:[ae.a],canLoad:[ae.a],data:{PermissionName:["edit","edit group","edit all"]}},{path:"tag",component:Be,canActivate:[ae.a],canLoad:[ae.a],data:{PermissionName:["add"]}},{path:"tag/view",component:(Ve=function(){function e(t,i,n){c(this,e),this.route=t,this.tagService=i,this.toastr=n,this.tagList=[],this.loading=!1}return s(e,[{key:"ngOnInit",value:function(){this.getAllProcessTags()}},{key:"getAllProcessTags",value:function(){var e=this;this.tagList=[],this.loading=!0,this.tagService.getAllTags().subscribe((function(t){t.success&&(e.tagList=t.data),e.loading=!1}),(function(t){e.loading=!1}))}},{key:"deleteTag",value:function(e){var t=this;this.loading=!0,this.tagService.deleteProcessTag(this.tagList[e].id).subscribe((function(e){e.success?(t.toastr.success(e.msg),t.getAllProcessTags()):t.toastr.error(e.msg),t.loading=!1}),(function(e){t.loading=!1}))}},{key:"addProcessTag",value:function(){this.route.navigate(["/pages/dyeing-process/tag/"])}},{key:"tableChange",value:function(e){switch(e){case"view table":this.route.navigate(["/pages/dyeing-process/view"]);break;case"add process":this.route.navigate(["/pages/dyeing-process/"])}}}]),e}(),Ve.\u0275fac=function(e){return new(e||Ve)(y.dc(r.c),y.dc(h.a),y.dc(v.b))},Ve.\u0275cmp=y.Xb({type:Ve,selectors:[["ngx-show-tag-name"]],decls:22,vars:6,consts:[[1,"container"],[1,"nb-style"],[1,"nb-header"],[1,"row"],[1,"col-md-5","col-6","display-flex-start","max-width-device"],["placeholder","Select",1,"btn","btn-md",2,"width","175px",3,"change"],["value","view table"],["value","add process"],[1,"col-md-3","col-3"],["type","button",1,"btn","btn-md","btn-design",3,"click"],[1,"col-md-4","col-4"],[1,"nb-text","txt-ov-elips"],[1,"material","common-table","datatable-auto-height",3,"rows","headerHeight","footerHeight"],["table",""],["name","Action",3,"sortable","width","maxWidth"],["ngx-datatable-cell-template",""],["name","Process-Tag Name","prop","tagProcessName"],["status","primary","icon","edit",3,"options","routerLink"],["icon","trash","status","danger",3,"options","click"]],template:function(e,t){1&e&&(y.jc(0,"div",0),y.jc(1,"nb-card",1),y.jc(2,"nb-card-header",2),y.jc(3,"div",3),y.jc(4,"div",4),y.jc(5,"ng-select",5),y.uc("change",(function(e){return t.tableChange(e)})),y.jc(6,"ng-option",6),y.jd(7,"View Dyeing Process Table"),y.ic(),y.jc(8,"ng-option",7),y.jd(9,"Add Dyeing Process"),y.ic(),y.ic(),y.ic(),y.jc(10,"div",8),y.jc(11,"button",9),y.uc("click",(function(){return t.addProcessTag()})),y.jd(12,"Add Process-Tag"),y.ic(),y.ic(),y.jc(13,"div",10),y.jc(14,"h2",11),y.jd(15,"Process Tags"),y.ic(),y.ic(),y.ic(),y.ic(),y.jc(16,"nb-card-body"),y.jc(17,"ngx-datatable",12,13),y.jc(19,"ngx-datatable-column",14),y.hd(20,We,3,11,"ng-template",15),y.ic(),y.ec(21,"ngx-datatable-column",16),y.ic(),y.ic(),y.ic(),y.ic()),2&e&&(y.Pb(17),y.Hc("rows",t.tagList)("headerHeight",31)("footerHeight",31),y.Pb(2),y.Hc("sortable",!1)("width",300)("maxWidth",90))},directives:[P.u,P.x,j.a,j.c,P.t,re.e,re.b,re.a,P.I,r.d],styles:[""]}),Ve),canActivate:[ae.a],canLoad:[ae.a],data:{PermissionName:["view","view group","view all"]}},{path:"tag/edit/:id",component:Be,canActivate:[ae.a],canLoad:[ae.a],data:{PermissionName:["edit","edit group","edit all"]}}],Ze=((ze=function e(){c(this,e)}).\u0275mod=y.bc({type:ze}),ze.\u0275inj=y.ac({factory:function(e){return new(e||ze)},imports:[[r.g.forChild(Ge)],r.g]}),ze),Qe=a("yzeJ"),Ye=a("vTDv"),et=((Je=function e(){c(this,e)}).\u0275mod=y.bc({type:Je}),Je.\u0275inj=y.ac({factory:function(e){return new(e||Je)},imports:[[o.c,Ze,Qe.a,f.g,Ye.a]]}),Je)},iLL0:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("4/8P"),a=i("fXoL"),o=i("tk/3"),r=function(){var e=function(){function e(t,i){c(this,e),this.httpClient=t,this.commonService=i}return s(e,[{key:"getDyeingSlipData",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingSlip/all")}},{key:"getDyeingProcessById",value:function(e){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingProcess/"+e)}},{key:"isProcessNameExist",value:function(e,t){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingProcess/isProcessExistWithName/"+e+"/"+t)}},{key:"getAllDyeingProcessList",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingProcess/all")}},{key:"getAllItemWithSupplier",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/supplier/getItemWithSupplierName/all")}},{key:"saveDyeingProcess",value:function(e){return this.httpClient.post(this.commonService.envUrl()+"api/dyeingProcess",e)}},{key:"deleteDyeingProcess",value:function(e){return this.httpClient.delete(this.commonService.envUrl()+"api/dyeingProcess/"+e)}},{key:"updateDyeingProcess",value:function(e){return this.httpClient.put(this.commonService.envUrl()+"api/dyeingProcess",e)}},{key:"checkUniqTag",value:function(e,t){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingProcess/exist/tagProcess?id="+e+"&name="+t)}},{key:"getAllTags",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingProcess/all/tagProcess")}},{key:"getTagNameById",value:function(e){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingProcess/get/tagProcess?id="+e)}},{key:"addTagName",value:function(e){return this.httpClient.post(this.commonService.envUrl()+"api/dyeingProcess/add/tagProcess",e)}},{key:"updateTagName",value:function(e){return this.httpClient.put(this.commonService.envUrl()+"api/dyeingProcess/update/tagProcess",e)}},{key:"deleteProcessTag",value:function(e){return this.httpClient.delete(this.commonService.envUrl()+"api/dyeingProcess/delete/tagProcess?id="+e)}},{key:"getAttributes",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/dyeingProcess/getPlcNameList")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.rc(o.b),a.rc(n.a))},e.\u0275prov=a.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},yodA:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return o})),i.d(t,"a",(function(){return r}));var n=function e(){c(this,e)},a=function e(){c(this,e)},s=function e(){c(this,e),this.id=null,this.dyeingProcessMastId=null,this.dyeingplcDataList=[]},o=function e(){c(this,e),this.l=null,this.m=null,this.d=null,this.s=null},r=function e(){c(this,e),this.byChemical="L",this.shadeType="DEFAULT",this._id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}}}])}();