!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{DvbU:function(t,n,o){"use strict";o.r(n),o.d(n,"ProcessModule",(function(){return ot}));var r,s,a=o("ofXK"),d=o("tyNb"),l=o("O1SP"),u=o("rTU5"),p=o("4/8P"),h=o("RWgp"),m=o("lvCO"),f=o("fXoL"),g=o("5eHb"),v=((r=function(){function e(t,n,c,o,r,s){i(this,e),this.commonService=t,this.jwtToken=n,this.storeTokenService=c,this.toastr=o,this._router=r,this.auth=s,this.errorData=l}return c(e,[{key:"canActivate",value:function(e,t){this.jwtToken.setToken(this.storeTokenService.get("token"));var i=this.jwtToken.getDecodeToken("process");this.permis=this.commonService.decToBin(i);var n=e.data.PermissionName;if(1==n.length)switch(n[0]){case"view":return"1"==this.permis[0]||(this._router.navigate(["/pages"]),!1);case"add":return"1"==this.permis[1]||(this._router.navigate(["/pages/color/view"]),!1);case"edit":return"1"==this.permis[2]||(this._router.navigate(["/pages"]),!1);case"delete":return"1"==this.permis[3]||(this._router.navigate(["/pages"]),!1);case"view group":return"1"==this.permis[4]||(this._router.navigate(["/pages"]),!1);case"edit group":return"1"==this.permis[5]||(this._router.navigate(["/pages"]),!1);case"delete group":return"1"==this.permis[6]||(this._router.navigate(["/pages"]),!1);case"view all":return"1"==this.permis[7]||(this._router.navigate(["/pages"]),!1);case"edit all":return"1"==this.permis[8]||(this._router.navigate(["/pages"]),!1);case"delete all":return"1"==this.permis[9]||(this._router.navigate(["/pages"]),!1)}else if(3==n.length)return"1"==this.permis[0]||"1"==this.permis[4]||"1"==this.permis[7]||(this._router.navigate(["/pages"]),!1)}},{key:"canLoad",value:function(e,t){this.jwtToken.setToken(this.storeTokenService.get("token"));var i=this.jwtToken.getDecodeToken("process"),n=this.commonService.decToBin(i);return"1"==n[0]||"1"==n[4]||"1"==n[7]||(this.toastr.error(l.NoPermission),!1)}},{key:"accessRights",value:function(e){this.jwtToken.setToken(this.storeTokenService.get("token"));var t=this.jwtToken.getDecodeToken("process");switch(this.permis=this.commonService.decToBin(t),e){case"view":return"1"==this.permis[0];case"add":return"1"==this.permis[1];case"edit":return"1"==this.permis[2];case"delete":return"1"==this.permis[3];case"view group":return"1"==this.permis[4];case"edit group":return"1"==this.permis[5];case"delete group":return"1"==this.permis[6];case"view all":return"1"==this.permis[7];case"edit all":return"1"==this.permis[8];case"delete all":return"1"==this.permis[9]}}}]),e}()).\u0275fac=function(e){return new(e||r)(f.rc(p.a),f.rc(h.a),f.rc(m.a),f.rc(g.b),f.rc(d.c),f.rc(u.a))},r.\u0275prov=f.Zb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),b=o("1G5W"),j=o("5+WD"),y=function e(){i(this,e)},C=function e(){i(this,e),this.haveDose=!1,this.isDosingControl=!1,this.isOperatorMessage=!1,this.isPumpControl=!1,this.isTempControl=!1,this.isWaterControl=!1,this.jetLevel=!1},P=function e(){i(this,e)},M=function e(){i(this,e),this.funcValue=""},k=function e(){i(this,e),this.haveDose=!1,this.fillType="Pre Fill Machine Water",this.dosingPercentage="Level 1",this.doseWhileHeating=!1,this.doseType="",this.dosingChemical=[]},F=function e(){i(this,e)},w=function e(){i(this,e),this.pressure=!1},S=function e(){i(this,e)},O=function e(){i(this,e),this.type="",this.waterType="",this.drainType="",this.fabricRatio=0,this.jetLevel=!1},I=function e(){i(this,e)},L=o("tk/3"),T=((s=function(){function e(t,n){i(this,e),this.httpClient=t,this.commonService=n}return c(e,[{key:"getProcessById",value:function(e){return this.httpClient.get(this.commonService.envUrl()+"api/qualityprocess/"+e)}},{key:"getAllProcessList",value:function(e,t){return this.httpClient.get(this.commonService.envUrl()+"api/qualityprocess/all/"+e+"/"+t)}},{key:"getAllItemWithSupplier",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/supplier/getItemWithSupplierName/all")}},{key:"saveProcess",value:function(e){return this.httpClient.post(this.commonService.envUrl()+"api/qualityprocess",e)}},{key:"deleteProcess",value:function(e){return this.httpClient.delete(this.commonService.envUrl()+"api/qualityProcess/"+e)}},{key:"updateProcess",value:function(e){return this.httpClient.put(this.commonService.envUrl()+"api/qualityprocess",e)}}]),e}()).\u0275fac=function(e){return new(e||s)(f.rc(L.b),f.rc(p.a))},s.\u0275prov=f.Zb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),H=o("2V/h"),N=o("XNiG"),x=o("1kSV"),D=o("3Pt+"),V=o("aceb");function A(e,t){if(1&e&&(f.jc(0,"option",20),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i.id),f.Pb(1),f.ld(" ",i.name," ")}}function X(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Function Name is required. "),f.ic())}function $(e,t){if(1&e&&(f.jc(0,"option",22),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i),f.Pb(1),f.kd(i)}}function W(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Function Position is required. "),f.ic())}function R(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"span"),f.jd(2),f.ic(),f.jd(3,"\xa0"),f.jc(4,"span"),f.jd(5),f.ic(),f.ic()),2&e){var i=t.$implicit,n=t.index;f.Pb(2),f.ld("",n+1,"."),f.Pb(3),f.kd(i.funcName)}}function U(e,t){if(1&e&&(f.jc(0,"div",23),f.jc(1,"div",8),f.jc(2,"h5",24),f.jd(3,"Current Functions:"),f.ic(),f.hd(4,R,6,2,"div",25),f.ic(),f.ic()),2&e){var i=f.yc();f.Pb(4),f.Hc("ngForOf",i.functionList)}}function _(e,t){if(1&e&&(f.jc(0,"option",22),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i.id),f.Pb(1),f.kd(i.name)}}function q(e,t){if(1&e&&(f.jc(0,"option",22),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i.id),f.Pb(1),f.kd(i.name)}}function E(e,t){if(1&e){var i=f.kc();f.jc(0,"div",23),f.jc(1,"div",8),f.jc(2,"nb-checkbox",36),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc(2).dosing.doseWhileHeating=e})),f.jd(3," Dose while Heating "),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.yc(2);f.Pb(2),f.Hc("ngModel",n.dosing.doseWhileHeating)}}function z(e,t){if(1&e&&(f.jc(0,"option",48),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i.itemId),f.Pb(1),f.md(" ",i.itemName," - ",i.supplierName," ")}}var B=function(){return{type:"zoom"}},J=function(e){return{animation:e}};function G(e,t){if(1&e){var i=f.kc();f.jc(0,"tr"),f.jc(1,"td"),f.jc(2,"select",38,39),f.uc("ngModelChange",(function(e){return f.Xc(i),t.$implicit.itemId=e}))("change",(function(e){f.Xc(i);var n=t.index;return f.yc(3).itemSelected(e,n)})),f.hd(4,z,2,3,"option",40),f.ic(),f.ic(),f.jc(5,"td"),f.jc(6,"input",41,42),f.uc("ngModelChange",(function(e){return f.Xc(i),t.$implicit.supplierName=e}))("keyup",(function(e){f.Xc(i);var n=t.index;return f.yc(3).onKeyUp(e,n,1,"supplierName")})),f.ic(),f.ic(),f.jc(8,"td"),f.jc(9,"input",43,44),f.uc("ngModelChange",(function(e){return f.Xc(i),t.$implicit.concentration=e}))("keyup",(function(e){f.Xc(i);var n=t.index;return f.yc(3).onKeyUp(e,n,2,"concentration")})),f.ic(),f.ic(),f.jc(11,"td"),f.jc(12,"input",45,46),f.uc("ngModelChange",(function(e){return f.Xc(i),t.$implicit.lrOrFabricWt=e}))("keyup",(function(e){f.Xc(i);var n=t.index;return f.yc(3).onKeyUp(e,n,3,"lrOrFabricWt")})),f.ic(),f.ic(),f.jc(14,"td"),f.jc(15,"nb-icon",47),f.uc("click",(function(){f.Xc(i);var e=t.index;return f.yc(3).removeItem(e)})),f.ic(),f.ic(),f.ic()}if(2&e){var n=t.$implicit,c=t.index,o=f.yc(3);f.Pb(2),f.Jc("name","itemId",c,""),f.Hc("ngModel",n.itemId),f.Pb(2),f.Hc("ngForOf",o.itemListArray),f.Pb(2),f.Jc("name","supplierName",c,""),f.Hc("ngModel",n.supplierName)("id","supplierList"+c+"-1"),f.Pb(3),f.Jc("name","concentration",c,""),f.Hc("ngModel",n.concentration)("id","supplierList"+c+"-2"),f.Pb(3),f.Jc("name","lrOrFabricWt",c,""),f.Hc("ngModel",n.lrOrFabricWt)("id","itemList"+c+"-3"),f.Pb(3),f.Hc("options",f.Nc(14,J,f.Mc(13,B)))}}function K(e,t){if(1&e&&(f.jc(0,"div",6),f.jc(1,"div",28),f.jc(2,"table",37),f.jc(3,"tr"),f.jc(4,"th"),f.jd(5,"Item name"),f.ic(),f.jc(6,"th"),f.jd(7,"Supplier name"),f.ic(),f.jc(8,"th"),f.jd(9,"Concentration"),f.ic(),f.jc(10,"th"),f.jd(11,"LR/F.WT"),f.ic(),f.jc(12,"th"),f.jd(13,"Action"),f.ic(),f.ic(),f.hd(14,G,16,16,"tr",25),f.ic(),f.ic(),f.ic()),2&e){var i=f.yc(2);f.Pb(14),f.Hc("ngForOf",i.dosing.dosingChemical)}}function Z(e,t){if(1&e){var i=f.kc();f.jc(0,"div"),f.jc(1,"div",6),f.jc(2,"div",7),f.jc(3,"div",8),f.jc(4,"label"),f.jd(5,"Fill Side Tank "),f.ic(),f.jc(6,"select",26),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().dosing.fillType=e})),f.hd(7,_,2,2,"option",15),f.ic(),f.ic(),f.ic(),f.jc(8,"div",7),f.jc(9,"div",8),f.jc(10,"label"),f.jd(11,"Fill Side Tank Level"),f.ic(),f.jc(12,"select",27),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().dosing.dosingPercentage=e})),f.hd(13,q,2,2,"option",15),f.ic(),f.ic(),f.ic(),f.ic(),f.jc(14,"div",6),f.jc(15,"div",28),f.jc(16,"div",8),f.jc(17,"p",29),f.jd(18,"(Will dose after Operator Confirmation)"),f.ic(),f.ic(),f.ic(),f.jc(19,"div",7),f.jc(20,"div",8),f.jc(21,"nb-checkbox",30),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().dosing.haveDose=e})),f.jd(22," dose at Temp(C) "),f.jc(23,"input",31),f.uc("keypress",(function(e){return f.Xc(i),f.yc().numberOnly(e)}))("ngModelChange",(function(e){return f.Xc(i),f.yc().dosing.doseAtTemp=e})),f.ic(),f.ic(),f.ic(),f.ic(),f.hd(24,E,4,1,"div",16),f.ic(),f.jc(25,"div",6),f.jc(26,"div",8),f.jd(27,"\xa0\xa0\xa0 "),f.jc(28,"label"),f.jd(29,"Dose Type"),f.ic(),f.jc(30,"nb-radio-group",32),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().dosing.doseType=e}))("valueChange",(function(){return f.Xc(i),f.yc().onDoseTypeChange()})),f.jc(31,"nb-radio",33),f.jd(32,"Chemical"),f.ic(),f.jc(33,"nb-radio",34),f.jd(34,"Color"),f.ic(),f.ic(),f.ic(),f.ic(),f.hd(35,K,15,1,"div",35),f.ic()}if(2&e){var n=f.yc();f.Pb(6),f.Hc("ngModel",n.dosing.fillType),f.Pb(1),f.Hc("ngForOf",n.fillList),f.Pb(5),f.Hc("ngModel",n.dosing.dosingPercentage),f.Pb(1),f.Hc("ngForOf",n.fillLevelList),f.Pb(8),f.Hc("ngModel",n.dosing.haveDose),f.Pb(2),f.Hc("ngModel",n.dosing.doseAtTemp),f.Pb(1),f.Hc("ngIf","chemical"===n.dosing.doseType),f.Pb(6),f.Hc("ngModel",n.dosing.doseType),f.Pb(5),f.Hc("ngIf",null!=n.dosing.doseType&&"chemical"===n.dosing.doseType)}}function Q(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Required "),f.ic())}function Y(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Required "),f.ic())}function ee(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Required "),f.ic())}var te=function(e){return{"is-invalid":e}};function ie(e,t){if(1&e){var i=f.kc();f.jc(0,"div"),f.jc(1,"div",6),f.jc(2,"div",49),f.jc(3,"div",8),f.jc(4,"label"),f.jd(5,"S V (Set Value)(C)"),f.ic(),f.jc(6,"input",50,51),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().tempratureControl.setValue=e}))("keypress",(function(e){return f.Xc(i),f.yc().numberOnly(e)})),f.ic(),f.hd(8,Q,2,0,"div",12),f.ic(),f.ic(),f.jc(9,"div",23),f.jc(10,"div",8),f.jc(11,"label"),f.jd(12,"Rate of Rise (C/minute)"),f.ic(),f.jc(13,"input",52,53),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().tempratureControl.rateOfRise=e}))("keypress",(function(e){return f.Xc(i),f.yc().numberOnly(e)})),f.ic(),f.hd(15,Y,2,0,"div",12),f.ic(),f.ic(),f.jc(16,"div",54),f.jc(17,"div",8),f.jc(18,"label"),f.jd(19,"Hold Time"),f.ic(),f.jc(20,"input",55,56),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().tempratureControl.holdTime=e}))("keypress",(function(e){return f.Xc(i),f.yc().numberOnly(e)})),f.ic(),f.hd(22,ee,2,0,"div",12),f.ic(),f.ic(),f.ic(),f.jc(23,"div",6),f.jc(24,"div",8),f.jc(25,"div",57),f.jd(26," \xa0\xa0\xa0 "),f.jc(27,"nb-checkbox",58),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().tempratureControl.pressure=e})),f.jd(28," Pressure (Above 80 C) "),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.Uc(7),c=f.Uc(14),o=f.Uc(21),r=f.yc();f.Pb(6),f.Hc("ngModel",r.tempratureControl.setValue)("ngClass",f.Nc(10,te,n.invalid&&(r.modalSubmitted||n.touched))),f.Pb(2),f.Hc("ngIf",n.invalid&&(r.modalSubmitted||n.touched)),f.Pb(5),f.Hc("ngModel",r.tempratureControl.rateOfRise)("ngClass",f.Nc(12,te,c.invalid&&(r.modalSubmitted||c.touched))),f.Pb(2),f.Hc("ngIf",c.invalid&&(r.modalSubmitted||c.touched)),f.Pb(5),f.Hc("ngModel",r.tempratureControl.holdTime)("ngClass",f.Nc(14,te,o.invalid&&(r.modalSubmitted||o.touched))),f.Pb(2),f.Hc("ngIf",o.invalid&&(r.modalSubmitted||o.touched)),f.Pb(5),f.Hc("ngModel",r.tempratureControl.pressure)}}function ne(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Required "),f.ic())}function ce(e,t){if(1&e){var i=f.kc();f.jc(0,"div"),f.jc(1,"div",6),f.jc(2,"div",49),f.jc(3,"div",8),f.jc(4,"label"),f.jd(5,"Pump Speed(%)"),f.ic(),f.jc(6,"input",59,60),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().pumpControl.pumpSpeed=e}))("keypress",(function(e){return f.Xc(i),f.yc().numberOnly(e)})),f.ic(),f.hd(8,ne,2,0,"div",12),f.ic(),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.Uc(7),c=f.yc();f.Pb(6),f.Hc("ngModel",c.pumpControl.pumpSpeed)("ngClass",f.Nc(3,te,n.invalid&&(c.modalSubmitted||n.touched))),f.Pb(2),f.Hc("ngIf",n.invalid&&(c.modalSubmitted||n.touched))}}function oe(e,t){if(1&e&&(f.jc(0,"nb-radio",22),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i.id),f.Pb(1),f.kd(i.name)}}function re(e,t){if(1&e){var i=f.kc();f.jc(0,"div",6),f.jc(1,"div",65),f.jc(2,"div",66),f.jc(3,"label"),f.jd(4,"Fill By Fabric Ratio"),f.ic(),f.jc(5,"input",67),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc(3).waterControl.fabricRatio=e})),f.ic(),f.ic(),f.ic(),f.jc(6,"div",68),f.jc(7,"div",69),f.jc(8,"nb-checkbox",70),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc(3).waterControl.jetLevel=e})),f.jd(9,"Jet Level "),f.ic(),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.yc(3);f.Pb(5),f.Hc("ngModel",n.waterControl.fabricRatio),f.Pb(3),f.Hc("ngModel",n.waterControl.jetLevel)}}function se(e,t){if(1&e){var i=f.kc();f.jc(0,"div",6),f.jc(1,"div",28),f.jc(2,"div",8),f.jc(3,"label"),f.jd(4,"Water Type"),f.ic(),f.jc(5,"nb-radio-group",64),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc(2).waterControl.waterType=e})),f.hd(6,oe,2,2,"nb-radio",15),f.ic(),f.ic(),f.ic(),f.hd(7,re,10,2,"div",35),f.ic()}if(2&e){var n=f.yc(2);f.Pb(5),f.Hc("ngModel",n.waterControl.waterType),f.Pb(1),f.Hc("ngForOf",n.waterList),f.Pb(1),f.Hc("ngIf","water"===n.waterControl.type)}}function ae(e,t){if(1&e&&(f.jc(0,"nb-radio",22),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i.id),f.Pb(1),f.kd(i.name)}}function de(e,t){if(1&e){var i=f.kc();f.jc(0,"div",6),f.jc(1,"div",28),f.jc(2,"div",8),f.jc(3,"label"),f.jd(4,"Drain Type"),f.ic(),f.jc(5,"nb-radio-group",71),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc(2).waterControl.drainType=e})),f.hd(6,ae,2,2,"nb-radio",15),f.ic(),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.yc(2);f.Pb(5),f.Hc("ngModel",n.waterControl.drainType),f.Pb(1),f.Hc("ngForOf",n.drainTypeList)}}function le(e,t){if(1&e){var i=f.kc();f.jc(0,"div"),f.jc(1,"div",6),f.jc(2,"div",49),f.jc(3,"div",8),f.jc(4,"label"),f.jd(5,"Control Type"),f.ic(),f.jc(6,"nb-radio-group",61),f.uc("valueChange",(function(){return f.Xc(i),f.yc().onWaterTypeChange()}))("ngModelChange",(function(e){return f.Xc(i),f.yc().waterControl.type=e})),f.jc(7,"nb-radio",62),f.jd(8,"Water"),f.ic(),f.jc(9,"nb-radio",63),f.jd(10,"Drain"),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.hd(11,se,8,3,"div",35),f.hd(12,de,7,2,"div",35),f.ic()}if(2&e){var n=f.yc();f.Pb(6),f.Hc("ngModel",n.waterControl.type),f.Pb(5),f.Hc("ngIf","water"===n.waterControl.type),f.Pb(1),f.Hc("ngIf","drain"===n.waterControl.type)}}function ue(e,t){if(1&e&&(f.jc(0,"option",22),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i.id),f.Pb(1),f.ld("",i.name," ")}}function pe(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Required "),f.ic())}function he(e,t){1&e&&(f.jc(0,"div",21),f.jd(1," Required "),f.ic())}function me(e,t){if(1&e){var i=f.kc();f.jc(0,"div"),f.jc(1,"div",6),f.jc(2,"div",65),f.jc(3,"div",8),f.jc(4,"label"),f.jd(5,"Operator Message "),f.ic(),f.jc(6,"select",72,73),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().operatorMessage.operatorCode=e})),f.hd(8,ue,2,2,"option",15),f.ic(),f.hd(9,pe,2,0,"div",12),f.ic(),f.ic(),f.jc(10,"div",49),f.jc(11,"div",8),f.jc(12,"label"),f.jd(13,"Start at Temp"),f.ic(),f.jc(14,"input",74,75),f.uc("ngModelChange",(function(e){return f.Xc(i),f.yc().operatorMessage.startAtTemp=e}))("keypress",(function(e){return f.Xc(i),f.yc().numberOnly(e)})),f.ic(),f.hd(16,he,2,0,"div",12),f.ic(),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.Uc(7),c=f.Uc(15),o=f.yc();f.Pb(6),f.Hc("ngModel",o.operatorMessage.operatorCode)("ngClass",f.Nc(7,te,n.invalid&&(o.modalSubmitted||n.touched))),f.Pb(2),f.Hc("ngForOf",o.operatorMessageList),f.Pb(1),f.Hc("ngIf",n.invalid&&(o.modalSubmitted||n.touched)),f.Pb(5),f.Hc("ngModel",o.operatorMessage.startAtTemp)("ngClass",f.Nc(9,te,c.invalid&&(o.modalSubmitted||c.touched))),f.Pb(2),f.Hc("ngIf",c.invalid&&(o.modalSubmitted||c.touched))}}var fe,ge=((fe=function(){function e(t,n,c,o){i(this,e),this.activeModal=t,this.supplierService=n,this.toastr=c,this.processService=o,this.errorData=l,this.functionList=[],this.positionValues=[],this.tempFuncPosition=1,this.funcObj=new M,this.dosing=new k,this.tempDosing=[],this.tempratureControl=new w,this.tempTemprature=[],this.pumpControl=new S,this.tempPump=[],this.waterControl=new O,this.tempWater=[],this.operatorMessage=new I,this.tempOperator=[],this.chemicalSubRecordArray=[],this.itemListArray=[],this.functionDropdown=[{id:"dosing",name:"Dosing"},{id:"temprature",name:"Temprature Control"},{id:"pump",name:"Pump Control"},{id:"water",name:"Water Control"},{id:"operator",name:"Operator Message"}],this.waterList=[{id:"water1",name:"water1"},{id:"water2",name:"water2"}],this.drainTypeList=[{id:"Complete Drain (at 0 bar)",name:"Complete Drain (at 0 bar)"},{id:"Pressurize Drain (at 1 bar)",name:"Pressurize Drain (at 1 bar)"}],this.fillList=[{id:"Post Fill Fresh Water",name:"Post Fill Fresh Water"},{id:"Pre Fill Fresh Water",name:"Pre Fill Fresh Water"},{id:"Post Fill Machine Water",name:"Post Fill Machine Water"},{id:"Pre Fill Machine Water",name:"Pre Fill Machine Water"}],this.fillLevelList=[{id:"Level 1",name:"Level 1"},{id:"Level 2",name:"Level 2"}],this.operatorMessageList=[{id:"1",name:"Load Fabric"},{id:"2",name:"UnLoad Fabric"},{id:"3",name:"Close the Door"},{id:"4",name:"Custom Message"}],this.modalSubmitted=!1,this.submitButton="ADD",this.supplierList=[],this.destroy$=new N.a,this.chemicalSubRecord=new F}return c(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){var e=this;if(this.editFunction){if(this.submitButton="Update",this.position>0){this.funcObj.funcPosition=this.position;var t=this.functionList.findIndex((function(t){return t.funcPosition==e.position}));if(t>-1){var i=this.functionList[t];this.funcObj.funcName=i.funcName,this.funcObj.funcPosition=i.funcPosition,this.funcObj.funcValue=i.funcValue,this.dosing=i.dosingFunc,this.waterControl=i.waterControlFunc,this.tempratureControl=i.tempratureControlFunc,this.pumpControl=i.pumpControlFunc,this.operatorMessage=i.operatorMessageFunc}for(var n=1;n<=this.functionList.length;n++)this.positionValues.push(n)}}else if(this.position>0){this.funcObj.funcPosition=this.position;for(var c=1;c<=this.position;c++)this.positionValues.push(c)}this.getItemData(),0==this.dosing.dosingChemical.length&&this.dosing.dosingChemical.push({id:null,dynamicProcessRecordId:null,itemId:null,itemName:null,supplierId:null,supplierName:null,concentration:null,lrOrFabricWt:null})}},{key:"numberOnly",value:function(e){var t=e.which?e.which:e.keyCode;return!(t>31&&(t<46||t>57||47==t))}},{key:"itemSelected",value:function(e,t){var i=this;this.itemListArray.forEach((function(e){e.itemId==i.dosing.dosingChemical[t].itemId&&(i.dosing.dosingChemical[t].supplierName=e.supplierName,i.dosing.dosingChemical[t].itemName=e.itemName,i.dosing.dosingChemical[t].supplierId=e.supplierId)}))}},{key:"onKeyUp",value:function(e,t,i,n){var c=this;if(13==(e.keyCode?e.keyCode:e.which))if(this.index="program"+(t+1)+"-"+i,t===this.dosing.dosingChemical.length-1){var o=this.dosing.dosingChemical[t];if("concentration"==n){if(!o.concentration)return}else if("lrOrFabricWt"==n&&!o.lrOrFabricWt)return;this.dosing.dosingChemical.push({id:null,dynamicProcessRecordId:null,itemId:null,itemName:null,supplierId:null,supplierName:null,concentration:null,lrOrFabricWt:null});var r=setInterval((function(){var e=document.getElementById(c.index);null!=e&&(e.focus(),clearInterval(r))}),10)}else var s=setInterval((function(){var e=document.getElementById(c.index);null!=e&&(e.focus(),clearInterval(s))}),10)}},{key:"removeItem",value:function(e){1==this.dosing.dosingChemical.length?(this.dosing.dosingChemical[0].id=null,this.dosing.dosingChemical[0].dynamicProcessRecordId=null,this.dosing.dosingChemical[0].itemId=null,this.dosing.dosingChemical[0].itemName=null,this.dosing.dosingChemical[0].supplierName=null,this.dosing.dosingChemical[0].concentration=null,this.dosing.dosingChemical[0].lrOrFabricWt=null):this.dosing.dosingChemical.splice(e,1)}},{key:"getItemData",value:function(){var e=this;this.processService.getAllItemWithSupplier().pipe(Object(b.a)(this.destroy$)).subscribe((function(t){t.success&&(e.itemListArray=t.data)}),(function(e){}))}},{key:"onWaterTypeChange",value:function(){"water"==this.waterControl.type?this.waterControl.drainType=null:(this.waterControl.jetLevel=0,this.waterControl.fabricRatio=null,this.waterControl.waterType=null)}},{key:"onDoseTypeChange",value:function(){var e=this;"color"==this.dosing.doseType?this.dosing.doseWhileHeating=!1:this.itemListArray.length||this.processService.getAllItemWithSupplier().pipe(Object(b.a)(this.destroy$)).subscribe((function(t){t.success&&(e.itemListArray=t.data)}),(function(e){}))}},{key:"onSubmit",value:function(e){var t=this;if(this.modalSubmitted=!0,e.valid){var i=this.functionDropdown.findIndex((function(e){return e.id===t.funcObj.funcValue}));if(this.funcObj.funcName=i>-1?this.functionDropdown[i].name:"","temprature"===this.funcObj.funcValue)this.tempTemprature=this.tempratureControl,this.funcObj.tempratureControlFunc=this.tempTemprature;else if("dosing"===this.funcObj.funcValue)this.tempDosing=this.dosing,this.funcObj.dosingFunc=this.tempDosing;else if("operator"===this.funcObj.funcValue){var n=this.operatorMessageList.findIndex((function(e){return e.id===t.operatorMessage.operatorCode}));n>-1&&3!=n&&(this.operatorMessage.operatorMessage=this.operatorMessageList[n].name),this.tempOperator=this.operatorMessage,this.funcObj.operatorMessageFunc=this.tempOperator}else"water"===this.funcObj.funcValue?(this.tempWater=this.waterControl,this.funcObj.waterControlFunc=this.tempWater):"pump"===this.funcObj.funcValue&&(this.tempPump=this.pumpControl,this.funcObj.pumpControlFunc=this.tempPump);this.activeModal.close(this.funcObj)}}}]),e}()).\u0275fac=function(e){return new(e||fe)(f.dc(x.a),f.dc(H.a),f.dc(g.b),f.dc(T))},fe.\u0275cmp=f.Xb({type:fe,selectors:[["ngx-add-function"]],inputs:{position:"position",functionList:"functionList",editFunction:"editFunction"},decls:37,vars:20,consts:[[1,"modal-header","nb-header"],["id","modal-basic-title",1,"modal-title","nb-text"],["type","button","aria-label","Close",1,"close","btn-foucs-none",3,"click"],["aria-hidden","true",1,"close-icon"],["functionForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","function","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["funcName","ngModel"],["placeholder","Function Name",3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["name","stepNo","required","","placeholder","Function Position",1,"form-control",3,"disabled","ngModel","ngClass","ngModelChange"],["position1","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-5",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm","btn-design",3,"click"],["placeholder","Function Name",3,"value"],[1,"invalid-feedback"],[3,"value"],[1,"col-md-5"],[1,"nb-badges"],[4,"ngFor","ngForOf"],["name","fill",1,"form-control",3,"ngModel","ngModelChange"],["name","filllevel",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"nb-p-text"],["name","dose",3,"ngModel","ngModelChange"],["type","number","fieldSize","small","name","tempDosing",1,"col-md-5","input-add-num",3,"ngModel","keypress","ngModelChange"],["fieldSize","large","name","dosetype",1,"form-control","inline-flex","mr-left-15","width-100",3,"ngModel","ngModelChange","valueChange"],["value","chemical"],["value","color"],["class","row",4,"ngIf"],["name","doseHeat",3,"ngModel","ngModelChange"],[1,"table","table-responsive","table-bordered","table-striped","table-process-fnt"],["itemId1","ngModel","required","",1,"tableForm",3,"name","ngModel","ngModelChange","change"],["itemId1","ngModel"],["placeholder","Select Item",3,"value",4,"ngFor","ngForOf"],["type","text","readonly","",1,"tableForm",3,"name","ngModel","id","ngModelChange","keyup"],["supplierName1","ngModel"],["type","number","min","0",1,"tableForm",3,"name","ngModel","id","ngModelChange","keyup"],["concentration1","ngModel"],["type","text",1,"tableForm",3,"name","ngModel","id","ngModelChange","keyup"],["rate1","ngModel"],["icon","trash","status","danger",3,"options","click"],["placeholder","Select Item",3,"value"],[1,"col-md-4"],["type","text","name","setValue","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["setValueC","ngModel"],["type","text","name","rateOfRise","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["rateOfRiseCM","ngModel"],[1,"col-md-3"],["type","text","name","holdTime","min","0","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["holdTime1","ngModel"],[1,"col-ms-12"],["name","pv",3,"ngModel","ngModelChange"],["type","number","name","pumpSpeed","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["pumpSpeed1","ngModel"],["fieldSize","small","name","watertype",1,"inline-block",3,"ngModel","valueChange","ngModelChange"],["value","water"],["value","drain"],["fieldSize","small","name","water",1,"form-control","inline-block",3,"ngModel","ngModelChange"],[1,"col-md-8"],[1,"form-group","mr-left-15"],["type","number","fieldSize","small","max","10","name","fabricRatio",1,"form-control","input-group","input-group-sm",3,"ngModel","ngModelChange"],[1,"col-md-4","nb-dis-flx"],[1,"form-group","nb-mr-0"],["name","jet",1,"mr-top-13",3,"ngModel","ngModelChange"],["fieldSize","small","name","waterDrain",1,"form-control","inline-block",3,"ngModel","ngModelChange"],["name","fill","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fillOperatorCode","ngModel"],["type","number","name","startat",1,"form-control","input-group","input-group-sm",3,"ngModel","ngClass","ngModelChange","keypress"],["startAtTemp","ngModel"]],template:function(e,t){if(1&e){var i=f.kc();f.jc(0,"div",0),f.jc(1,"h4",1),f.jd(2,"Add Function"),f.ic(),f.jc(3,"button",2),f.uc("click",(function(){return t.activeModal.close(!1)})),f.jc(4,"span",3),f.jd(5,"\xd7"),f.ic(),f.ic(),f.ic(),f.jc(6,"form",null,4),f.jc(8,"div",5),f.jc(9,"div",6),f.jc(10,"div",7),f.jc(11,"div",8),f.jc(12,"label"),f.jd(13,"Function Name"),f.ic(),f.jc(14,"select",9,10),f.uc("ngModelChange",(function(e){return t.funcObj.funcValue=e})),f.hd(16,A,2,2,"option",11),f.ic(),f.hd(17,X,2,0,"div",12),f.ic(),f.ic(),f.jc(18,"div",7),f.jc(19,"div",8),f.jc(20,"label"),f.jd(21,"Function Position"),f.ic(),f.jc(22,"select",13,14),f.uc("ngModelChange",(function(e){return t.funcObj.funcPosition=e})),f.hd(24,$,2,2,"option",15),f.ic(),f.hd(25,W,2,0,"div",12),f.ic(),f.ic(),f.hd(26,U,5,1,"div",16),f.ic(),f.hd(27,Z,36,9,"div",17),f.hd(28,ie,29,16,"div",17),f.hd(29,ce,9,5,"div",17),f.hd(30,le,13,3,"div",17),f.hd(31,me,17,11,"div",17),f.ic(),f.jc(32,"div",18),f.jc(33,"button",19),f.uc("click",(function(){f.Xc(i);var e=f.Uc(7);return t.onSubmit(e)})),f.jd(34),f.ic(),f.jc(35,"button",19),f.uc("click",(function(){return t.activeModal.close(!1)})),f.jd(36,"Cancel"),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.Uc(15),c=f.Uc(23);f.Pb(14),f.Hc("ngModel",t.funcObj.funcValue)("ngClass",f.Nc(16,te,n.invalid&&(t.modalSubmitted||n.touched))),f.Pb(2),f.Hc("ngForOf",t.functionDropdown),f.Pb(1),f.Hc("ngIf",n.invalid&&(t.modalSubmitted||n.touched)),f.Pb(5),f.Hc("disabled",t.editFunction)("ngModel",t.funcObj.funcPosition)("ngClass",f.Nc(18,te,c.invalid&&(t.modalSubmitted||c.touched))),f.Pb(2),f.Hc("ngForOf",t.positionValues),f.Pb(1),f.Hc("ngIf",c.invalid&&(t.modalSubmitted||c.touched)),f.Pb(1),f.Hc("ngIf",t.functionList.length),f.Pb(1),f.Hc("ngIf","dosing"===t.funcObj.funcValue),f.Pb(1),f.Hc("ngIf","temprature"===t.funcObj.funcValue),f.Pb(1),f.Hc("ngIf","pump"===t.funcObj.funcValue),f.Pb(1),f.Hc("ngIf","water"===t.funcObj.funcValue),f.Pb(1),f.Hc("ngIf","operator"===t.funcObj.funcValue),f.Pb(3),f.kd(t.submitButton)}},directives:[D.x,D.m,D.n,D.u,D.t,D.l,D.o,a.l,a.m,a.n,D.p,D.w,V.A,D.q,D.a,V.eb,V.db,V.I],styles:[""]}),fe);function ve(e,t){1&e&&(f.jc(0,"div",20),f.jd(1," Step Name is required. "),f.ic())}function be(e,t){if(1&e&&(f.jc(0,"option",21),f.jd(1),f.ic()),2&e){var i=t.$implicit;f.Hc("value",i),f.Pb(1),f.kd(i)}}function je(e,t){1&e&&(f.jc(0,"div",22),f.jd(1," Step Position is required. "),f.ic())}function ye(e,t){if(1&e&&(f.jc(0,"div",26),f.jc(1,"span",27),f.jd(2),f.ic(),f.jd(3,"\xa0"),f.jc(4,"span"),f.jd(5),f.ic(),f.ic()),2&e){var i=t.$implicit,n=t.index;f.Pb(2),f.ld("",n+1,"."),f.Pb(3),f.kd(i.stepName)}}function Ce(e,t){if(1&e&&(f.jc(0,"div",23),f.jc(1,"h5",24),f.jd(2,"Current Steps"),f.ic(),f.hd(3,ye,6,2,"div",25),f.ic()),2&e){var i=f.yc();f.Pb(3),f.Hc("ngForOf",i.stepList)}}var Pe,Me=function(e){return{"is-invalid":e}},ke=((Pe=function(){function e(t,n){i(this,e),this.activeModal=t,this.toastr=n,this.stepName="",this.stepPosition=1,this.positionValues=[],this.stepList=[],this.submitButton="Add",this.modalSubmitted=!1,this.errorData=l}return c(e,[{key:"ngOnInit",value:function(){if(this.editStep){if(this.submitButton="Update",this.position>0){this.stepPosition=this.position,this.stepName=this.stepList[this.position-1].stepName;for(var e=1;e<=this.stepList.length;e++)this.positionValues.push(e)}}else if(this.position>0){this.stepPosition=this.position;for(var t=1;t<=this.position;t++)this.positionValues.push(t)}}},{key:"onCreate",value:function(e){this.modalSubmitted=!0,e.valid&&this.activeModal.close({name:this.stepName,position:this.stepPosition})}}]),e}()).\u0275fac=function(e){return new(e||Pe)(f.dc(x.a),f.dc(g.b))},Pe.\u0275cmp=f.Xb({type:Pe,selectors:[["ngx-add-step"]],inputs:{position:"position",stepList:"stepList",editStep:"editStep"},decls:31,vars:14,consts:[[1,"modal-header","nb-header"],["id","modal-basic-title",1,"modal-title","nb-text"],["type","button","aria-label","Close",1,"close","btn-foucs-none",3,"click"],["aria-hidden","true",1,"close-icon"],["stepForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["type","text","name","stepName","required","","placeholder","Step Name",1,"form-control","input-group",3,"ngModel","ngClass","ngModelChange"],["name1","ngModel"],["class","input-required",4,"ngIf"],["name","stepNo","required","",1,"form-control",3,"disabled","ngModel","ngClass","ngModelChange"],["position1","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm","btn-design",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"click"],[1,"input-required"],[3,"value"],[1,"invalid-feedback"],[1,"col-md-12"],[1,"nb-badges"],["class","list-step",4,"ngFor","ngForOf"],[1,"list-step"],[1,"nb-table-num"]],template:function(e,t){if(1&e){var i=f.kc();f.jc(0,"div",0),f.jc(1,"h4",1),f.jd(2,"Add Step"),f.ic(),f.jc(3,"button",2),f.uc("click",(function(){return t.activeModal.close(!1)})),f.jc(4,"span",3),f.jd(5,"\xd7"),f.ic(),f.ic(),f.ic(),f.jc(6,"form",null,4),f.jc(8,"div",5),f.jc(9,"div",6),f.jc(10,"div",7),f.jc(11,"div",8),f.jc(12,"label"),f.jd(13,"Step Name"),f.ic(),f.jc(14,"input",9,10),f.uc("ngModelChange",(function(e){return t.stepName=e})),f.ic(),f.hd(16,ve,2,0,"div",11),f.ic(),f.ic(),f.jc(17,"div",7),f.jc(18,"div",8),f.jc(19,"label"),f.jd(20,"Step Position"),f.ic(),f.jc(21,"select",12,13),f.uc("ngModelChange",(function(e){return t.stepPosition=e})),f.hd(23,be,2,2,"option",14),f.ic(),f.hd(24,je,2,0,"div",15),f.ic(),f.ic(),f.hd(25,Ce,4,1,"div",16),f.ic(),f.ic(),f.jc(26,"div",17),f.jc(27,"button",18),f.uc("click",(function(){f.Xc(i);var e=f.Uc(7);return t.onCreate(e)})),f.jd(28),f.ic(),f.jc(29,"button",19),f.uc("click",(function(){return t.activeModal.close(!1)})),f.jd(30,"Cancel"),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.Uc(15),c=f.Uc(22);f.Pb(14),f.Hc("ngModel",t.stepName)("ngClass",f.Nc(10,Me,n.invalid&&(t.modalSubmitted||n.touched))),f.Pb(2),f.Hc("ngIf",n.invalid&&(t.modalSubmitted||n.touched)),f.Pb(5),f.Hc("disabled",t.editStep)("ngModel",t.stepPosition)("ngClass",f.Nc(12,Me,c.invalid&&(t.modalSubmitted||c.touched))),f.Pb(2),f.Hc("ngForOf",t.positionValues),f.Pb(1),f.Hc("ngIf",c.invalid&&(t.modalSubmitted||c.touched)),f.Pb(1),f.Hc("ngIf",t.stepList.length),f.Pb(3),f.kd(t.submitButton)}},directives:[D.x,D.m,D.n,D.a,D.t,D.l,D.o,a.l,a.n,D.u,a.m,D.p,D.w],styles:[".select.btn-mini[_ngcontent-%COMP%]{height:auto!important;line-height:14px!important}"]}),Pe);function Fe(e,t){1&e&&(f.jc(0,"div",23),f.jc(1,"span"),f.jd(2,"Process name is required."),f.ic(),f.ic())}function we(e,t){1&e&&(f.jc(0,"div",23),f.jc(1,"span"),f.jd(2,"Time is required."),f.ic(),f.ic())}function Se(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"table",45),f.jc(2,"thead"),f.jc(3,"tr"),f.jc(4,"th",46),f.jd(5,"SV (Set Value)(C) "),f.ic(),f.jc(6,"th",46),f.jd(7,"Rate of Rise (C/minute) "),f.ic(),f.jc(8,"th",46),f.jd(9,"Hold Time "),f.ic(),f.jc(10,"th",46),f.jd(11,"Pressure (Above 80 C) "),f.ic(),f.ic(),f.ic(),f.jc(12,"tbody"),f.jc(13,"tr"),f.jc(14,"td"),f.jd(15),f.ic(),f.jc(16,"td"),f.jd(17),f.ic(),f.jc(18,"td"),f.jd(19),f.ic(),f.jc(20,"td"),f.jd(21),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()),2&e){var i=f.yc().$implicit;f.Pb(15),f.ld(" ",i.tempratureControlFunc.setValue," "),f.Pb(2),f.ld(" ",i.tempratureControlFunc.rateOfRise," "),f.Pb(2),f.ld("",i.tempratureControlFunc.holdTime," "),f.Pb(2),f.ld(" ",i.tempratureControlFunc.pressure," ")}}function Oe(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"div",5),f.jc(2,"div",47),f.jc(3,"table",45),f.jc(4,"thead"),f.jc(5,"tr"),f.jc(6,"th",46),f.jd(7,"Pump speed (%) "),f.ic(),f.ic(),f.ic(),f.jc(8,"tbody"),f.jc(9,"tr"),f.jc(10,"td"),f.jd(11),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ec(12,"hr"),f.ic()),2&e){var i=f.yc().$implicit;f.Pb(11),f.ld(" ",i.pumpControlFunc.pumpSpeed," ")}}function Ie(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"div",5),f.jc(2,"div",47),f.jc(3,"table",45),f.jc(4,"thead"),f.jc(5,"tr"),f.jc(6,"th",46),f.jd(7,"Drain Type "),f.ic(),f.ic(),f.ic(),f.jc(8,"tbody"),f.jc(9,"tr"),f.jc(10,"td"),f.jd(11),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()),2&e){var i=f.yc(2).$implicit;f.Pb(11),f.ld(" ",i.waterControlFunc.drainType," ")}}function Le(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"table",45),f.jc(2,"thead"),f.jc(3,"tr"),f.jc(4,"th",46),f.jd(5,"Water Type "),f.ic(),f.jc(6,"th",46),f.jd(7,"Fabric Ratio"),f.ic(),f.jc(8,"th",46),f.jd(9,"Jet Level "),f.ic(),f.ic(),f.ic(),f.jc(10,"tbody"),f.jc(11,"tr"),f.jc(12,"td"),f.jd(13),f.ic(),f.jc(14,"td"),f.jd(15),f.ic(),f.jc(16,"td"),f.jd(17),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()),2&e){var i=f.yc(2).$implicit;f.Pb(13),f.ld(" ",i.waterControlFunc.waterType," "),f.Pb(2),f.ld(" ",i.waterControlFunc.fabricRatio," "),f.Pb(2),f.ld("",i.waterControlFunc.jetLevel," ")}}function Te(e,t){if(1&e&&(f.jc(0,"div"),f.hd(1,Ie,12,1,"div",37),f.hd(2,Le,18,3,"div",37),f.ic()),2&e){var i=f.yc().$implicit;f.Pb(1),f.Hc("ngIf","water"!==i.waterControlFunc.type),f.Pb(1),f.Hc("ngIf","water"===i.waterControlFunc.type)}}function He(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"table",45),f.jc(2,"thead"),f.jc(3,"tr"),f.jc(4,"th",46),f.jd(5,"Operator Code "),f.ic(),f.jc(6,"th",46),f.jd(7,"Operator Message"),f.ic(),f.jc(8,"th",46),f.jd(9,"Start At Temp "),f.ic(),f.ic(),f.ic(),f.jc(10,"tbody"),f.jc(11,"tr"),f.jc(12,"td"),f.jd(13),f.ic(),f.jc(14,"td"),f.jd(15),f.ic(),f.jc(16,"td"),f.jd(17),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()),2&e){var i=f.yc().$implicit;f.Pb(13),f.ld("",i.operatorMessageFunc.operatorCode," "),f.Pb(2),f.ld("",i.operatorMessageFunc.operatorMessage," "),f.Pb(2),f.ld("",i.operatorMessageFunc.startAtTemp," ")}}function Ne(e,t){if(1&e&&(f.jc(0,"tr"),f.jc(1,"td"),f.jd(2),f.ic(),f.jc(3,"td"),f.jd(4),f.ic(),f.jc(5,"td"),f.jd(6),f.ic(),f.jc(7,"td"),f.jd(8),f.ic(),f.ic()),2&e){var i=t.$implicit;f.Pb(2),f.kd(i.itemName),f.Pb(2),f.ld("",i.supplierName," "),f.Pb(2),f.ld("",i.concentration," "),f.Pb(2),f.ld(" ",i.lrOrFabricWt," ")}}function xe(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"div",48),f.jc(2,"div",5),f.jc(3,"div",49),f.jc(4,"div",50),f.jc(5,"h4"),f.jd(6,"Dose Type: "),f.jc(7,"p"),f.jd(8),f.ic(),f.ic(),f.ic(),f.ic(),f.jc(9,"div",51),f.jc(10,"table",45),f.jc(11,"thead"),f.jc(12,"tr"),f.jc(13,"th",46),f.jd(14,"Item Name "),f.ic(),f.jc(15,"th",46),f.jd(16,"Supplier Name "),f.ic(),f.jc(17,"th",46),f.jd(18," Concentration "),f.ic(),f.jc(19,"th",46),f.jd(20," LR/FabricWt "),f.ic(),f.ic(),f.ic(),f.jc(21,"tbody"),f.hd(22,Ne,9,4,"tr",52),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()),2&e){var i=f.yc(2).$implicit;f.Pb(8),f.ld("",i.dosingFunc.doseType," "),f.Pb(14),f.Hc("ngForOf",i.dosingFunc.dosingChemical)}}function De(e,t){if(1&e&&(f.jc(0,"div"),f.jc(1,"div",48),f.jc(2,"table",45),f.jc(3,"thead"),f.jc(4,"tr"),f.jc(5,"th",46),f.jd(6,"Fill Side Tank "),f.ic(),f.jc(7,"th",46),f.jd(8,"Fill Side Tank (%) "),f.ic(),f.jc(9,"th",46),f.jd(10,"Dose at Temp "),f.ic(),f.jc(11,"th",46),f.jd(12,"Dose Type "),f.ic(),f.jc(13,"th",46),f.jd(14,"Dose while Heating "),f.ic(),f.ic(),f.ic(),f.jc(15,"tbody"),f.jc(16,"tr"),f.jc(17,"td"),f.jd(18),f.ic(),f.jc(19,"td"),f.jd(20),f.ic(),f.jc(21,"td"),f.jd(22),f.ic(),f.jc(23,"td"),f.jd(24),f.ic(),f.jc(25,"td"),f.jd(26),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.hd(27,xe,23,2,"div",37),f.ic()),2&e){var i=f.yc().$implicit;f.Pb(18),f.ld("",i.dosingFunc.fillType," "),f.Pb(2),f.ld("",i.dosingFunc.dosingPercentage," "),f.Pb(2),f.ld("",i.dosingFunc.doseAtTemp," "),f.Pb(2),f.ld(" ",i.dosingFunc.doseType," "),f.Pb(2),f.ld(" ",i.dosingFunc.doseWhileHeating," "),f.Pb(1),f.Hc("ngIf",null!=i.dosingFunc.doseType&&"chemical"===i.dosingFunc.doseType)}}var Ve=function(){return{type:"zoom"}},Ae=function(e){return{animation:e}};function Xe(e,t){if(1&e){var i=f.kc();f.jc(0,"nb-list-item",40),f.jc(1,"div",41),f.jc(2,"div",5),f.jc(3,"div",42),f.jc(4,"h6",43),f.jd(5),f.ic(),f.ic(),f.jc(6,"div",44),f.jc(7,"nb-icon",33),f.uc("click",(function(){f.Xc(i);var e=t.$implicit;return f.yc(4).onDeleteFunction(e)})),f.ic(),f.jc(8,"nb-icon",34),f.uc("click",(function(){f.Xc(i);var e=t.$implicit;return f.yc(4).onEditFunction(e)})),f.ic(),f.ic(),f.jc(9,"div",24),f.hd(10,Se,22,4,"div",37),f.hd(11,Oe,13,1,"div",37),f.hd(12,Te,3,2,"div",37),f.hd(13,He,18,3,"div",37),f.hd(14,De,28,6,"div",37),f.ic(),f.ic(),f.ic(),f.ic()}if(2&e){var n=t.$implicit;f.Pb(5),f.ld(" ",n.funcName,""),f.Pb(2),f.Hc("options",f.Nc(9,Ae,f.Mc(8,Ve))),f.Pb(1),f.Hc("options",f.Nc(12,Ae,f.Mc(11,Ve))),f.Pb(2),f.Hc("ngIf","temprature"===n.funcValue),f.Pb(1),f.Hc("ngIf","pump"===n.funcValue),f.Pb(1),f.Hc("ngIf","water"===n.funcValue),f.Pb(1),f.Hc("ngIf","operator"===n.funcValue),f.Pb(1),f.Hc("ngIf","dosing"===n.funcValue)}}function $e(e,t){if(1&e){var i=f.kc();f.jc(0,"div"),f.jc(1,"nb-list",38),f.uc("cdkDropListDropped",(function(e){f.Xc(i);var t=f.yc().$implicit;return f.yc(2).dropFunction(e,t.stepNo)})),f.hd(2,Xe,15,14,"nb-list-item",39),f.ic(),f.ic()}if(2&e){var n=f.yc().$implicit;f.Pb(2),f.Hc("ngForOf",n.functionList)}}function We(e,t){if(1&e){var i=f.kc();f.jc(0,"nb-accordion",27),f.jc(1,"nb-accordion-item",28,29),f.uc("click",(function(){f.Xc(i);var e=t.$implicit;return f.yc(2).onStepClick(e)})),f.jc(3,"nb-accordion-item-header",30),f.jc(4,"div",31),f.jd(5),f.ic(),f.jc(6,"div",32),f.jc(7,"nb-icon",33),f.uc("click",(function(){f.Xc(i);var e=t.$implicit;return f.yc(2).onDeleteStep(e)})),f.ic(),f.jc(8,"nb-icon",34),f.uc("click",(function(){f.Xc(i);var e=t.$implicit;return f.yc(2).onEditStep(e)})),f.ic(),f.jc(9,"nb-icon",35),f.uc("click",(function(){f.Xc(i);var e=t.$implicit;return f.yc(2).onAddFunction(e)})),f.ic(),f.ic(),f.ic(),f.jc(10,"nb-accordion-item-body",36),f.hd(11,$e,3,1,"div",37),f.ic(),f.ic(),f.ic()}if(2&e){var n=t.$implicit;f.Pb(5),f.ld(" ",n.stepName," "),f.Pb(2),f.Hc("options",f.Nc(6,Ae,f.Mc(5,Ve))),f.Pb(1),f.Hc("options",f.Nc(9,Ae,f.Mc(8,Ve))),f.Pb(1),f.Hc("options",f.Nc(12,Ae,f.Mc(11,Ve))),f.Pb(2),f.Hc("ngIf",n.functionList&&n.functionList.length)}}function Re(e,t){if(1&e){var i=f.kc();f.jc(0,"div",24),f.jc(1,"div",25),f.uc("cdkDropListDropped",(function(e){return f.Xc(i),f.yc().drop(e)})),f.hd(2,We,12,14,"nb-accordion",26),f.ic(),f.ic()}if(2&e){var n=f.yc();f.Pb(2),f.Hc("ngForOf",n.stepList)}}var Ue,_e=function(e){return{"is-invalid":e}},qe=((Ue=function(){function t(e,n,c,o,r,s){i(this,t),this.commonService=e,this.processService=n,this._modalService=c,this.toastr=o,this.route=r,this.router=s,this.processValue=new y,this.stepList=[],this.functionListReq=[],this.dosingControl=[],this.pumpControl=[],this.tempratureControl=[],this.waterControl=[],this.operatorMessage=[],this.chemicalOb=[],this.formSubmitted=!1,this.indexOfStep=0,this.errorData=l,this.destroy$=new N.a}return c(t,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){this.currentProcessId=parseInt(this.router.snapshot.paramMap.get("id")),this.processValue.steps=[],this.getItemData(),this.currentProcessId&&this.getUpdateDataOfProcess()}},{key:"getItemData",value:function(){var e=this;this.processService.getAllItemWithSupplier().pipe(Object(b.a)(this.destroy$)).subscribe((function(t){t.success&&(e.itemListArray=t.data)}),(function(e){}))}},{key:"getUpdateDataOfProcess",value:function(){var e=this;this.processService.getProcessById(this.currentProcessId).pipe(Object(b.a)(this.destroy$)).subscribe((function(t){t.success&&(e.processValue=t.data,e.setAllValuesForUpdate())}),(function(e){}))}},{key:"setAllValuesForUpdate",value:function(){var t=this;this.stepList=[];var i=[];this.processValue.steps.length&&(this.processValue.steps.forEach((function(e){if(-1==i.findIndex((function(t){return t==e.stepName}))){i.push(e.stepName);var n=new P;n.id=e.id,n.stepName=e.stepName,n.stepNo=e.stepPosotion,n.functionList=[],t.stepList.push(n)}})),this.processValue.steps.forEach((function(i){var n=t.stepList.findIndex((function(e){return e.stepName==i.stepName}));if(n>-1){var c=new k,o=new w,r=new S,s=new O,a=new I;if(i.isDosingControl){c.doseAtTemp=i.doseAtTemp,c.doseType=i.doseType,c.doseWhileHeating=i.doseWhileHeating,c.dosingPercentage=i.dosingPercentage,c.fillType=i.fillType,c.haveDose=i.haveDose,c.dosingChemical=i.dosingChemical,t.chemicalOb=e(c.dosingChemical);var d=setInterval((function(){t.itemListArray&&(clearInterval(d),t.chemicalOb.forEach((function(e){t.itemListArray.forEach((function(t){t.itemId==e.itemId&&(e.supplierName=t.supplierName)}))})))}),10)}else i.isOperatorMessage?(a.operatorCode=i.operatorCode,a.operatorMessage=i.operatorMessage,a.startAtTemp=i.startAtTemp):i.isPumpControl?r.pumpSpeed=i.pumpSpeed:i.isTempControl?(o.holdTime=i.holdTime,o.pressure=i.pressure,o.rateOfRise=i.rateOfRise,o.setValue=i.setValue):i.isWaterControl&&(i.drainType?(s.type="drain",s.drainType=i.drainType):(s.type="water",s.fabricRatio=i.fabricRatio,s.jetLevel=i.jetLevel,s.waterType=i.waterType));var l=new M;l.funcValue=i.functionValue,l.funcPosition=i.functionPosotion,l.funcName=i.functionName,l.dosingFunc=c,l.waterControlFunc=s,l.tempratureControlFunc=o,l.pumpControlFunc=r,l.operatorMessageFunc=a,t.stepList[n].functionList.push(l)}})))}},{key:"numberOnly",value:function(e){var t=e.which?e.which:e.keyCode;return!(t>31&&(t<46||t>57||47==t))}},{key:"drop",value:function(e){Object(j.d)(this.stepList,e.previousIndex,e.currentIndex)}},{key:"dropFunction",value:function(e,t){Object(j.d)(this.stepList[t-1].functionList,e.previousIndex,e.currentIndex),this.stepList[t-1].functionList.forEach((function(e,t){e.funcPosition=t+1}))}},{key:"onAddStep",value:function(){var e=this,t=this._modalService.open(ke);t.componentInstance.position=this.stepList.length+1,t.componentInstance.stepList=this.stepList,t.componentInstance.editStep=!1,t.result.then((function(t){if(t){var i=new P;i.stepName=t.name,i.stepNo=t.position,i.functionList=[],e.stepList.length&&t.position!=e.stepList.length+1?e.stepList.splice(t.position-1,0,i):e.stepList.push(i)}}))}},{key:"onEditStep",value:function(e){var t=this,i=this._modalService.open(ke);i.componentInstance.position=e.stepNo,i.componentInstance.stepList=this.stepList,i.componentInstance.editStep=!0,i.result.then((function(i){i&&(t.stepList[e.stepNo-1].stepName=i.name)}))}},{key:"onDeleteStep",value:function(e){var t=this.stepList.findIndex((function(t){return t.stepNo==e.stepPosition}));this.stepList.splice(t,1)}},{key:"onDeleteFunction",value:function(e){var t=this.stepList[this.selectedStep-1].functionList,i=t.findIndex((function(t){return t.funcPosition==e.funcPosition}));t.splice(i,1)}},{key:"onEditFunction",value:function(e){var t=this._modalService.open(ge),i=this.stepList[this.selectedStep-1].functionList;t.componentInstance.position=e.funcPosition,t.componentInstance.functionList=i,t.componentInstance.editFunction=!0,t.result.then((function(t){t&&(i[e.funcPosition-1]=t)}))}},{key:"onStepClick",value:function(e){this.selectedStep=e.stepNo}},{key:"onAddFunction",value:function(e){var t=this;e&&(this.selectedStep=e.stepNo);var i=this._modalService.open(ge),n=this.stepList[this.selectedStep-1].functionList;i.componentInstance.position=n.length+1,i.componentInstance.functionList=n,i.componentInstance.editFunction=!1,i.result.then((function(e){if(e){var i=new M;i=e,t.functionListReq.push(i),n.length&&e.funcPosition!=n.length+1?n.splice(e.funcPosition-1,0,i):n.push(i)}}))}},{key:"convertFormAccordingToRequestObj",value:function(e){var t=this;this.processValue.steps=[];var i=1;this.stepList.forEach((function(n){if(0!=n.functionList.length){var c=1;n.functionList.forEach((function(o){var r=new C;r.stepPosotion=i,r.stepName=n.stepName,r.functionName=o.funcName,r.functionPosotion=c,r.functionValue=o.funcValue,"pump"==o.funcValue?(r.isPumpControl=!0,r.pumpSpeed=o.pumpControlFunc.pumpSpeed):"operator"==o.funcValue?(r.isOperatorMessage=!0,r.operatorCode=o.operatorMessageFunc.operatorCode,r.operatorMessage=o.operatorMessageFunc.operatorMessage,r.startAtTemp=o.operatorMessageFunc.startAtTemp):"temprature"==o.funcValue?(r.isTempControl=!0,r.setValue=o.tempratureControlFunc.setValue,r.rateOfRise=o.tempratureControlFunc.rateOfRise,r.pressure=o.tempratureControlFunc.pressure,r.holdTime=o.tempratureControlFunc.holdTime):"water"==o.funcValue?(r.isWaterControl=!0,r.drainType=o.waterControlFunc.drainType,r.fabricRatio=o.waterControlFunc.fabricRatio,r.jetLevel=o.waterControlFunc.jetLevel,r.waterType=o.waterControlFunc.waterType):"dosing"==o.funcValue&&(r.isDosingControl=!0,r.doseAtTemp=o.dosingFunc.doseAtTemp,r.doseType=o.dosingFunc.doseType,"color"==r.doseType?(r.doseWhileHeating=!1,o.dosingFunc.dosingChemical=[]):(r.doseWhileHeating=o.dosingFunc.doseWhileHeating,o.dosingFunc.dosingChemical.forEach((function(e){delete e.supplierName})),r.dosingChemical=o.dosingFunc.dosingChemical),r.dosingPercentage=o.dosingFunc.dosingPercentage,r.fillType=o.dosingFunc.fillType,r.haveDose=o.dosingFunc.haveDose),c++,e&&(delete r.id,delete r.controlId),t.processValue.steps.push(r)}))}i++}))}},{key:"addProcess",value:function(e){var t=this;if(this.formSubmitted=!0,e.valid){if(0==this.stepList.length)return void this.toastr.error("Enter the steps");this.convertFormAccordingToRequestObj(1);var i=this.commonService.getUserHeadId(),n=this.commonService.getUser();this.processValue.userHeadId=i.userHeadId,this.processValue.createdBy=n.userId,this.processService.saveProcess(this.processValue).pipe(Object(b.a)(this.destroy$)).subscribe((function(e){e.success&&(t.route.navigate(["/pages/process"]),t.toastr.success(e.msg))}),(function(e){t.toastr.error(l.Internal_Error)}))}}},{key:"updateProcess",value:function(e){var t=this;if(this.formSubmitted=!0,e.valid){this.convertFormAccordingToRequestObj(0);var i=this.commonService.getUser();this.processValue.updatedBy=i.userId,this.processService.updateProcess(this.processValue).pipe(Object(b.a)(this.destroy$)).subscribe((function(e){e.success&&(t.toastr.success(l.Update_Success),t.route.navigate(["pages/process"]))}),(function(e){t.toastr.error(l.Internal_Error)}))}}}]),t}()).\u0275fac=function(e){return new(e||Ue)(f.dc(p.a),f.dc(T),f.dc(x.e),f.dc(g.b),f.dc(d.c),f.dc(d.a))},Ue.\u0275cmp=f.Xb({type:Ue,selectors:[["ngx-dynamic-process"]],decls:35,vars:15,consts:[[1,"container"],[1,"nb-style"],[1,"nb-header"],[1,"nb-text"],["myForm","ngForm"],[1,"row"],[1,"col-md-4","col-12"],[1,"form-group"],[1,"required"],["type","text","name","processName","required","","placeholder","Process Name",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["processName1","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-4","col-8"],["type","text","name","time","required","","placeholder","Time(minutes)",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["time1","ngModel"],[1,"col-md-4","col-4"],[1,"form-group","text-right"],["icon","plus-circle","status","primary",1,"plus-add","add-modal",3,"options","click"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","mobile-btn-center","text-btn-right"],[1,"padding-bt-tp"],["type","button","routerLink","/pages/process",1,"btn","btn-primary","btn-sm","btn-design-cancel"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-save",3,"click"],[1,"invalid-feedback"],[1,"col-md-12"],["cdkDropList","",1,"acc-under-css",3,"cdkDropListDropped"],["multi","","cdkDrag","","class","acc-start",4,"ngFor","ngForOf"],["multi","","cdkDrag","",1,"acc-start"],[1,"item","accordian-process",3,"click"],["item",""],[1,"item-header","nb-accordian-fn-size","nb-accordian","display-flex-between"],[1,""],[1,"nb-action"],["icon","trash","status","danger",1,"trash",3,"options","click"],["icon","edit","status","primary",1,"edit",3,"options","click"],["icon","plus-circle","status","success",1,"plus-function-add","add-process-icon",3,"options","click"],[1,"nb-item-body"],[4,"ngIf"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","class","acc-item",4,"ngFor","ngForOf"],["cdkDrag","",1,"acc-item"],[1,"acc-process","border-acc"],[1,"col-md-9","col-7"],[1,"acc-text","text-transform-uppercase"],[1,"col-md-3","col-5"],[1,"table","table-sm","table-bordered","text-center","table-hover","table-responsive-sm","table-responsive-md","table-responsive-lg","process-tb"],["scope","col"],[1,"col-md-4"],[1,"table-design-head"],[1,"col-md-3","col-12"],[1,"tb-title-type"],[1,"col-md-9","col-12"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e){var i=f.kc();f.jc(0,"div",0),f.jc(1,"nb-card",1),f.jc(2,"nb-card-header",2),f.jc(3,"h2",3),f.jd(4,"Dynamic Process"),f.ic(),f.ic(),f.jc(5,"nb-card-body"),f.jc(6,"form",null,4),f.jc(8,"div",5),f.jc(9,"div",6),f.jc(10,"div",7),f.jc(11,"label",8),f.jd(12,"Process Name"),f.ic(),f.jc(13,"input",9,10),f.uc("ngModelChange",(function(e){return t.processValue.processName=e})),f.ic(),f.hd(15,Fe,3,0,"div",11),f.ic(),f.ic(),f.jc(16,"div",12),f.jc(17,"div",7),f.jc(18,"label",8),f.jd(19,"Time(minutes)"),f.ic(),f.jc(20,"input",13,14),f.uc("ngModelChange",(function(e){return t.processValue.time=e}))("keypress",(function(e){return t.numberOnly(e)})),f.ic(),f.hd(22,we,3,0,"div",11),f.ic(),f.ic(),f.jc(23,"div",15),f.jc(24,"div",16),f.jc(25,"nb-icon",17),f.uc("click",(function(){return t.onAddStep()})),f.ic(),f.ic(),f.ic(),f.hd(26,Re,3,1,"div",18),f.ec(27,"br"),f.ic(),f.jc(28,"div",5),f.jc(29,"div",19),f.jc(30,"div",20),f.jc(31,"button",21),f.jd(32,"CANCEL"),f.ic(),f.jc(33,"button",22),f.uc("click",(function(){f.Xc(i);var e=f.Uc(7);return t.addProcess(e)})),f.jd(34,"SAVE"),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()}if(2&e){var n=f.Uc(14),c=f.Uc(21);f.Pb(13),f.Hc("ngModel",t.processValue.processName)("ngClass",f.Nc(8,_e,n.invalid&&(t.formSubmitted||n.touched))),f.Pb(2),f.Hc("ngIf",n.invalid&&(t.formSubmitted||n.touched)),f.Pb(5),f.Hc("ngModel",t.processValue.time)("ngClass",f.Nc(10,_e,c.invalid&&(t.formSubmitted||c.touched))),f.Pb(2),f.Hc("ngIf",c.invalid&&(t.formSubmitted||c.touched)),f.Pb(3),f.Hc("options",f.Nc(13,Ae,f.Mc(12,Ve))),f.Pb(1),f.Hc("ngIf",t.stepList?t.stepList.length:t.stepList)}},directives:[V.u,V.x,V.t,D.x,D.m,D.n,D.a,D.t,D.l,D.o,a.l,a.n,V.I,d.d,a.m,V.g,V.i,V.j,V.h,V.T,V.U],styles:[".plus-add[_ngcontent-%COMP%]{color:#0e82f5;font-size:40px;margin:23px}.plus-function-add[_ngcontent-%COMP%]{color:green;margin-right:10px}.edit[_ngcontent-%COMP%], .plus-function-add[_ngcontent-%COMP%]{font-size:25px;float:right}.edit[_ngcontent-%COMP%]{color:#4ca6ff;margin-right:9px}.trash[_ngcontent-%COMP%]{color:red;font-size:25px;float:right;margin-right:8px}.nb-theme-default[_ngcontent-%COMP%]   nb-accordion[_ngcontent-%COMP%]{display:block;box-shadow:0 .5rem 1rem 0 rgba(44,51,73,.1);border-radius:.25rem}.card-height[_ngcontent-%COMP%]{height:45px!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.nb-theme-default[_ngcontent-%COMP%]   nb-list-item[_ngcontent-%COMP%]{border-bottom:1px solid #edf1f7;color:#222b45;font-family:Open Sans,sans-serif;font-size:.9375rem;font-weight:400;line-height:1.211rem!important}"]}),Ue),Ee=o("Cma1"),ze=o("cmeu"),Be=o("kF6S"),Je=o("lDzL"),Ge=function(){return{type:"zoom"}},Ke=function(e){return{animation:e}},Ze=function(e){return["/pages/process/edit",e]};function Qe(e,t){if(1&e){var i=f.kc();f.ec(0,"nb-icon",14),f.jc(1,"nb-icon",15),f.uc("click",(function(){f.Xc(i);var e=t.row;return f.yc().deleteProcess(e.id)})),f.ic()}if(2&e){var n=t.row,c=f.yc();f.Hc("options",f.Nc(6,Ke,f.Mc(5,Ge)))("routerLink",f.Nc(8,Ze,n.id))("hidden",c.hiddenEdit),f.Pb(1),f.Hc("options",f.Nc(11,Ke,f.Mc(10,Ge)))("hidden",c.hiddenDelete)}}var Ye,et,tt,it=[{path:"",component:(Ye=function(){function e(t,n,c,o,r,s,a){i(this,e),this.processService=t,this.toastr=n,this.processGuard=c,this.modalService=o,this.commonService=r,this.jwtToken=s,this.exportService=a,this.process=[],this.headers=["Name"],this.module="process",this.flag=!1,this.access=!1,this.hiddenDelete=!0,this.hiddenEdit=!0,this.addButtonDisabled=!1,this.destroy$=new N.a}return c(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){this.getProcessList(),this.getAccessPermissions()}},{key:"getProcessList",value:function(){var e=this;this.processService.getAllProcessList("all",0).pipe(Object(b.a)(this.destroy$)).subscribe((function(t){t.success&&(e.processList=t.data),e.process=e.processList.map((function(e){return{name:e.name}}))}),(function(e){}))}},{key:"getAccessPermissions",value:function(){this.hiddenEdit=!this.processGuard.accessRights("edit"),this.hiddenDelete=!this.processGuard.accessRights("delete"),this.addButtonDisabled=!this.processGuard.accessRights("add")}},{key:"deleteProcess",value:function(e){var t=this;this.modalService.open(Be.a,{size:"sm"}).result.then((function(i){i&&t.processService.deleteProcess(e).pipe(Object(b.a)(t.destroy$)).subscribe((function(e){e.success?(t.toastr.success(e.msg),t.processList=null,t.getProcessList(),t.toastr.success(l.Delete)):t.toastr.success(e.msg)}),(function(e){t.toastr.success("Internal server error"),t.toastr.error(l.Serever_Error)}))}))}},{key:"open",value:function(){this.flag=!0;var e=this.modalService.open(Ee.a);e.componentInstance.headers=this.headers,e.componentInstance.list=this.process,e.componentInstance.moduleName=this.module}}]),e}(),Ye.\u0275fac=function(e){return new(e||Ye)(f.dc(T),f.dc(g.b),f.dc(v),f.dc(x.e),f.dc(p.a),f.dc(h.a),f.dc(ze.a))},Ye.\u0275cmp=f.Xb({type:Ye,selectors:[["ngx-process"]],decls:19,vars:5,consts:[[1,"row"],[1,"col-lg-12"],[1,"nb-style"],[1,"nb-header"],[1,"col-md-1","col-3","mobile-btn","desktop-btn"],["routerLink","add-dynamic-process",1,"btn","btn-primary","btn-md","btn-design",3,"disabled"],[1,"col-md-9","col-7"],[1,"nb-text"],[1,"col-md-2","col-2","mobile-btn","desktop-btn","dek-jus"],[1,"btn","btn-primary","btn-md","btn-design",3,"click"],[1,"material",3,"rows","ngClass","rowHeight","headerHeight"],["name","Actions","sortable","false"],["ngx-datatable-cell-template",""],["name","Name","props","name"],["status","primary","icon","edit",3,"options","routerLink","hidden"],["status","danger","icon","trash",3,"options","hidden","click"]],template:function(e,t){1&e&&(f.jc(0,"div",0),f.jc(1,"div",1),f.jc(2,"nb-card",2),f.jc(3,"nb-card-header",3),f.jc(4,"div",0),f.jc(5,"div",4),f.jc(6,"button",5),f.jd(7,"Add"),f.ic(),f.ic(),f.jc(8,"div",6),f.jc(9,"h2",7),f.jd(10,"Process"),f.ic(),f.ic(),f.jc(11,"div",8),f.jc(12,"button",9),f.uc("click",(function(){return t.open()})),f.jd(13,"EXPORT"),f.ic(),f.ic(),f.ic(),f.ic(),f.jc(14,"nb-card-body"),f.jc(15,"ngx-datatable",10),f.jc(16,"ngx-datatable-column",11),f.hd(17,Qe,2,13,"ng-template",12),f.ic(),f.ec(18,"ngx-datatable-column",13),f.ic(),f.ic(),f.ic(),f.ic(),f.ic()),2&e&&(f.Pb(6),f.Hc("disabled",t.addButtonDisabled),f.Pb(9),f.Hc("rows",t.processList)("ngClass",t.tablestyle)("rowHeight","auto")("headerHeight",31))},directives:[V.u,V.x,d.d,V.t,Je.e,a.l,Je.b,Je.a,V.I],styles:[""]}),Ye),canActivate:[v],canLoad:[v],data:{PermissionName:["view","view group","view all"]}},{path:"edit/:id",component:qe,canActivate:[v],canLoad:[v],data:{PermissionName:["edit","edit group","edit all"]}},{path:"add-dynamic-process",component:qe,canActivate:[v],canLoad:[v],data:{PermissionName:["add"]}}],nt=((et=function e(){i(this,e)}).\u0275mod=f.bc({type:et}),et.\u0275inj=f.ac({factory:function(e){return new(e||et)},providers:[v],imports:[[d.g.forChild(it)],d.g]}),et),ct=o("yzeJ"),ot=((tt=function e(){i(this,e)}).\u0275mod=f.bc({type:tt}),tt.\u0275inj=f.ac({factory:function(e){return new(e||tt)},imports:[[nt,a.c,ct.a,D.g]]}),tt)}}])}();