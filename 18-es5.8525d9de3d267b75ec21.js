!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1ygn":function(e,r,a){"use strict";a.r(r),a.d(r,"BatchShuffleModule",(function(){return z}));var c,o,s,n=a("ofXK"),l=a("tyNb"),h=a("1G5W"),u=a("XNiG"),d=a("5+WD"),f=a("3Pt+"),m=a("O1SP"),p=a("4/8P"),v=a("fXoL"),y=a("tk/3"),b=((o=function(){function e(i,r){t(this,e),this.httpClient=i,this.commonService=r}return i(e,[{key:"getBatchById",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/ByQualityAndPartyWithoutProductionPlan/"+t+"/"+e)}}]),e}()).\u0275fac=function(t){return new(t||o)(v.rc(y.b),v.rc(p.a))},o.\u0275prov=v.Zb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),g=((c=function(){function e(i,r){t(this,e),this.httpClient=i,this.commonService=r}return i(e,[{key:"getBatchById",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/"+t+"/"+e)}}]),e}()).\u0275fac=function(t){return new(t||c)(v.rc(y.b),v.rc(p.a))},c.\u0275prov=v.Zb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),j=a("8k+d"),P=a("PW/x"),k=a("RNo3"),B=((s=function(){function e(i,r){t(this,e),this.httpClient=i,this.commonService=r}return i(e,[{key:"updateBatchMerge",value:function(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch/MergeBatch",t)}},{key:"updateBatchSplit",value:function(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch/SplitBatch",t)}}]),e}()).\u0275fac=function(t){return new(t||s)(v.rc(y.b),v.rc(p.a))},s.\u0275prov=v.Zb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),F=a("SapW"),S=a("5eHb"),w=a("aceb"),I=a("ZOsW");function N(t,e){if(1&t&&(v.jc(0,"ng-option",63),v.jc(1,"div",0),v.jc(2,"div",13),v.jc(3,"div",14),v.jd(4),v.ic(),v.ic(),v.jc(5,"div",13),v.jc(6,"div",15),v.jd(7),v.ic(),v.ic(),v.ic(),v.ic()),2&t){var i=e.$implicit;v.Hc("value",i.id),v.Pb(4),v.ld(" ",i.partyName,""),v.Pb(3),v.ld(" ",i.partyCode,"")}}function C(t,e){1&t&&(v.jc(0,"div",64),v.jc(1,"span"),v.jd(2,"Party Name is required."),v.ic(),v.ic())}function x(t,e){if(1&t&&(v.jc(0,"ng-option",63),v.jc(1,"div",0),v.jc(2,"div",20),v.jc(3,"div",14),v.jd(4),v.ic(),v.ic(),v.jc(5,"div",20),v.jc(6,"div",21),v.jd(7),v.ic(),v.ic(),v.jc(8,"div",20),v.jc(9,"div",15),v.jd(10),v.ic(),v.ic(),v.ic(),v.ic()),2&t){var i=e.$implicit;v.Hc("value",i.id?i.id:i.qualityEntryId),v.Pb(4),v.kd(i.partyName),v.Pb(3),v.kd(i.qualityId),v.Pb(3),v.kd(i.qualityName)}}function q(t,e){1&t&&(v.jc(0,"div",64),v.jc(1,"span"),v.jd(2,"Quality Name is required."),v.ic(),v.ic())}function D(t,e){if(1&t&&(v.jc(0,"ng-option",65),v.jd(1),v.ic()),2&t){var i=e.$implicit;v.Hc("value",i)("disabled",i.productionPlanned),v.Pb(1),v.ld("",i.batchId," ")}}function L(t,e){if(1&t&&(v.jc(0,"ng-option",63),v.jd(1),v.ic()),2&t){var i=e.$implicit;v.Hc("value",i),v.Pb(1),v.ld("",i.batchId," ")}}function U(t,e){if(1&t&&(v.jc(0,"div",69),v.jd(1),v.ic()),2&t){var i=v.yc().$implicit;v.Pb(1),v.md(" Meter: ",i.mtr," Weight: ",i.wt," ")}}function O(t,e){if(1&t&&(v.jc(0,"div",70),v.jd(1),v.ic()),2&t){var i=v.yc().$implicit;v.Pb(1),v.md(" Meter: ",i.mtr," Weight: ",i.wt," ")}}function H(t,e){if(1&t&&(v.jc(0,"div",66),v.hd(1,U,2,2,"div",67),v.hd(2,O,2,2,"div",68),v.ic()),2&t){var i=e.$implicit,r=v.yc();v.Pb(1),v.Hc("ngIf",i.batchId==r.batchId2),v.Pb(1),v.Hc("ngIf",i.batchId!=r.batchId2)}}function Q(t,e){if(1&t&&(v.jc(0,"div",71),v.jd(1),v.ic()),2&t){var i=e.$implicit,r=v.yc();v.Hc("ngClass",i.batchId==r.batchId1?"batch-2":"example-box"),v.Pb(1),v.md(" Meter: ",i.mtr," Weight: ",i.wt," ")}}var A,V,M,$=function(t){return[t]},W=((A=function(){function e(i,r,a,c,o,s,n,l,h){t(this,e),this.partyService=i,this.shuffleService=r,this.qualityService=a,this.toastr=c,this.programService=o,this.formBuilder=s,this.batchByQualityPartyService=n,this.batchList=l,this.stockBatchService=h,this.flag=0,this.rval=1,this.btnFlag=0,this.setBatchFlag=0,this.formSubmitted=!1,this.part1=[],this.part2=[],this.updateFlag=0,this.qualityParty2=[],this.qualityPartyLeft=[],this.bId1=[],this.bId2=[],this.sum=0,this.batchDataList=[],this.mergeArray=[],this.objectOfBatch1={},this.objectOfBatch2={},this.destroy$=new u.a,this.shuffleForm=this.formBuilder.group({partyName:new f.c(null,f.v.required),qualityName:new f.c(null,f.v.required),batchName1:new f.c(null,f.v.required),batchName2:new f.c(null,f.v.required),totalmtr1:new f.c,totalmtr2:new f.c,totalwt1:new f.c,totalwt2:new f.c,updatedBy:new f.c(null),newBatchName:new f.c,totalrowsPart2:new f.c,totalrowsPart1:new f.c})}return i(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){this.flag=1,this.getPartyList(),this.getQualtiyList(),this.btnFlag=0,this.getCurrentBatchSequence()}},{key:"getCurrentBatchSequence",value:function(){var t=this;this.stockBatchService.getBatchSequence(!0).pipe(Object(h.a)(this.destroy$)).subscribe((function(e){e.success&&(t.currentBatchSequence=e.data.sequence,t.currentBatchSeqId=e.data.id,t.shuffleForm.controls.newBatchName.setValue(t.currentBatchSequence))}))}},{key:"hasDropDownError",value:function(){return this.shuffleForm.controls.partyName.invalid&&this.shuffleForm.controls.partyName.touched?(this.flag=1,!0):this.shuffleForm.controls.partyName.valid&&2==this.rval?(this.flag=0,!1):void 0}},{key:"hasDropDownError1",value:function(){return this.shuffleForm.controls.qualityName.invalid&&this.shuffleForm.controls.qualityName.touched?(this.flag=1,!0):this.shuffleForm.controls.qualityName.valid&&2==this.rval?(this.flag=0,!1):void 0}},{key:"getPartyList",value:function(){var t=this;this.partyService.getAllPartyNameList().pipe(Object(h.a)(this.destroy$)).subscribe((function(e){e.success&&(t.party=e.data)}))}},{key:"getQualtiyList",value:function(){var t=this;this.qualityService.getAllQualityWithNameOnly().pipe(Object(h.a)(this.destroy$)).subscribe((function(e){e.success&&(t.quality=e.data)}))}},{key:"dropSelectParty",value:function(t){var e=this;this.formSubmitted=!0,this.pId=this.shuffleForm.controls.partyName.value,null==t&&(this.shuffleForm.controls.batchName1.reset(),this.shuffleForm.controls.batchName2.reset(),this.batches=[],this.part1=[],this.part2=[],this.qualityParty=[],this.qualityParty2=[],this.qualityParty2[0]=[],this.quality=[],this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.shuffleForm.controls.qualityName.reset(),this.getQualtiyList(),this.getPartyList()),null!=this.pId&&this.qualityService.getQualityByParty(this.pId).pipe(Object(h.a)(this.destroy$)).subscribe((function(t){t.success?(e.shuffleForm.controls.qualityName.reset(),e.quality=t.data.qualityDataList,e.shuffleForm.controls.batchName1.reset(),e.shuffleForm.controls.batchName2.reset(),e.shuffleForm.controls.totalrowsPart1.reset(),e.shuffleForm.controls.totalrowsPart2.reset(),e.shuffleForm.controls.totalwt1.reset(),e.shuffleForm.controls.totalwt2.reset(),e.shuffleForm.controls.totalmtr1.reset(),e.shuffleForm.controls.totalmtr2.reset(),e.part2=[],e.qualityParty2=[],e.qualityParty2[0]=[],e.batches=[]):e.toastr.error(t.msg)}),(function(t){e.toastr.error(m.Serever_Error)})),this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.getVal()}},{key:"dropSelectQuality",value:function(t){var e,i=this;this.formSubmitted=!0,this.qId=this.shuffleForm.controls.qualityName.value,null==t&&(this.shuffleForm.controls.batchName1.reset(),this.shuffleForm.controls.batchName2.reset(),this.batches=[],this.part1=[],this.part2=[],this.qualityParty=[],this.qualityParty2=[],this.qualityParty2[0]=[],this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.getPartyList()),null!=this.qId&&this.programService.getPartyByQuality(this.qId).pipe(Object(h.a)(this.destroy$)).subscribe((function(t){t.success?(e=t.data.partyName,i.shuffleForm.controls.partyName.setValue(e),i.pId=t.data.partyId):i.toastr.error(t.msg)}),(function(t){i.toastr.error(m.Serever_Error)})),this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.getVal()}},{key:"onChange",value:function(t){switch(this.formSubmitted=!0,t){case 1:this.rval=1,this.flag=1,this.btnFlag=0,this.part2=[],this.qualityParty2=[],this.qualityParty2[0]=[],this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.getBatches(this.cId1,this.batchId1);break;case 2:this.rval=2,this.btnFlag=1,this.shuffleForm.controls.partyName.invalid&&this.shuffleForm.controls.qualityName.invalid?this.flag=1:(this.flag=0,this.shuffleForm.controls.batchName2.reset(),this.part2=[],this.qualityParty2[0]=[],this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.getVal(),this.getBatches(this.cId1,this.batchId1))}}},{key:"getQualityParty",value:function(){var t=this;this.batchByQualityPartyService.getBatchById(this.qId,this.pId).pipe(Object(h.a)(this.destroy$)).subscribe((function(e){e.success&&(t.qualityParty=e.data,t.shuffleForm.controls.batchName1.valid&&(t.index=t.qualityParty.findIndex((function(e){return e.batchId===t.bId1.batchId})),t.qualityParty2=[],t.qualityParty2.push(t.qualityParty),t.qualityParty2[0].splice(t.index,1)),t.shuffleForm.controls.batchName2.valid&&(t.index=t.qualityParty2.findIndex((function(e){return e.batchId===t.bId2.batchId})),t.qualityParty=[],t.qualityParty.push(t.qualityParty),t.qualityParty[0].splice(t.index,1)))}))}},{key:"getVal",value:function(){null==this.shuffleForm.controls.qualityName.value?this.toastr.error("Please select a Quality"):null==this.shuffleForm.controls.partyName.value?this.toastr.error("Please select a Party"):this.getQualityParty()}},{key:"findmtrsum",value:function(){for(this.sum=0,this.i=0;this.i<=this.batches.length-1;this.i++)this.sum+=this.batches[this.i].mtr,this.shuffleForm.patchValue({totalmtr1:this.sum.toFixed(2)});for(0==this.batches.length&&this.shuffleForm.patchValue({totalmtr1:this.sum.toFixed(2)}),this.sum=0,this.i=0;this.i<=this.part2.length-1;this.i++)this.sum+=this.part2[this.i].mtr,this.shuffleForm.patchValue({totalmtr2:this.sum.toFixed(2)});0==this.part2.length&&this.shuffleForm.patchValue({totalmtr2:this.sum.toFixed(2)})}},{key:"findwtsum",value:function(){for(this.sum=0,this.i=0;this.i<=this.batches.length-1;this.i++)this.sum+=this.batches[this.i].wt,this.shuffleForm.patchValue({totalwt1:this.sum.toFixed(2)});for(0==this.batches.length&&this.shuffleForm.patchValue({totalwt1:this.sum.toFixed(2)}),this.sum=0,this.i=0;this.i<=this.part2.length-1;this.i++)this.sum+=this.part2[this.i].wt,this.shuffleForm.patchValue({totalwt2:this.sum.toFixed(2)});0==this.part2.length&&this.shuffleForm.patchValue({totalwt2:this.sum.toFixed(2)})}},{key:"temp",value:function(){this.bId1=this.shuffleForm.controls.batchName1.value,null==this.shuffleForm.controls.batchName1.value&&(this.shuffleForm.controls.batchName2.reset(),this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.part2=[],this.qualityParty2=[],this.batches=[]),this.cId1=this.bId1.controlId,this.batchId1=this.bId1.batchId,this.getBatches(this.cId1,this.batchId1),this.shuffleForm.controls.batchName2.valid?this.getBatches1(this.cId2,this.batchId2):(this.part2=[],this.qualityParty2=[],this.qualityParty2[0]=[])}},{key:"temp1",value:function(){this.bId2=this.shuffleForm.controls.batchName2.value,null==this.shuffleForm.controls.batchName2.value&&(this.part2=[],this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr2.reset()),this.cId2=this.bId2.controlId,this.batchId2=this.bId2.batchId,this.getBatches(this.cId1,this.batchId1),this.getBatches1(this.cId2,this.batchId2)}},{key:"getBatches",value:function(t,e){var i=this;this.shuffleForm.controls.batchName1.valid&&1==this.rval?this.batchList.getBatchById(t,e).pipe(Object(h.a)(this.destroy$)).subscribe((function(t){t.success&&(i.batches=t.data,i.findmtrsum(),i.findwtsum(),i.shuffleForm.controls.totalrowsPart1.setValue(i.batches.length),i.shuffleForm.controls.totalrowsPart2.setValue(i.part2.length)),i.setBatchFlag=1})):2==this.rval&&this.shuffleForm.controls.batchName1.valid&&(this.setBatchFlag=1,this.batchList.getBatchById(t,e).pipe(Object(h.a)(this.destroy$)).subscribe((function(t){t.success&&(i.batches=t.data,i.findmtrsum(),i.findwtsum(),i.shuffleForm.controls.totalrowsPart1.setValue(i.batches.length),i.shuffleForm.controls.totalrowsPart2.setValue(i.part2.length))})))}},{key:"getBatches1",value:function(t,e){var i=this;this.shuffleForm.controls.batchName1.valid&&1==this.rval?this.batchList.getBatchById(t,e).pipe(Object(h.a)(this.destroy$)).subscribe((function(t){t.success&&(i.batches=t.data,i.findmtrsum(),i.findwtsum(),i.shuffleForm.controls.totalrowsPart1.setValue(i.batches.length),i.shuffleForm.controls.totalrowsPart2.setValue(i.part2.length)),i.setBatchFlag=1})):2==this.rval&&this.shuffleForm.controls.batchName2.valid&&this.batchList.getBatchById(t,e).pipe(Object(h.a)(this.destroy$)).subscribe((function(t){t.success&&(i.part2=t.data,i.findmtrsum(),i.findwtsum(),i.shuffleForm.controls.totalrowsPart1.setValue(i.batches.length),i.shuffleForm.controls.totalrowsPart2.setValue(i.part2.length))}),(function(t){}))}},{key:"drop",value:function(t){t.previousContainer===t.container?Object(d.d)(t.container.data,t.previousIndex,t.currentIndex):Object(d.e)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.updateFlag=1,this.findmtrsum(),this.findwtsum(),this.shuffleForm.controls.totalrowsPart1.setValue(this.batches.length),this.shuffleForm.controls.totalrowsPart2.setValue(this.part2.length)}},{key:"splitsubmit",value:function(){var t=this;if(0==this.part2.length||0==this.batches.length)this.toastr.error("No batch was splitted");else if(this.formSubmitted=!0,null==this.shuffleForm.controls.newBatchName.value)this.toastr.error("please enter New Batch name");else{var e=this.shuffleForm.controls.newBatchName.value;this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.shuffleForm.controls.batchName1.valid?(this.objectOfBatch1={batchDataList:this.batches,batchId:this.batchId1,controlId:this.cId1,isSplit:!1},this.objectOfBatch2={batchDataList:this.part2,batchId:e,controlId:this.cId1,isSplit:!0},this.mergeArray.push(this.objectOfBatch1),this.mergeArray.push(this.objectOfBatch2),this.shuffleService.updateBatchSplit(this.mergeArray).pipe(Object(h.a)(this.destroy$)).subscribe((function(e){e.success?(t.reset(),t.getCurrentBatchSequence(),t.toastr.success(m.Update_Success)):(t.mergeArray=[],t.toastr.error(e.msg),t.toastr.error(m.Update_Error))}),(function(e){t.mergeArray=[],t.toastr.error(m.Serever_Error)}))):this.toastr.error("Please fill all the required fields")}}},{key:"reset",value:function(){this.shuffleForm.controls.batchName1.reset(),this.shuffleForm.controls.partyName.reset(),this.shuffleForm.controls.qualityName.reset(),this.shuffleForm.controls.batchName2.reset(),this.shuffleForm.controls.totalrowsPart1.reset(),this.shuffleForm.controls.totalrowsPart2.reset(),this.shuffleForm.controls.totalwt1.reset(),this.shuffleForm.controls.totalwt2.reset(),this.shuffleForm.controls.totalmtr1.reset(),this.shuffleForm.controls.totalmtr2.reset(),this.part2=[],this.qualityParty2=[],this.batches=[]}},{key:"mergesubmit",value:function(){var t=this;0==this.updateFlag?this.toastr.error("No batch was choosen to merge"):this.shuffleForm.controls.batchName1.value==this.shuffleForm.controls.batchName2.value?this.toastr.error("Cannot merge same batch"):(this.formSubmitted=!0,this.shuffleForm.controls.partyName.valid&&this.shuffleForm.controls.qualityName.valid&&this.shuffleForm.controls.batchName1.valid&&this.shuffleForm.controls.batchName2.valid?(this.objectOfBatch1={batchDataList:this.batches,batchId:this.batchId1,controlId:this.cId1},this.objectOfBatch2={batchDataList:this.part2,batchId:this.batchId2,controlId:this.cId2},this.mergeArray.push(this.objectOfBatch1),this.mergeArray.push(this.objectOfBatch2),this.shuffleService.updateBatchMerge(this.mergeArray).pipe(Object(h.a)(this.destroy$)).subscribe((function(e){e.success?(location.reload(),t.toastr.success(m.Update_Success)):(t.mergeArray=[],t.toastr.error(m.Update_Error))}),(function(e){t.mergeArray=[],t.toastr.error(m.Serever_Error)}))):this.toastr.error("Please fill all the required fields"))}}]),e}()).\u0275fac=function(t){return new(t||A)(v.dc(j.a),v.dc(B),v.dc(k.a),v.dc(S.b),v.dc(P.a),v.dc(f.b),v.dc(b),v.dc(g),v.dc(F.a))},A.\u0275cmp=v.Xb({type:A,selectors:[["ngx-shuffle"]],decls:131,vars:31,consts:[[1,"row"],[1,"col-md-12"],[1,"nb-style"],[1,"nb-header"],[1,"col-md-6"],[1,"nb-text"],[3,"formGroup"],["myForm",""],[1,"col-md-4"],[1,"form-group"],[1,"required"],["name","partyId","formControlName","partyName","placeholder","Party Name\n                ",1,"dropdown-name",3,"change"],["disabled","true"],[1,"col-md-6","col-6"],[1,"text-left","txt-ov-elips"],[1,"text-right","txt-ov-elips"],[3,"value",4,"ngFor","ngForOf"],["class","input-required",4,"ngIf"],[1,"col-md-5"],["name","qualityId","formControlName","qualityName","placeholder","Quality Name",1,"dropdown-name",3,"change"],[1,"col-md-4","col-4"],[1,"text-center","txt-ov-elips"],[1,"col-md-3"],[1,"form-group","mr-0","h-100","mobile-pd"],[1,"split-merged","h-100"],["checked","true",3,"value","valueChange"],[3,"value","valueChange"],[3,"hidden"],["name","batchId","formControlName","batchName1","placeholder","Batch Name",3,"click","change"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"col-md-6",3,"hidden"],["name","batchId","formControlName","batchName2",3,"change"],[1,"batch-shuffle"],[1,"col-md-6","col-12"],[1,"example-container"],[1,"batch-text"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["part1List","cdkDropList"],[1,"col-md-12","col-12"],["cdkDrag","",4,"ngFor","ngForOf"],[1,"container"],["type","text","formControlName","totalrowsPart1",1,"total-rows",3,"readonly"],[1,"t-12"],["cdkDropList","","cdkDrop","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["part2List","cdkDropList"],["cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-md-7","col-7"],["type","text","formControlName","totalrowsPart2",1,"total-rows",3,"readonly"],[1,"col-md-5","col-5","jus-con-center"],[1,"mtr-wei","enter-batch-id-2",3,"hidden"],[1,"col-md-3","col-3"],[1,"total-shuffle"],[1,"col-md-9","col-9"],[1,"batch-1-input"],[1,"text-batch-mtr"],["type","text","placeholder","Mtr.","formControlName","totalmtr1",1,"mtr-wei",3,"readonly"],["type","text","placeholder","Wt.","formControlName","totalwt1",1,"mtr-wei",3,"readonly"],[1,"col-md-9"],[1,"batch-2-input"],["type","text","placeholder","Mtr.","formControlName","totalmtr2",1,"mtr-wei",3,"readonly"],["type","text","placeholder","Wt.","formControlName","totalwt2",1,"mtr-wei",3,"readonly"],[1,"btn-split-merge"],[1,"btn","btn-primary","btn-sm","btn-design-save",3,"hidden","click"],[3,"value"],[1,"input-required"],[3,"value","disabled"],["cdkDrag",""],["class","batch-2",4,"ngIf"],["class","example-box",4,"ngIf"],[1,"batch-2"],[1,"example-box"],["cdkDrag","",3,"ngClass"]],template:function(t,e){if(1&t&&(v.jc(0,"div",0),v.jc(1,"div",1),v.jc(2,"nb-card",2),v.jc(3,"nb-card-header",3),v.jc(4,"div",0),v.jc(5,"div",4),v.jc(6,"h2",5),v.jd(7,"Batch-Shuffle"),v.ic(),v.ic(),v.ic(),v.ic(),v.jc(8,"nb-card-body"),v.jc(9,"form",6,7),v.jc(11,"div",0),v.jc(12,"div",8),v.jc(13,"div",9),v.jc(14,"label",10),v.jd(15,"Party Name:"),v.ic(),v.jc(16,"ng-select",11),v.uc("change",(function(t){return e.dropSelectParty(t)})),v.jc(17,"ng-option",12),v.jc(18,"div",0),v.jc(19,"div",13),v.jc(20,"div",14),v.jd(21,"Party Name "),v.ic(),v.ic(),v.jc(22,"div",13),v.jc(23,"div",15),v.jd(24," Party Code"),v.ic(),v.ic(),v.ic(),v.ic(),v.hd(25,N,8,3,"ng-option",16),v.ic(),v.hd(26,C,3,0,"div",17),v.ic(),v.ic(),v.jc(27,"div",18),v.jc(28,"div",9),v.jc(29,"label",10),v.jd(30,"Quality Name:"),v.ic(),v.jc(31,"ng-select",19),v.uc("change",(function(t){return e.dropSelectQuality(t)})),v.jc(32,"ng-option",12),v.jc(33,"div",0),v.jc(34,"div",20),v.jc(35,"div",14),v.jd(36,"Party Name"),v.ic(),v.ic(),v.jc(37,"div",20),v.jc(38,"div",21),v.jd(39,"Quality Id"),v.ic(),v.ic(),v.jc(40,"div",20),v.jc(41,"div",15),v.jd(42,"Quality Name"),v.ic(),v.ic(),v.ic(),v.ic(),v.hd(43,x,11,4,"ng-option",16),v.ic(),v.hd(44,q,3,0,"div",17),v.ic(),v.ic(),v.jc(45,"div",22),v.jc(46,"div",23),v.jc(47,"nb-radio-group",24),v.jc(48,"nb-radio",25),v.uc("valueChange",(function(t){return e.onChange(t)})),v.jd(49,"Split "),v.ic(),v.jc(50,"nb-radio",26),v.uc("valueChange",(function(t){return e.onChange(t)})),v.jd(51,"Merge"),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.jc(52,"div",0),v.jc(53,"div",8),v.jc(54,"div",9),v.jc(55,"label",10),v.jc(56,"span",27),v.jd(57," First "),v.ic(),v.jd(58,"Batch Name:"),v.ic(),v.jc(59,"ng-select",28),v.uc("click",(function(){return e.getVal()}))("change",(function(){return e.temp()})),v.hd(60,D,2,3,"ng-option",29),v.ic(),v.ic(),v.ic(),v.jc(61,"div",30),v.jc(62,"div",9),v.jc(63,"label",10),v.jd(64,"Second Batch Name:"),v.ic(),v.jc(65,"ng-select",31),v.uc("change",(function(){return e.temp1()})),v.hd(66,L,2,2,"ng-option",16),v.ic(),v.ic(),v.ic(),v.ic(),v.jc(67,"div",32),v.jc(68,"div",0),v.jc(69,"div",33),v.jc(70,"div",34),v.jc(71,"h2",35),v.jd(72,"Batch Part 1"),v.ic(),v.jc(73,"div",36,37),v.uc("cdkDropListDropped",(function(t){return e.drop(t)})),v.jc(75,"div",0),v.jc(76,"div",38),v.hd(77,H,3,2,"div",39),v.ic(),v.ic(),v.ic(),v.jc(78,"div",40),v.jc(79,"div",0),v.jc(80,"div",1),v.ec(81,"input",41),v.jc(82,"span",42),v.jd(83,"Total"),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.jc(84,"div",33),v.jc(85,"div",34),v.jc(86,"h2",35),v.jd(87,"Batch Part 2"),v.ic(),v.jc(88,"div",43,44),v.uc("cdkDropListDropped",(function(t){return e.drop(t)})),v.hd(90,Q,2,3,"div",45),v.ic(),v.jc(91,"div",40),v.jc(92,"div",0),v.jc(93,"div",46),v.ec(94,"input",47),v.jc(95,"span",42),v.jd(96,"Total"),v.ic(),v.ic(),v.jc(97,"div",48),v.jc(98,"label",49),v.jd(99),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.jc(100,"div",0),v.jc(101,"div",4),v.jc(102,"div",0),v.jc(103,"div",50),v.jc(104,"div",51),v.jc(105,"label"),v.jd(106,"Total"),v.ic(),v.ic(),v.ic(),v.jc(107,"div",52),v.jc(108,"div",53),v.jc(109,"span",54),v.jd(110,"Mtr."),v.ic(),v.ec(111,"input",55),v.jc(112,"span",54),v.jd(113,"Wt."),v.ic(),v.ec(114,"input",56),v.ic(),v.ic(),v.ic(),v.ic(),v.jc(115,"div",4),v.jc(116,"div",0),v.jc(117,"div",57),v.jc(118,"div",58),v.jc(119,"span",54),v.jd(120,"Mtr."),v.ic(),v.ec(121,"input",59),v.jc(122,"span",54),v.jd(123,"Wt."),v.ic(),v.ec(124,"input",60),v.ic(),v.ic(),v.jc(125,"div",22),v.jc(126,"div",61),v.jc(127,"button",62),v.uc("click",(function(){return e.splitsubmit()})),v.jd(128,"Split"),v.ic(),v.jc(129,"button",62),v.uc("click",(function(){return e.mergesubmit()})),v.jd(130,"Merge"),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic(),v.ic()),2&t){var i=v.Uc(74),r=v.Uc(89);v.Pb(9),v.Hc("formGroup",e.shuffleForm),v.Pb(16),v.Hc("ngForOf",e.party),v.Pb(1),v.Hc("ngIf",e.formSubmitted&&e.hasDropDownError()),v.Pb(17),v.Hc("ngForOf",e.quality),v.Pb(1),v.Hc("ngIf",e.formSubmitted&&e.hasDropDownError1()),v.Pb(4),v.Hc("value",1),v.Pb(2),v.Hc("value",2),v.Pb(6),v.Hc("hidden",e.flag),v.Pb(4),v.Hc("ngForOf",e.qualityParty),v.Pb(1),v.Hc("hidden",e.flag),v.Pb(5),v.Hc("ngForOf",e.qualityParty2[0]),v.Pb(7),v.Hc("cdkDropListData",e.batches)("cdkDropListConnectedTo",v.Nc(27,$,r)),v.Pb(4),v.Hc("ngForOf",e.batches),v.Pb(4),v.Hc("readonly",!0),v.Pb(7),v.Hc("cdkDropListData",e.part2)("cdkDropListConnectedTo",v.Nc(29,$,i)),v.Pb(2),v.Hc("ngForOf",e.part2),v.Pb(4),v.Hc("readonly",!0),v.Pb(4),v.Hc("hidden",e.btnFlag),v.Pb(1),v.ld("Batch Id : ",e.currentBatchSequence,""),v.Pb(12),v.Hc("readonly",!0),v.Pb(3),v.Hc("readonly",!0),v.Pb(7),v.Hc("readonly",!0),v.Pb(3),v.Hc("readonly",!0),v.Pb(3),v.Hc("hidden",e.btnFlag),v.Pb(2),v.Hc("hidden",!e.btnFlag)}},directives:[w.u,w.x,w.t,f.x,f.m,f.f,I.a,f.l,f.d,I.c,n.m,n.n,w.eb,w.db,d.b,f.a,d.a,n.l],styles:[".example-container[_ngcontent-%COMP%]{width:100%;padding:0 50px}.example-list[_ngcontent-%COMP%]{border:3px solid #a03636;min-height:60px;background:#fff;border-radius:0 0 20px 20px;overflow:hidden;display:block;border-top:0;padding:0 10px}.batch-2[_ngcontent-%COMP%]{margin:12px;text-align:center;padding:7px 15px;border:1px solid #5e5b5e;background:#06c;color:#fff;border-radius:20px;box-sizing:border-box;cursor:move;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),A),_=[{path:"",component:W},{path:"shuffle",component:W}],E=((V=function e(){t(this,e)}).\u0275mod=v.bc({type:V}),V.\u0275inj=v.ac({factory:function(t){return new(t||V)},imports:[[l.g.forChild(_)],l.g]}),V),T=a("yzeJ"),R=a("vTDv"),z=((M=function e(){t(this,e)}).\u0275mod=v.bc({type:M}),M.\u0275inj=v.ac({factory:function(t){return new(t||M)},imports:[[n.c,E,T.a,f.g,R.a,w.y,d.c,f.s]]}),M)},"PW/x":function(e,r,a){"use strict";a.d(r,"a",(function(){return n}));var c=a("4/8P"),o=a("fXoL"),s=a("tk/3"),n=function(){var e=function(){function e(i,r){t(this,e),this.httpClient=i,this.commonService=r}return i(e,[{key:"getProgramList",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/program/all/"+e+"/"+t)}},{key:"getAllMasters",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/userHead")}},{key:"deleteProgramDetailsById",value:function(t){return this.httpClient.delete(this.commonService.envUrl()+"api/program/"+t)}},{key:"saveProgram",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/program",t)}},{key:"updateProgram",value:function(t){return this.httpClient.put(this.commonService.envUrl()+"api/program",t)}},{key:"getProgramDetailsById",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/program/"+t)}},{key:"getShadeDetail",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/program/PartyShadeDetailPartyWise")}},{key:"getBatchDetailByQualityId",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/program/BatchData/"+t)}},{key:"getStockQualityList",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/program/StockQuality/"+t)}},{key:"getQualityByParty",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/Quality/ByParty/"+t)}},{key:"getPartyByQuality",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/party/ByQuality/"+t)}},{key:"getAllStock",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/all/all/0")}},{key:"getAllStockWithourProductionPlan",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/getAllStockWithoutPlan")}},{key:"getAllBatch",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/all")}},{key:"getBatchByParty",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batchListByPartyWithoutProductionPlan/"+t)}},{key:"getBatchByQuality",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batchListByQualityWithoutProductionPlan/"+t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.rc(s.b),o.rc(c.a))},e.\u0275prov=o.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},SapW:function(e,r,a){"use strict";a.d(r,"a",(function(){return n}));var c=a("4/8P"),o=a("fXoL"),s=a("tk/3"),n=function(){var e=function(){function e(i,r){t(this,e),this.httpClient=i,this.commonService=r}return i(e,[{key:"isBatchIdExists",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/isBatchExists/"+t+"/"+e)}},{key:"isPchallanExists",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/exist/pchallan?partyId=".concat(t,"&pchallanRef=").concat(e))}},{key:"addPchallan",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/add/pchallan",t)}},{key:"updatePchallan",value:function(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch/update/pchallan",t)}},{key:"deleteStockBatchById",value:function(t){return this.httpClient.delete(this.commonService.envUrl()+"api/stockBatch/"+t)}},{key:"getAllStockBatchList",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/all/"+e+"/"+t)}},{key:"getAllStockBatchList1",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/allpaginated",t)}},{key:"getAvailableStockBatchList",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/pending/all/"+e+"/"+t)}},{key:"getShortStockReport",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/dispatch/report/forConslidateBill",t)}},{key:"getDetailedStockReport",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/dispatch/filter/getBill",t)}},{key:"addStockBatch",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch",t)}},{key:"updateStockBatch",value:function(t){return this.httpClient.put(this.commonService.envUrl()+"api/stockBatch",t)}},{key:"getStockBatchById",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/"+t)}},{key:"getAllBatch",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/all")}},{key:"getBatchById",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/ByQualityAndParty/"+e+"/"+t)}},{key:"getAllBatchForAdditionSlip",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/forAdditionalSlip")}},{key:"getJobCardData",value:function(t){return this.httpClient.get("".concat(this.commonService.envUrl(),"api/stockBatch/get/getJobCardBy?batchId=").concat(t))}},{key:"getBatchSequence",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/admin/get/batchSequence?update="+t)}},{key:"updateBatchSequence",value:function(t){return this.httpClient.put(this.commonService.envUrl()+"api/admin/update/batchSequence/",t)}},{key:"getBatchesByPartyQuality",value:function(t,e){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/ByQualityAndPartyWithProductionPlan/"+t+"/"+e)}},{key:"getBatchGRById",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/batch/"+t+"/"+t)}},{key:"returnLotPost",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/add/returnBatch",t)}},{key:"returnLotgetById",value:function(t){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/get/returnBatch?chlNo="+t)}},{key:"returnLotgetAll",value:function(){return this.httpClient.get(this.commonService.envUrl()+"api/stockBatch/all/returnBatch")}},{key:"returnLotgetAllPaginated",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/all/returnBatch/allPaginated",t)}},{key:"getConslidateBatchResponse",value:function(t){return this.httpClient.post(this.commonService.envUrl()+"api/stockBatch/pending/forConslidateBatchResponse",t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.rc(s.b),o.rc(c.a))},e.\u0275prov=o.Zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();