!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,i){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,s,r=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(r.push(n.value),!i||r.length!==i);a=!0);}catch(d){c=!0,s=d}finally{try{a||null==t.return||t.return()}finally{if(c)throw s}}return r}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,i){if(e){if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,i):void 0}}function t(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}function n(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}function r(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{bkV9:function(t,n,a){"use strict";a.r(n),a.d(n,"UserModule",(function(){return fe}));var c=a("ofXK"),d=a("tyNb"),o=a("LymA"),l=a("mrSG"),u=a("1G5W"),h=a("XNiG"),m=a("aceb"),g=a("O1SP"),p=function e(){r(this,e),this.departmentId=null,this.userHeadId=0,this.isMaster=!0},b=function e(){r(this,e),this.module=null,this.view=!1,this.add=!1,this.edit=!1,this.delete=!1,this.viewGroup=!1,this.editGroup=!1,this.deleteGroup=!1,this.viewAll=!1,this.editAll=!1,this.deleteAll=!1,this.selectAll=!1},f=a("4/8P"),v=a("+TCe"),y=a("kScs"),A=a("8k+d"),j=a("fXoL"),k=a("5eHb"),P=a("ZOsW"),w=a("3Pt+"),I=a("14xf");function S(e,i){1&e&&(j.jc(0,"div"),j.jc(1,"h2",34),j.jd(2,"Add User"),j.ic(),j.ic())}function C(e,i){1&e&&(j.jc(0,"h2",34),j.jd(1,"Update User"),j.ic())}function M(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"First name is required."),j.ic(),j.ic())}function H(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"Last name is required."),j.ic(),j.ic())}function x(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"User Name is already Exist "),j.ic(),j.ic())}function U(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"User name is required."),j.ic(),j.ic())}function D(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"Enter valid email."),j.ic(),j.ic())}function N(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"Enter valid 10 digit number"),j.ic(),j.ic())}function E(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"Password is required."),j.ic(),j.ic())}var F=function(e){return{"is-invalid":e}};function G(e,i){if(1&e){var t=j.kc();j.jc(0,"div",11),j.jc(1,"div",12),j.jc(2,"label",13),j.jd(3,"Password"),j.ic(),j.jc(4,"input",48,49),j.uc("ngModelChange",(function(e){return j.Xc(t),j.yc().user.password=e})),j.ic(),j.hd(6,E,3,0,"div",16),j.ic(),j.ic()}if(2&e){var n=j.Uc(5),s=j.yc();j.Pb(4),j.Hc("ngModel",s.user.password)("ngClass",j.Nc(3,F,n.invalid&&(s.formSubmitted||n.touched))),j.Pb(2),j.Hc("ngIf",n.invalid&&(s.formSubmitted||n.touched))}}function L(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"Company is required."),j.ic(),j.ic())}function O(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"Department is required."),j.ic(),j.ic())}function R(e,i){if(1&e&&(j.jc(0,"ng-option",50),j.jd(1),j.ic()),2&e){var t=i.$implicit;j.Hc("value",t.id),j.Pb(1),j.ld("",t.designation," ")}}function $(e,i){1&e&&(j.jc(0,"div",47),j.jc(1,"span"),j.jd(2,"Designation is required."),j.ic(),j.ic())}function T(e,i){if(1&e){var t=j.kc();j.jc(0,"div",11),j.jc(1,"div",12),j.jc(2,"nb-checkbox",51),j.uc("ngModelChange",(function(e){return j.Xc(t),j.yc().isChangePass=e})),j.jd(3,"Change Password "),j.ic(),j.ic(),j.ic()}if(2&e){var n=j.yc();j.Pb(2),j.Hc("checked",!1)("ngModel",n.isChangePass)}}function V(e,i){if(1&e&&(j.jc(0,"th"),j.jd(1),j.ic()),2&e){var t=i.$implicit;j.Pb(1),j.kd(t)}}function X(e,i){if(1&e){var t=j.kc();j.jc(0,"tr",38),j.jc(1,"td"),j.jd(2),j.ic(),j.jc(3,"td"),j.jc(4,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.selectAll=e}))("change",(function(e){j.Xc(t);var n=i.$implicit;return j.yc().checkUncheckAll(n.module,e)})),j.ic(),j.ic(),j.jc(5,"td"),j.jc(6,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.view=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.view,n,"view")})),j.ic(),j.ic(),j.jc(7,"td"),j.jc(8,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.add=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.add,n,"add")})),j.ic(),j.ic(),j.jc(9,"td"),j.jc(10,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.edit=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.edit,n,"edit")})),j.ic(),j.ic(),j.jc(11,"td"),j.jc(12,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.delete=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.delete,n,"delete")})),j.ic(),j.ic(),j.jc(13,"td"),j.jc(14,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.viewGroup=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.viewGroup,n,"viewGroup")})),j.ic(),j.ic(),j.jc(15,"td"),j.jc(16,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.editGroup=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.editGroup,n,"editGroup")})),j.ic(),j.ic(),j.jc(17,"td"),j.jc(18,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.deleteGroup=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.deleteGroup,n,"deleteGroup")})),j.ic(),j.ic(),j.jc(19,"td"),j.jc(20,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.viewAll=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.viewAll,n,"viewAll")})),j.ic(),j.ic(),j.jc(21,"td"),j.jc(22,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.editAll=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.editAll,n,"editAll")})),j.ic(),j.ic(),j.jc(23,"td"),j.jc(24,"nb-checkbox",52),j.uc("ngModelChange",(function(e){return j.Xc(t),i.$implicit.deleteAll=e}))("change",(function(){j.Xc(t);var e=i.$implicit,n=i.index;return j.yc().checkUncheckSelectAll(e.deleteAll,n,"deleteAll")})),j.ic(),j.ic(),j.ic()}if(2&e){var n=i.$implicit;j.Pb(2),j.kd(n.module),j.Pb(2),j.Hc("ngModel",n.selectAll)("name",n.module+"selectAll"),j.Pb(2),j.Hc("ngModel",n.view)("name",n.module+"view"),j.Pb(2),j.Hc("ngModel",n.add)("name",n.module+"add"),j.Pb(2),j.Hc("ngModel",n.edit)("name",n.module+"edit"),j.Pb(2),j.Hc("ngModel",n.delete)("name",n.module+"delete"),j.Pb(2),j.Hc("ngModel",n.viewGroup)("name",n.module+"viewGroup"),j.Pb(2),j.Hc("ngModel",n.editGroup)("name",n.module+"editGroup"),j.Pb(2),j.Hc("ngModel",n.deleteGroup)("name",n.module+"deleteGroup"),j.Pb(2),j.Hc("ngModel",n.viewAll)("name",n.module+"viewAll"),j.Pb(2),j.Hc("ngModel",n.editAll)("name",n.module+"editAll"),j.Pb(2),j.Hc("ngModel",n.deleteAll)("name",n.module+"deleteAll")}}function B(e,i){if(1&e){var t=j.kc();j.jc(0,"button",53),j.uc("click",(function(){j.Xc(t);var e=j.yc(),i=j.Uc(15);return e.reset(i)})),j.jd(1,"CANCEL"),j.ic()}}var q=function(){return["/pages/user/view"]};function z(e,i){1&e&&(j.jc(0,"button",54),j.jd(1,"CANCEL"),j.ic()),2&e&&j.Hc("routerLink",j.Mc(1,q))}function _(e,i){if(1&e){var t=j.kc();j.jc(0,"button",55),j.uc("click",(function(){j.Xc(t);var e=j.yc(),i=j.Uc(15);return e.updateUser(i)})),j.jd(1,"Update"),j.ic()}if(2&e){var n=j.yc();j.Hc("disabled",n.disableButton)}}function J(e,i){if(1&e){var t=j.kc();j.jc(0,"button",56),j.uc("click",(function(){j.Xc(t);var e=j.yc(),i=j.Uc(15);return e.addUser(i)})),j.jd(1,"SAVE"),j.ic()}if(2&e){var n=j.yc();j.Hc("disabled",n.disableButton)}}var W,Q=((W=function(){function i(e,t,n,s,a,c,d,o){r(this,i),this.route=e,this._route=t,this.userService=n,this.vcRef=s,this.toastr=a,this.commonService=c,this.renderer=d,this.partyService=o,this.errorData=g,this.loading=!1,this.disableButton=!1,this.destroyByClick=!0,this.duration=2e3,this.hasIcon=!0,this.position=m.H.TOP_RIGHT,this.preventDuplicates=!1,this.adminFlag=!1,this.masterFlag=!1,this.operatorFlag=!1,this.user=new p,this.desi_list=[],this.permissions=new b,this.permissionArray=[],this.companyList=[],this.departmentList=[],this.master=[],this.isChangePass=!1,this.dataEntryFlag=!1,this.formSubmitted=!1,this.forms=["Party","Quality","User","Stock-Batch","Shade","Supplier","Supplier Rate","Color Stock","Dyeing Process","Production Planning","Jet Planning","Payment","Invoice","Finished Meter","Input Data","Dyeing Slip","Employee Registration","Attendance","Purchase","Merge-Batch","Report","Task"],this.userHeadList=[],this.perName=["View","Add","Edit","Delete","View Group","Edit Group","Delete Group","View All","Edit All","Delete All"],this.perName1=["view","add","edit","delete","viewGroup","editGroup","deleteGroup","viewAll","editAll","deleteAll"],this.binArr1={pa:"",qu:"",u:"",sb:"",sh:"",su:"",sr:"",cs:"",pr:"",pp:"",jp:"",pt:"",d:"",bf:"",ip:"",ds:"",emp:"",attnds:"",po:"",mg:"",rpt:"",tt:""},this.checkArray=[],this.data=[],this.decimal=[],this.isLoggedInAsMaster=!1,this.disableViewDependentPermission=!1,this.disableViewGroupDependentPermission=!1,this.disableViewAllDependentPermission=!1,this.userNameExist=!1,this.isHeadAvailable=!1,this.destroy$=new h.a}return s(i,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.user=new p,this.currentUserId=this._route.snapshot.paramMap.get("id"),this.userId=this.commonService.getUser(),this.userHead=this.commonService.getUserHeadId(),this.userId.userId==this.userHead.userHeadId&&(this.isLoggedInAsMaster=!0),this.getDesignation(),this.getAllCompany(),this.getAllDepartment(),this.getUserHeadList(),this.createPermission(),this.currentUserId?this.getCurrentUser():this.user.isUserHead=!1;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getDesignation",value:function(){var e=this;this.loading=!0,this.userService.getDesignation().pipe(Object(u.a)(this.destroy$)).subscribe((function(i){i.success?(e.designationList=i.data,e.userHead.userHeadId&&(e.designationList=e.designationList.filter((function(e){return e.designation&&"team head"!=e.designation.toLowerCase()}))),e.loading=!1):e.loading=!1}),(function(i){e.loading=!1}))}},{key:"getAllCompany",value:function(){var e=this;this.userService.getAllCompanyData().pipe(Object(u.a)(this.destroy$)).subscribe((function(i){i.success&&(e.companyList=i.data)}),(function(e){}))}},{key:"getAllDepartment",value:function(){var e=this;this.userService.getAllDepartmentData().pipe(Object(u.a)(this.destroy$)).subscribe((function(i){i.success&&(e.departmentList=i.data)}),(function(e){}))}},{key:"getUserHeadList",value:function(){var e=this;this.userHeadList=[],this.userService.getAllHead().pipe(Object(u.a)(this.destroy$)).subscribe((function(i){i.success?(e.userHeadList=i.data?i.data:[],e.loading=!1):e.loading=!1}),(function(i){e.loading=!1}))}},{key:"checkUserName",value:function(){var e=this;this.userNameExist=!1;var i=0;this.user.id&&(i=this.user.id),this.userService.checkUserNameExist(this.user.userName,i).pipe(Object(u.a)(this.destroy$)).subscribe((function(i){e.userNameExist=i.data}),(function(e){}))}},{key:"createPermission",value:function(){this.permissionArray=[];for(var e=0;e<this.forms.length;e++)this.permissionArray.push(new b),this.permissionArray[e].module=this.forms[e]}},{key:"setPermissionTrue",value:function(e){var i=this,t=Object.keys(this.permissionArray[e]);t&&t.length&&t.forEach((function(t){"module"!=t&&(i.permissionArray[e][t]=!0)}));for(var n=0;n<this.forms.length;n++){if(this.checkIfAllSelected(n),!this.permissionArray[n].selectAll){this.allRightsFlag=!1;break}this.allRightsFlag=!0}}},{key:"setPermissionFalse",value:function(e){var i=this,t=Object.keys(this.permissionArray[e]);t&&t.length&&t.forEach((function(t){"module"!=t&&(i.permissionArray[e][t]=!1)})),this.allRightsFlag=!1}},{key:"selectAllPermissions",value:function(e){if(1==e.target.checked)for(var i=0;i<this.permissionArray.length;i++)this.setPermissionTrue(i),this.checkIfAllSelected(i);else for(i=0;i<this.permissionArray.length;i++)this.setPermissionFalse(i),this.permissionArray[i].selectAll=!1}},{key:"checkUncheckAll",value:function(e,i){switch(e){case"Party":var t=this.permissionArray.findIndex((function(e){return"Party"==e.module}));1==i.target.checked?this.setPermissionTrue(t):this.setPermissionFalse(t);break;case"Quality":var n=this.permissionArray.findIndex((function(e){return"Quality"==e.module}));1==i.target.checked?this.setPermissionTrue(n):this.setPermissionFalse(n);break;case"User":var s=this.permissionArray.findIndex((function(e){return"User"==e.module}));1==i.target.checked?this.setPermissionTrue(s):this.setPermissionFalse(s);break;case"Stock-Batch":var r=this.permissionArray.findIndex((function(e){return"Stock-Batch"==e.module}));1==i.target.checked?this.setPermissionTrue(r):this.setPermissionFalse(r);break;case"Shade":var a=this.permissionArray.findIndex((function(e){return"Shade"==e.module}));1==i.target.checked?this.setPermissionTrue(a):this.setPermissionFalse(a);break;case"Supplier":var c=this.permissionArray.findIndex((function(e){return"Supplier"==e.module}));1==i.target.checked?this.setPermissionTrue(c):this.setPermissionFalse(c);break;case"Supplier Rate":var d=this.permissionArray.findIndex((function(e){return"Supplier Rate"==e.module}));1==i.target.checked?this.setPermissionTrue(d):this.setPermissionFalse(d);break;case"Color Stock":var o=this.permissionArray.findIndex((function(e){return"Color Stock"==e.module}));1==i.target.checked?this.setPermissionTrue(o):this.setPermissionFalse(o);break;case"Dyeing Process":var l=this.permissionArray.findIndex((function(e){return"Dyeing Process"==e.module}));1==i.target.checked?this.setPermissionTrue(l):this.setPermissionFalse(l);break;case"Production Planning":var u=this.permissionArray.findIndex((function(e){return"Production Planning"==e.module}));1==i.target.checked?this.setPermissionTrue(u):this.setPermissionFalse(u);break;case"Jet Planning":var h=this.permissionArray.findIndex((function(e){return"Jet Planning"==e.module}));1==i.target.checked?this.setPermissionTrue(h):this.setPermissionFalse(h);break;case"Payment":var m=this.permissionArray.findIndex((function(e){return"Payment"==e.module}));1==i.target.checked?this.setPermissionTrue(m):this.setPermissionFalse(m);break;case"Invoice":var g=this.permissionArray.findIndex((function(e){return"Invoice"==e.module}));1==i.target.checked?this.setPermissionTrue(g):this.setPermissionFalse(g);break;case"Finished Meter":var p=this.permissionArray.findIndex((function(e){return"Finished Meter"==e.module}));1==i.target.checked?this.setPermissionTrue(p):this.setPermissionFalse(p);break;case"Input Data":var b=this.permissionArray.findIndex((function(e){return"Input Data"==e.module}));1==i.target.checked?this.setPermissionTrue(b):this.setPermissionFalse(b);break;case"Dyeing Slip":var f=this.permissionArray.findIndex((function(e){return"Dyeing Slip"==e.module}));1==i.target.checked?this.setPermissionTrue(f):this.setPermissionFalse(f);break;case"Employee Registration":var v=this.permissionArray.findIndex((function(e){return"Employee Registration"==e.module}));1==i.target.checked?this.setPermissionTrue(v):this.setPermissionFalse(v);break;case"Attendance":var y=this.permissionArray.findIndex((function(e){return"Attendance"==e.module}));1==i.target.checked?this.setPermissionTrue(y):this.setPermissionFalse(y);break;case"Purchase":var A=this.permissionArray.findIndex((function(e){return"Purchase"==e.module}));1==i.target.checked?this.setPermissionTrue(A):this.setPermissionFalse(A);break;case"Merge-Batch":var j=this.permissionArray.findIndex((function(e){return"Merge-Batch"==e.module}));1==i.target.checked?this.setPermissionTrue(j):this.setPermissionFalse(j);break;case"Report":var k=this.permissionArray.findIndex((function(e){return"Report"==e.module}));1==i.target.checked?this.setPermissionTrue(k):this.setPermissionFalse(k);break;case"Task":var P=this.permissionArray.findIndex((function(e){return"Task"==e.module}));1==i.target.checked?this.setPermissionTrue(P):this.setPermissionFalse(P)}for(var w=0;w<this.forms.length;w++){if(!this.permissionArray[w].selectAll){this.allRightsFlag=!1;break}this.allRightsFlag=!0}}},{key:"checkUncheckSelectAll",value:function(e,i,t){switch(t){case"view":e?this.disableViewDependentPermission=!1:(this.disableViewDependentPermission=!0,this.permissionArray[i].edit=!this.disableViewDependentPermission,this.permissionArray[i].add=!this.disableViewDependentPermission,this.permissionArray[i].delete=!this.disableViewDependentPermission);break;case"viewGroup":e?this.disableViewGroupDependentPermission=!1:(this.disableViewGroupDependentPermission=!0,this.permissionArray[i].editGroup=!this.disableViewGroupDependentPermission,this.permissionArray[i].deleteGroup=!this.disableViewGroupDependentPermission);break;case"viewAll":e?this.disableViewAllDependentPermission=!1:(this.disableViewAllDependentPermission=!0,this.permissionArray[i].editAll=!this.disableViewAllDependentPermission,this.permissionArray[i].deleteAll=!this.disableViewAllDependentPermission)}0==e&&(this.permissionArray[i].selectAll=!1),this.checkIfAllSelected(i);for(var n=0;n<this.forms.length;n++){if(!this.permissionArray[n].selectAll){this.allRightsFlag=!1;break}this.allRightsFlag=!0}}},{key:"checkIfAllSelected",value:function(e){this.permissionArray[e].view&&this.permissionArray[e].add&&this.permissionArray[e].edit&&this.permissionArray[e].delete&&this.permissionArray[e].viewAll&&this.permissionArray[e].viewGroup&&this.permissionArray[e].editGroup&&this.permissionArray[e].editAll&&this.permissionArray[e].deleteGroup&&this.permissionArray[e].deleteAll&&(this.permissionArray[e].selectAll=!0)}},{key:"getCheckedItem",value:function(){var e,i=this,t=Object.assign({},this.binArr1);Object.keys(t).map((function(e,n){t[e]+=1==i.permissionArray[n].view?"1":"0",t[e]+=1==i.permissionArray[n].add?"1":"0",t[e]+=1==i.permissionArray[n].edit?"1":"0",t[e]+=1==i.permissionArray[n].delete?"1":"0",t[e]+=1==i.permissionArray[n].viewGroup?"1":"0",t[e]+=1==i.permissionArray[n].editGroup?"1":"0",t[e]+=1==i.permissionArray[n].deleteGroup?"1":"0",t[e]+=1==i.permissionArray[n].viewAll?"1":"0",t[e]+=1==i.permissionArray[n].editAll?"1":"0",t[e]+=1==i.permissionArray[n].deleteAll?"1":"0"}));var n=Object.keys(t).map((function(n){return e=t[n],function(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}({},n,parseInt(i.bin2dec(e)))})).reduce((function(e,i){return Object.assign(e,i)}),{});Object.keys(n).forEach((function(e,t){i.user.userPermissionData=n}))}},{key:"bin2dec",value:function(e){return parseInt(e,2).toString(10)}},{key:"getCurrentCheckValue",value:function(i){var t,n,s=this,r=0,a={},c=[];Object.keys(i.userPermissionData).map((function(e){"id"!=e&&(t=i.userPermissionData[e],a[e]=t,r++)})),n=Object.assign({},a),r=0;for(var d=0,o=Object.entries(n);d<o.length;d++){var l=e(o[d],2),u=(l[0],l[1]);c[r]=this.dec2bin(u),c[r]=this.pad(c[r],this.perName.length),r++}for(var h="",m=function(e){var i=0;s.perName1.forEach((function(t){"module"!=t&&("1"==c[e][i]?(s.permissionArray[e][t]=!0,h+="1"):(h+="0",s.permissionArray[e][t]=!1),i++)})),s.permissionArray[e].selectAll="1111111111"==h,h=""},g=0;g<this.forms.length;g++)m(g);for(var p=0;p<this.forms.length;p++)this.allRightsFlag=!!this.permissionArray[p].selectAll;for(var b=0;b<this.forms.length;b++){if(!this.permissionArray[b].selectAll){this.allRightsFlag=!1;break}this.allRightsFlag=!0}}},{key:"dec2bin",value:function(e){return(e>>>0).toString(2)}},{key:"pad",value:function(e,i){for(var t=e+"";t.length<i;)t="0"+t;return t}},{key:"checkIsDigit",value:function(e){var i=(e=e||window.event).which?e.which:e.keyCode;return!(i>31&&(i<48||i>57))}},{key:"getCurrentUser",value:function(){var e=this;this.loading=!0,null!=this.currentUserId&&this.userService.getUserById(this.currentUserId).pipe(Object(u.a)(this.destroy$)).subscribe((function(i){i.success&&(e.user=i.data,e.user.isUserHead="team head"!=(e.user&&e.user.designationId&&e.user.designationId?e.user.designationId:"").designation.toLowerCase(),e.isHeadAvailable=e.user.isUserHead,e.user.designationId=i.data.designationId.id,e.getCurrentCheckValue(e.user)),e.loading=!1}),(function(i){e.loading=!1}))}},{key:"updateUser",value:function(e){var i=this;if(this.disableButton=!0,this.loading=!0,this.formSubmitted=!0,e.valid){if(this.user.updatedBy=this.userId.userId,this.getCheckedItem(),this.user.password){var t=new y.Md5;this.user.password=String(t.appendStr(this.user.password).end())}else this.user.password="";this.userService.updateUser(this.user).pipe(Object(u.a)(this.destroy$)).subscribe((function(e){e.success&&(i.route.navigate(["/pages/user"]),i.toastr.success(g.Update_Success)),i.disableButton=!1,i.loading=!1}),(function(e){i.toastr.error(g.Serever_Error),i.loading=!1,i.disableButton=!1}))}else this.disableButton=!1,this.renderer.selectRootElement("#target").scrollIntoView()}},{key:"departmentSelected",value:function(e){this.user.designationId=null,e.userId?(this.user.userHeadId=e.userId,this.user.isUserHead=!0,this.isHeadAvailable=!0):(this.user.userHeadId=Number(this.userId.userId),this.user.isUserHead=!1,this.isHeadAvailable=!1),this.user.isMaster=e.isMaster}},{key:"reset",value:function(e){e.reset(e.value),this.user=new p,this.formSubmitted=!1;for(var i=0;i<this.permissionArray.length;i++)this.setPermissionFalse(i),this.permissionArray[i].selectAll=!1;this.user.isMaster=!0}},{key:"addUser",value:function(e){var i=this;if(this.getCheckedItem(),this.disableButton=!0,this.formSubmitted=!0,e.valid){var t=new y.Md5;this.user.password=String(t.appendStr(this.user.password).end()),this.user.createdBy=this.userId.userId,this.user.isUserHead||(this.user.userHeadId=this.commonService.getUser().userId),this.userService.createUser(this.user).pipe(Object(u.a)(this.destroy$)).subscribe((function(t){t.success?(i.reset(e),i.allRightsFlag=!1,i.disableButton=!1,i.toastr.success(t.msg),i.getUserHeadList(),i.getAllDepartment()):i.toastr.error(t.msg),i.disableButton=!1}),(function(e){i.disableButton=!1,i.toastr.error(g.Serever_Error)}))}else this.disableButton=!1,this.renderer.selectRootElement("#target").scrollIntoView()}},{key:"tableChange",value:function(e){"view table"===e&&this.route.navigate(["/pages/user/view"])}}]),i}()).\u0275fac=function(e){return new(e||W)(j.dc(d.c),j.dc(d.a),j.dc(v.a),j.dc(j.db),j.dc(k.b),j.dc(f.a),j.dc(j.Q),j.dc(A.a))},W.\u0275cmp=j.Xb({type:W,selectors:[["ngx-add-edit-user"]],decls:106,vars:60,consts:[["id","target"],[1,"nb-style"],[1,"nb-header"],[1,"row"],[1,"col-md-5","col-6","display-flex-start","max-width-device"],["placeholder","Select",1,"btn","btn-md",3,"change"],["value","view table"],[1,"col-md-7","col-6"],[4,"ngIf","ngIfElse"],["updateU",""],["myForm","ngForm"],[1,"col-md-4"],[1,"form-group"],[1,"required"],["type","text","name","firstName","fieldsize","small","nbinput","","required","",1,"form-control","size-small",3,"ngModel","ngClass","ngModelChange"],["firstName1","ngModel"],["class","input-required",4,"ngIf"],["name","lastName","fieldsize","small","nbinput","","required","",1,"form-control","size-small",3,"ngModel","ngClass","ngModelChange"],["lastName1","ngModel"],["name","userName","fieldsize","small","nbinput","","required","",1,"form-control","size-small",3,"ngModel","ngClass","change","ngModelChange"],["userName1","ngModel"],["name","email","fieldsize","small","nbinput","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control","size-small",3,"ngModel","ngClass","ngModelChange"],["email1","ngModel"],["name","contact","fieldsize","small","nbinput","","pattern","[6-9]{1}[0-9]{9}","onFocusout","",1,"form-control","size-small",3,"ngModel","ngClass","keypress","ngModelChange"],["contact1","ngModel"],["class","col-md-4",4,"ngIf"],["name","company","appendTo","body","bindLabel","name","bindValue","id","placeholder","Select Company","required","",1,"required-error-dropdown","dropdown-name",3,"ngModel","items","ngClass","ngModelChange"],["company1","ngModel"],["name","departmenty","appendTo","body","bindLabel","name","bindValue","id","placeholder","Select Department","required","",1,"required-error-dropdown","dropdown-name",3,"disabled","ngModel","items","ngClass","ngModelChange","change"],["department1","ngModel"],["name","designation","appendTo","body","placeholder","Select Designation","required","",1,"required-error-dropdown","dropdown-name",3,"ngModel","disabled","ngClass","ngModelChange"],["designation1","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-11","col-10"],[1,"nb-text"],[1,"col-md-1","col-2","user-per-check-display"],[1,"user-all-check",3,"ngModel","change","ngModelChange"],[1,"user-per-table"],[1,"table-checkbox"],[4,"ngFor","ngForOf"],["class","table-checkbox",4,"ngFor","ngForOf"],[1,"nb-pd"],[1,"col-md-12","mobile-btn-center","text-btn-right"],["class","btn btn-primary btn-sm btn-design-cancel","type","button",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm btn-design-cancel","type","button",3,"routerLink",4,"ngIf"],["type","button","class","btn btn-primary btn-sm btn-design-save button-base ripple",3,"disabled","click",4,"ngIf"],["type","submit","class","btn btn-primary btn-sm btn-design-save button-base ripple",3,"disabled","click",4,"ngIf"],[1,"input-required"],["type","password","name","password","fieldsize","small","nbinput","","required","",1,"form-control","size-small",3,"ngModel","ngClass","ngModelChange"],["password1","ngModel"],[3,"value"],["name","assign",1,"form-control","nb-check-user","border-none",3,"checked","ngModel","ngModelChange"],[3,"ngModel","name","ngModelChange","change"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-cancel",3,"routerLink"],["type","button",1,"btn","btn-primary","btn-sm","btn-design-save","button-base","ripple",3,"disabled","click"],["type","submit",1,"btn","btn-primary","btn-sm","btn-design-save","button-base","ripple",3,"disabled","click"]],template:function(e,i){if(1&e&&(j.ec(0,"div",0),j.jc(1,"nb-card",1),j.jc(2,"nb-card-header",2),j.jc(3,"div",3),j.jc(4,"div",4),j.jc(5,"ng-select",5),j.uc("change",(function(e){return i.tableChange(e)})),j.jc(6,"ng-option",6),j.jd(7,"View Table"),j.ic(),j.ic(),j.ic(),j.jc(8,"div",7),j.hd(9,S,3,0,"div",8),j.hd(10,C,2,0,"ng-template",null,9,j.id),j.ic(),j.ic(),j.ic(),j.jc(12,"nb-card-body"),j.jc(13,"div"),j.jc(14,"form",null,10),j.jc(16,"div",3),j.jc(17,"div",11),j.jc(18,"div",12),j.jc(19,"label",13),j.jd(20,"First Name"),j.ic(),j.jc(21,"input",14,15),j.uc("ngModelChange",(function(e){return i.user.firstName=e})),j.ic(),j.hd(23,M,3,0,"div",16),j.ic(),j.ic(),j.jc(24,"div",11),j.jc(25,"div",12),j.jc(26,"label",13),j.jd(27,"Last Name"),j.ic(),j.jc(28,"input",17,18),j.uc("ngModelChange",(function(e){return i.user.lastName=e})),j.ic(),j.hd(30,H,3,0,"div",16),j.ic(),j.ic(),j.jc(31,"div",11),j.jc(32,"div",12),j.jc(33,"label",13),j.jd(34,"User Name"),j.ic(),j.jc(35,"input",19,20),j.uc("change",(function(){return i.checkUserName()}))("ngModelChange",(function(e){return i.user.userName=e})),j.ic(),j.hd(37,x,3,0,"div",16),j.hd(38,U,3,0,"div",16),j.ic(),j.ic(),j.ic(),j.jc(39,"div",3),j.jc(40,"div",11),j.jc(41,"div",12),j.jc(42,"label"),j.jd(43,"Email"),j.ic(),j.jc(44,"input",21,22),j.uc("ngModelChange",(function(e){return i.user.email=e})),j.ic(),j.hd(46,D,3,0,"div",16),j.ic(),j.ic(),j.jc(47,"div",11),j.jc(48,"div",12),j.jc(49,"label"),j.jd(50,"Mobile No."),j.ic(),j.jc(51,"input",23,24),j.uc("keypress",(function(e){return i.checkIsDigit(e)}))("ngModelChange",(function(e){return i.user.contact=e})),j.ic(),j.hd(53,N,3,0,"div",16),j.ic(),j.ic(),j.hd(54,G,7,5,"div",25),j.ic(),j.jc(55,"div",3),j.jc(56,"div",11),j.jc(57,"div",12),j.jc(58,"label",13),j.jd(59,"Company"),j.ic(),j.jc(60,"ng-select",26,27),j.uc("ngModelChange",(function(e){return i.user.companyId=e})),j.ic(),j.hd(62,L,3,0,"div",16),j.ic(),j.ic(),j.jc(63,"div",11),j.jc(64,"div",12),j.jc(65,"label",13),j.jd(66,"Department"),j.ic(),j.jc(67,"ng-select",28,29),j.uc("ngModelChange",(function(e){return i.user.departmentId=e}))("change",(function(e){return i.departmentSelected(e)})),j.ic(),j.hd(69,O,3,0,"div",16),j.ic(),j.ic(),j.jc(70,"div",11),j.jc(71,"div",12),j.jc(72,"label",13),j.jd(73,"Designation"),j.ic(),j.jc(74,"ng-select",30,31),j.uc("ngModelChange",(function(e){return i.user.designationId=e})),j.hd(76,R,2,2,"ng-option",32),j.zc(77,"designationFilter"),j.ic(),j.hd(78,$,3,0,"div",16),j.ic(),j.ic(),j.ic(),j.jc(79,"div",3),j.hd(80,T,4,2,"div",25),j.ic(),j.ic(),j.ic(),j.ic(),j.ic(),j.jc(81,"nb-card",1),j.jc(82,"nb-card-header",2),j.jc(83,"div"),j.jc(84,"div",3),j.jc(85,"div",33),j.jc(86,"h2",34),j.jd(87,"User Permission"),j.ic(),j.ic(),j.jc(88,"div",35),j.jc(89,"nb-checkbox",36),j.uc("change",(function(e){return i.selectAllPermissions(e)}))("ngModelChange",(function(e){return i.allRightsFlag=e})),j.ic(),j.ic(),j.ic(),j.ic(),j.ic(),j.jc(90,"nb-card-body"),j.jc(91,"table",37),j.jc(92,"tr",38),j.jc(93,"th"),j.jd(94,"Forms"),j.ic(),j.jc(95,"th"),j.jd(96,"Select All"),j.ic(),j.hd(97,V,2,1,"th",39),j.ic(),j.hd(98,X,25,23,"tr",40),j.ic(),j.ic(),j.jc(99,"div",41),j.jc(100,"div",3),j.jc(101,"div",42),j.hd(102,B,2,0,"button",43),j.hd(103,z,2,2,"button",44),j.hd(104,_,2,1,"button",45),j.hd(105,J,2,1,"button",46),j.ic(),j.ic(),j.ic(),j.ic()),2&e){var t=j.Uc(11),n=j.Uc(22),s=j.Uc(29),r=j.Uc(36),a=j.Uc(45),c=j.Uc(52),d=j.Uc(61),o=j.Uc(68),l=j.Uc(75);j.Pb(9),j.Hc("ngIf",null==i.currentUserId)("ngIfElse",t),j.Pb(12),j.Hc("ngModel",i.user.firstName)("ngClass",j.Nc(44,F,n.invalid&&(i.formSubmitted||n.touched))),j.Pb(2),j.Hc("ngIf",n.invalid&&(i.formSubmitted||n.touched)),j.Pb(5),j.Hc("ngModel",i.user.lastName)("ngClass",j.Nc(46,F,s.invalid&&(i.formSubmitted||s.touched))),j.Pb(2),j.Hc("ngIf",s.invalid&&(i.formSubmitted||s.touched)),j.Pb(5),j.Hc("ngModel",i.user.userName)("ngClass",j.Nc(48,F,r.invalid&&(i.formSubmitted||r.touched)||i.userNameExist)),j.Pb(2),j.Hc("ngIf",i.userNameExist),j.Pb(1),j.Hc("ngIf",r.invalid&&(i.formSubmitted||r.touched)),j.Pb(6),j.Hc("ngModel",i.user.email)("ngClass",j.Nc(50,F,a.invalid&&(i.formSubmitted||a.touched))),j.Pb(2),j.Hc("ngIf",a.invalid&&(i.formSubmitted||a.touched)),j.Pb(5),j.Hc("ngModel",i.user.contact)("ngClass",j.Nc(52,F,c.invalid)),j.Pb(2),j.Hc("ngIf",c.invalid),j.Pb(1),j.Hc("ngIf",!i.currentUserId||i.isChangePass),j.Pb(6),j.Hc("ngModel",i.user.companyId)("items",i.companyList)("ngClass",j.Nc(54,F,d.invalid&&(i.formSubmitted||d.touched))),j.Pb(2),j.Hc("ngIf",d.invalid&&(i.formSubmitted||d.touched)),j.Pb(5),j.Hc("disabled",i.currentUserId)("ngModel",i.user.departmentId)("items",i.departmentList)("ngClass",j.Nc(56,F,o.invalid&&(i.formSubmitted||o.touched))),j.Pb(2),j.Hc("ngIf",o.invalid&&(i.formSubmitted||o.touched)),j.Pb(5),j.Hc("ngModel",i.user.designationId)("disabled",!i.user.departmentId||i.currentUserId)("ngClass",j.Nc(58,F,l.invalid&&(i.formSubmitted||l.touched))),j.Pb(2),j.Hc("ngForOf",j.Bc(77,41,i.designationList,i.isHeadAvailable)),j.Pb(2),j.Hc("ngIf",l.invalid&&(i.formSubmitted||l.touched)),j.Pb(2),j.Hc("ngIf",i.currentUserId),j.Pb(9),j.Hc("ngModel",i.allRightsFlag),j.Pb(8),j.Hc("ngForOf",i.perName),j.Pb(1),j.Hc("ngForOf",i.permissionArray),j.Pb(4),j.Hc("ngIf",!i.currentUserId),j.Pb(1),j.Hc("ngIf",i.currentUserId),j.Pb(1),j.Hc("ngIf",i.currentUserId),j.Pb(1),j.Hc("ngIf",!i.currentUserId)}},directives:[m.u,m.x,P.a,P.c,c.n,m.t,w.x,w.m,w.n,w.a,w.t,w.l,w.o,c.l,w.r,c.m,m.A,d.d],pipes:[I.a],styles:["tr[_ngcontent-%COMP%]{border-bottom:1pt solid #ddd}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:15px}.required-class[_ngcontent-%COMP%]{display:contents!important;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}"]}),W),K=a("kF6S"),Z=a("Cma1"),Y=a("1kSV"),ee=a("qC+V"),ie=a("lDzL"),te=a("+lss");function ne(e,i){if(1&e){var t=j.kc();j.jc(0,"nb-radio",28),j.uc("valueChange",(function(e){return j.Xc(t),j.yc().onChange(e)})),j.jd(1),j.ic()}if(2&e){var n=i.$implicit;j.Hc("value",n.id)("disabled",n.disabled),j.Pb(1),j.kd(n.value)}}var se=function(){return{type:"zoom"}},re=function(e){return{animation:e}},ae=function(e){return["/pages/user/edit",e]};function ce(e,i){if(1&e&&(j.ec(0,"nb-icon",31),j.jd(1,"\xa0\xa0 "),j.ec(2,"nb-icon",32)),2&e){var t=i.row,n=j.yc(2);j.Hc("options",j.Nc(6,re,j.Mc(5,se)))("hidden",n.hiddenEdit)("routerLink",j.Nc(8,ae,t.id)),j.Pb(2),j.Hc("options",j.Nc(11,re,j.Mc(10,se)))("hidden",n.hidden)}}function de(e,i){1&e&&(j.jc(0,"ngx-datatable-column",29),j.hd(1,ce,3,13,"ng-template",30),j.ic()),2&e&&j.Hc("maxWidth",90)}var oe,le,ue,he=function(){return["/pages/user"]},me=[{path:"",component:Q,canActivate:[o.a],canLoad:[o.a],data:{PermissionName:["add"]}},{path:"view",component:(oe=function(){function e(i,t,n,s,a){r(this,e),this.modalService=i,this.toastr=t,this.userService=n,this.commonService=s,this.userGuard=a,this.errorData=g,this.loading=!1,this.tableStyle="bootstrap",this.userList=[],this.copyUserList=[],this.user=[],this.headers=["User Name","First Name","Last Name","Company","Designation"],this.module="user",this.flag=!1,this.radioSelect=0,this.radioArray=[{id:1,value:"View Own",disabled:!1},{id:2,value:"View Group",disabled:!1},{id:3,value:"View All",disabled:!1}],this.hidden=!0,this.hiddenEdit=!0,this.hiddenView=!0,this.ownDelete=!0,this.allDelete=!0,this.groupDelete=!0,this.ownEdit=!0,this.allEdit=!0,this.groupEdit=!0,this.disabled=!1,this.tableHeaders=["userName","firstName","lastName","company","designation","department"],this.searchStr="",this.searchANDCondition=!1,this.destroy$=new h.a}return s(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngOnInit",value:function(){this.userId=this.commonService.getUser(),this.userId=this.userId.userId,this.userHeadId=this.commonService.getUserHeadId(),this.userHeadId=this.userHeadId.userHeadId,this.getViewAccess(),this.getAddAcess(),this.getDeleteAccess(),this.getDeleteAccess1(),this.getEditAccess(),this.getEditAccess1(),this.userGuard.accessRights("view all")?(this.getAllUser(0,"all"),this.hidden=this.allDelete,this.hiddenEdit=this.allEdit,this.radioSelect=3):this.userGuard.accessRights("view group")?(this.getAllUser(this.userId,"group"),this.hidden=this.groupDelete,this.hiddenEdit=this.groupEdit,this.radioSelect=2):this.userGuard.accessRights("view")&&(this.getAllUser(this.userId,"own"),this.hidden=this.ownDelete,this.hiddenEdit=this.ownEdit,this.radioSelect=1)}},{key:"getAddAcess",value:function(){this.disabled=!this.userGuard.accessRights("add")}},{key:"onChange",value:function(e){switch(this.userList=[],e){case 1:this.getAllUser(this.userId,"own"),this.hidden=this.ownDelete,this.hiddenEdit=this.ownEdit;break;case 2:this.getAllUser(this.userId,"group"),this.hidden=this.groupDelete,this.hiddenEdit=this.groupEdit;break;case 3:this.getAllUser(0,"all"),this.hidden=this.allDelete,this.hiddenEdit=this.allEdit}}},{key:"open",value:function(){this.flag=!0;var e=this.modalService.open(Z.a);e.componentInstance.headers=this.headers,e.componentInstance.list=this.user,e.componentInstance.moduleName=this.module}},{key:"conditionChanged",value:function(){this.filter()}},{key:"filter",value:function(){var e=this,t=this.searchStr.toString().toLowerCase().trim().split("+").map((function(e){return{matched:!1,val:e}}));this.userList=this.copyUserList.filter((function(n){var s,r=0,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw a}}}}(t);try{for(a.s();!(s=a.n()).done;){var c=s.value;if((e.matchString(n,"partyName",c.val)||e.matchString(n,"partyCode",c.val)||e.matchString(n,"partyAddress1",c.val)||e.matchString(n,"contactNo",c.val)||e.matchString(n,"city",c.val)||e.matchString(n,"masterName",c.val))&&(c.matched=!0,r++,!e.searchANDCondition))return!0}}catch(d){a.e(d)}finally{a.f()}if(e.searchANDCondition&&r==t.length)return!0}))}},{key:"matchString",value:function(e,i,t){return!!e[i]&&e[i].toLowerCase().includes(t)}},{key:"getAllUser",value:function(e,i){var t=this;this.loading=!0,this.userService.getAllUser(e,i).pipe(Object(u.a)(this.destroy$)).subscribe((function(e){e.success&&(t.userList=e.data,t.user=t.userList.map((function(e){return{id:e.id,userName:e.userName,firstName:e.firstName,lastName:e.lastName,company:e.company,designation:e.designation,department:e.department}})),t.copyUserList=t.userList.map((function(e){return{id:e.id,userName:e.userName,firstName:e.firstName,lastName:e.lastName,company:e.company,designation:e.designation,department:e.department}}))),t.loading=!1}),(function(e){t.loading=!1}))}},{key:"deleteUser",value:function(e){var i=this;this.modalService.open(K.a,{size:"sm"}).result.then((function(t){t&&i.userService.deleteUserDetailsById(e).pipe(Object(u.a)(i.destroy$)).subscribe((function(e){i.onChange(i.radioSelect)}),(function(e){i.toastr.error(g.Serever_Error)}))}))}},{key:"getViewAccess",value:function(){this.radioArray[0].disabled=!this.userGuard.accessRights("view"),this.radioArray[1].disabled=!this.userGuard.accessRights("view group"),this.radioArray[2].disabled=!this.userGuard.accessRights("view all")}},{key:"getDeleteAccess",value:function(){this.userGuard.accessRights("delete")&&(this.ownDelete=!1,this.hidden=this.ownDelete),this.userGuard.accessRights("delete group")&&(this.groupDelete=!1,this.hidden=this.groupDelete),this.userGuard.accessRights("delete all")&&(this.allDelete=!1,this.hidden=this.allDelete)}},{key:"getDeleteAccess1",value:function(){this.userGuard.accessRights("delete")?(this.ownDelete=!1,this.hidden=this.ownDelete):this.hidden=!0}},{key:"getEditAccess",value:function(){this.userGuard.accessRights("edit")&&(this.ownEdit=!1,this.hiddenEdit=this.ownEdit),this.userGuard.accessRights("edit group")&&(this.groupEdit=!1,this.hiddenEdit=this.groupEdit),this.userGuard.accessRights("edit all")&&(this.allEdit=!1,this.hiddenEdit=this.allEdit)}},{key:"getEditAccess1",value:function(){this.userGuard.accessRights("edit")?(this.ownEdit=!1,this.hiddenEdit=this.ownEdit):this.hiddenEdit=!0}}]),e}(),oe.\u0275fac=function(e){return new(e||oe)(j.dc(Y.e),j.dc(k.b),j.dc(v.a),j.dc(f.a),j.dc(o.a))},oe.\u0275cmp=j.Xb({type:oe,selectors:[["ngx-user"]],decls:38,vars:18,consts:[[3,"show"],[1,"nb-style"],[1,"nb-header"],[1,"row"],[1,"col-md-1","col-3","display-flex-start","max-width-device"],[1,"btn","btn-primary","btn-md","btn-design",3,"routerLink","disabled"],[1,"col-md-9","col-8"],[1,"nb-text"],[1,"col-md-2","col-2","display-flex-start","desktop-justify-flexend"],[1,"btn","btn-md","btn-design",3,"click"],[1,"col-md-6"],[1,"radio-flex-between","mr-16","mobile-pr-0",3,"ngModel","ngModelChange"],[3,"value","disabled","valueChange",4,"ngFor","ngForOf"],[1,"col-md-4"],[2,"display","flex"],[2,"margin-top","4px","margin-right","2px"],["status","primary","labelPosition","start","name","shift",3,"ngModel","ngModelChange"],[2,"margin-top","4px","margin-left","2px"],[1,"col-md-8"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"material",3,"rows","ngClass","headerHeight","footerHeight"],["name","Action","sortable","false","prop","id",3,"maxWidth",4,"ngIf"],["name","User Name","prop","userName"],["name","First Name","prop","firstName"],["name","Last Name","prop","lastName"],["name","Company","prop","company"],["name","Designation","prop","designation"],["name","Department","prop","department"],[3,"value","disabled","valueChange"],["name","Action","sortable","false","prop","id",3,"maxWidth"],["ngx-datatable-cell-template",""],["icon","edit","status","primary",3,"options","hidden","routerLink"],["icon","trash","status","danger",3,"options","hidden"]],template:function(e,i){1&e&&(j.ec(0,"ngx-loading",0),j.jc(1,"nb-card",1),j.jc(2,"nb-card-header",2),j.jc(3,"div",3),j.jc(4,"div",4),j.jc(5,"button",5),j.jd(6,"ADD"),j.ic(),j.ic(),j.jc(7,"div",6),j.jc(8,"h2",7),j.jd(9,"User"),j.ic(),j.ic(),j.jc(10,"div",8),j.jc(11,"button",9),j.uc("click",(function(){return i.open()})),j.jd(12,"EXPORT"),j.ic(),j.ic(),j.ic(),j.ic(),j.jc(13,"nb-card-body"),j.jc(14,"div",3),j.jc(15,"div",10),j.jc(16,"nb-radio-group",11),j.uc("ngModelChange",(function(e){return i.radioSelect=e})),j.hd(17,ne,2,3,"nb-radio",12),j.ic(),j.ic(),j.jc(18,"div",10),j.jc(19,"div",3),j.jc(20,"div",13),j.jc(21,"div",14),j.jc(22,"p",15),j.jd(23,"OR"),j.ic(),j.jc(24,"nb-toggle",16),j.uc("ngModelChange",(function(e){return i.searchANDCondition=e})),j.ic(),j.jc(25,"p",17),j.jd(26,"AND"),j.ic(),j.ic(),j.ic(),j.jc(27,"div",18),j.jc(28,"input",19),j.uc("ngModelChange",(function(e){return i.searchStr=e})),j.ic(),j.ic(),j.ic(),j.ic(),j.ic(),j.jc(29,"ngx-datatable",20),j.zc(30,"searchInTable"),j.hd(31,de,2,1,"ngx-datatable-column",21),j.ec(32,"ngx-datatable-column",22),j.ec(33,"ngx-datatable-column",23),j.ec(34,"ngx-datatable-column",24),j.ec(35,"ngx-datatable-column",25),j.ec(36,"ngx-datatable-column",26),j.ec(37,"ngx-datatable-column",27),j.ic(),j.ic(),j.ic()),2&e&&(j.Hc("show",i.loading),j.Pb(5),j.Hc("routerLink",j.Mc(17,he))("disabled",i.disabled),j.Pb(11),j.Hc("ngModel",i.radioSelect),j.Pb(1),j.Hc("ngForOf",i.radioArray),j.Pb(7),j.Hc("ngModel",i.searchANDCondition),j.Pb(4),j.Hc("ngModel",i.searchStr),j.Pb(1),j.Hc("rows",j.Dc(30,12,i.userList,i.searchStr,i.searchANDCondition,i.tableHeaders))("ngClass",i.tableStyle)("headerHeight",31)("footerHeight",31),j.Pb(2),j.Hc("ngIf",!i.hiddenEdit||!i.hidden))},directives:[ee.a,m.u,m.x,d.d,m.t,m.eb,w.l,w.o,c.m,m.wb,w.a,ie.e,c.l,c.n,ie.b,m.db,ie.a,m.I],pipes:[te.a],styles:[""]}),oe),canActivate:[o.a],canLoad:[o.a],data:{PermissionName:["view","view group","view all"]}},{path:"edit/:id",component:Q,canActivate:[o.a],canLoad:[o.a],data:{PermissionName:["edit","edit group","edit all"]}}],ge=((le=function e(){r(this,e)}).\u0275mod=j.bc({type:le}),le.\u0275inj=j.ac({factory:function(e){return new(e||le)},providers:[o.a],imports:[[d.g.forChild(me)],d.g]}),le),pe=a("yzeJ"),be=a("vTDv"),fe=((ue=function e(){r(this,e)}).\u0275mod=j.bc({type:ue}),ue.\u0275inj=j.ac({factory:function(e){return new(e||ue)},imports:[[c.c,pe.a,ge,w.g,be.a]]}),ue)}}])}();